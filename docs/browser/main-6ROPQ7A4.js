import{a as R,b as he,c as AE,d as $f,e as y,f as xE,g as gc,h as ME,i as RE,j as NE,k as Hf,l as PE,m as mc,n as OE,o as yc,p as kE,q as FE,r as Ce,s as ti,t as mn,u as vc,v as zo,w as VE,x as LE,y as gr,z as _t}from"./chunk-KZ55BCB2.js";var jE=null;var qf=1;function xt(t){let e=jE;return jE=t,e}var BE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function XR(t){if(!(Wf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qf)){if(!t.producerMustRecompute(t)&&!zf(t)){t.dirty=!1,t.lastCleanEpoch=qf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=qf}}function UE(t){return t&&(t.nextProducerIndex=0),xt(t)}function $E(t,e){if(xt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Wf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function zf(t){_c(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(XR(n),r!==n.version))return!0}return!1}function HE(t){if(_c(t),Wf(t))for(let e=0;e<t.producerNode.length;e++)Gf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gf(t,e){if(JR(t),_c(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Gf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_c(i),i.producerIndexOfThis[r]=e}}function Wf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _c(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function JR(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eN(){throw new Error}var tN=eN;function qE(t){tN=t}function G(t){return typeof t=="function"}function is(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wc=is(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof wc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{zE(s)}catch(o){e=e??[],o instanceof wc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ni(n,e)}remove(e){let{_finalizers:n}=this;n&&ni(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Kf=Pe.EMPTY;function Ec(t){return t instanceof Pe||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function zE(t){G(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ss={setTimeout(t,e,...n){let{delegate:r}=ss;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ss;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ic(t){ss.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function Go(){}var GE=(()=>Qf("C",void 0,void 0))();function WE(t){return Qf("E",void 0,t)}function KE(t){return Qf("N",t,void 0)}function Qf(t,e,n){return{kind:t,value:e,error:n}}var ri=null;function os(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ri;if(ri=null,n)throw r}}else t()}function QE(t){Jt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ec(e)&&e.add(this)):this.destination=iN}static create(e,n,r){return new Hn(e,n,r)}next(e){this.isStopped?Zf(KE(e),this):this._next(e)}error(e){this.isStopped?Zf(WE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zf(GE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nN=Function.prototype.bind;function Yf(t,e){return nN.call(t,e)}var Xf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Dc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Dc(r)}else Dc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Dc(n)}}},Hn=class extends ii{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Jt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yf(e.next,s),error:e.error&&Yf(e.error,s),complete:e.complete&&Yf(e.complete,s)}):i=e}this.destination=new Xf(i)}};function Dc(t){Jt.useDeprecatedSynchronousErrorHandling?QE(t):Ic(t)}function rN(t){throw t}function Zf(t,e){let{onStoppedNotification:n}=Jt;n&&ss.setTimeout(()=>n(t,e))}var iN={closed:!0,next:Go,error:rN,complete:Go};var as=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function ct(t){return t}function Jf(...t){return ep(t)}function ep(t){return t.length===0?ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oN(n)?n:new Hn(n,r,i);return os(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=YE(r),new r((i,s)=>{let o=new Hn({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return ep(n)(this)}toPromise(n){return n=YE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function YE(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function sN(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function oN(t){return t&&t instanceof ii||sN(t)&&Ec(t)}function tp(t){return G(t?.lift)}function J(t){return e=>{if(tp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(t,e,n,r,i){return new np(t,e,n,r,i)}var np=class extends ii{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function us(){return J((t,e)=>{let n=null;t._refCount++;let r=ee(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var cs=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ee(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return us()(this)}};var ZE=is(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZE}next(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Kf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ni(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Cc(e,n),t})(),Cc=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Kf}};var et=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wo={now(){return(Wo.delegate||Date).now()},delegate:void 0};var Tc=class extends je{constructor(e=1/0,n=1/0,r=Wo){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}};var bc=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ko={setInterval(t,e,...n){let{delegate:r}=Ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ls=class extends bc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ds.now=Wo.now;var hs=class extends ds{constructor(e,n=ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qo=new hs(ls);var Sc=class extends ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ac=class extends hs{};var rp=new Ac(Sc);var wt=new ne(t=>t.complete());function XE(t){return t&&G(t.schedule)}function ip(t){return t[t.length-1]}function xc(t){return G(ip(t))?t.pop():void 0}function yn(t){return XE(ip(t))?t.pop():void 0}function JE(t,e){return typeof ip(t)=="number"?t.pop():e}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Rc(t){return G(t?.then)}function Nc(t){return G(t[as])}function Pc(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kc=aN();function Fc(t){return G(t?.[kc])}function Vc(t){return ME(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gc(n.read());if(i)return yield gc(void 0);yield yield gc(r)}}finally{n.releaseLock()}})}function Lc(t){return G(t?.getReader)}function _e(t){if(t instanceof ne)return t;if(t!=null){if(Nc(t))return uN(t);if(Mc(t))return cN(t);if(Rc(t))return lN(t);if(Pc(t))return eI(t);if(Fc(t))return dN(t);if(Lc(t))return hN(t)}throw Oc(t)}function uN(t){return new ne(e=>{let n=t[as]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cN(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lN(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ic)})}function dN(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eI(t){return new ne(e=>{fN(t,e).catch(n=>e.error(n))})}function hN(t){return eI(Vc(t))}function fN(t,e){var n,r,i,s;return xE(this,void 0,void 0,function*(){try{for(n=RE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ht(t,e=0){return J((n,r)=>{n.subscribe(ee(r,i=>Et(r,t,()=>r.next(i),e),()=>Et(r,t,()=>r.complete(),e),i=>Et(r,t,()=>r.error(i),e)))})}function en(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tI(t,e){return _e(t).pipe(en(e),Ht(e))}function nI(t,e){return _e(t).pipe(en(e),Ht(e))}function rI(t,e){return new ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function iI(t,e){return new ne(n=>{let r;return Et(n,e,()=>{r=t[kc](),Et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{Et(n,e,()=>{let r=t[Symbol.asyncIterator]();Et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sI(t,e){return jc(Vc(t),e)}function oI(t,e){if(t!=null){if(Nc(t))return tI(t,e);if(Mc(t))return rI(t,e);if(Rc(t))return nI(t,e);if(Pc(t))return jc(t,e);if(Fc(t))return iI(t,e);if(Lc(t))return sI(t,e)}throw Oc(t)}function oe(t,e){return e?oI(t,e):_e(t)}function L(...t){let e=yn(t);return oe(t,e)}function fs(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new ne(e?i=>e.schedule(r,0,i):r)}function sp(t){return!!t&&(t instanceof ne||G(t.lift)&&G(t.subscribe))}var qn=is(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return J((n,r)=>{let i=0;n.subscribe(ee(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pN}=Array;function gN(t,e){return pN(e)?t(...e):t(e)}function Bc(t){return $(e=>gN(t,e))}var{isArray:mN}=Array,{getPrototypeOf:yN,prototype:vN,keys:_N}=Object;function Uc(t){if(t.length===1){let e=t[0];if(mN(e))return{args:e,keys:null};if(wN(e)){let n=_N(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wN(t){return t&&typeof t=="object"&&yN(t)===vN}function $c(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yo(...t){let e=yn(t),n=xc(t),{args:r,keys:i}=Uc(t);if(r.length===0)return oe([],e);let s=new ne(EN(r,e,i?o=>$c(i,o):ct));return n?s.pipe(Bc(n)):s}function EN(t,e,n=ct){return r=>{aI(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)aI(e,()=>{let c=oe(t[u],e),l=!1;c.subscribe(ee(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function aI(t,e,n){t?Et(n,t,e):e()}function uI(t,e,n,r,i,s,o,a){let u=[],c=0,l=0,d=!1,h=()=>{d&&!u.length&&!c&&e.complete()},f=v=>c<r?m(v):u.push(v),m=v=>{s&&e.next(v),c++;let _=!1;_e(n(v,l++)).subscribe(ee(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){let C=u.shift();o?Et(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(ee(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Be(t,e,n=1/0){return G(e)?Be((r,i)=>$((s,o)=>e(r,s,i,o))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),J((r,i)=>uI(r,i,t,n)))}function vn(t=1/0){return Be(ct,t)}function cI(){return vn(1)}function ps(...t){return cI()(oe(t,yn(t)))}function Hc(t){return new ne(e=>{_e(t()).subscribe(e)})}function op(...t){let e=xc(t),{args:n,keys:r}=Uc(t),i=new ne(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,c=o;for(let l=0;l<o;l++){let d=!1;_e(n[l]).subscribe(ee(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?$c(r,a):a),s.complete())}))}});return e?i.pipe(Bc(e)):i}function ap(...t){let e=yn(t),n=JE(t,1/0),r=t;return r.length?r.length===1?_e(r[0]):vn(n)(oe(r,e)):wt}function Qe(t,e){return J((n,r)=>{let i=0;n.subscribe(ee(r,s=>t.call(e,s,i++)&&r.next(s)))})}function mr(t){return J((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ee(n,void 0,void 0,o=>{s=_e(t(o,mr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function lI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ee(o,l=>{let d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function yr(t,e){return G(e)?Be(t,e,1):Be(t,1)}function vr(t){return J((e,n)=>{let r=!1;e.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function zn(t){return t<=0?()=>wt:J((e,n)=>{let r=0;e.subscribe(ee(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function up(t){return $(()=>t)}function cp(t,e=ct){return t=t??IN,J((n,r)=>{let i,s=!0;n.subscribe(ee(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function IN(t,e){return t===e}function qc(t=DN){return J((e,n)=>{let r=!1;e.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DN(){return new qn}function gs(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Mt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ct,zn(1),n?vr(e):qc(()=>new qn))}function ms(t){return t<=0?()=>wt:J((e,n)=>{let r=[];e.subscribe(ee(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ct,ms(1),n?vr(e):qc(()=>new qn))}function Zo(){return J((t,e)=>{let n,r=!1;t.subscribe(ee(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function si(t,e){return J(lI(t,e,arguments.length>=2,!0))}function dI(t={}){let{connector:e=()=>new je,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},m=()=>{let v=o;f(),v?.unsubscribe()};return J((v,_)=>{c++,!d&&!l&&h();let C=u=u??e();_.add(()=>{c--,c===0&&!d&&!l&&(a=dp(m,i))}),C.subscribe(_),!o&&c>0&&(o=new Hn({next:k=>C.next(k),error:k=>{d=!0,h(),a=dp(f,n,k),C.error(k)},complete:()=>{l=!0,h(),a=dp(f,r),C.complete()}}),_e(v).subscribe(o))})(s)}}function dp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Hn({next:()=>{r.unsubscribe(),t()}});return _e(e(...n)).subscribe(r)}function zc(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,dI({connector:()=>new Tc(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function oi(...t){let e=yn(t);return J((n,r)=>{(e?ps(t,n,e):ps(t,n)).subscribe(r)})}function Te(t,e){return J((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ee(r,u=>{i?.unsubscribe();let c=0,l=s++;_e(t(u,l)).subscribe(i=ee(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gc(t,e){return G(e)?Te(()=>t,e):Te(()=>t)}function hp(t){return J((e,n)=>{_e(t).subscribe(ee(n,()=>n.complete(),Go)),!n.closed&&e.subscribe(n)})}function Se(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ee(s,u=>{var c;(c=r.next)===null||c===void 0||c.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,u),s.error(u)},()=>{var u,c;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ct}function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function Wc(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CN=ge({__forward_ref__:ge});function Xn(t){return t.__forward_ref__=Xn,t.toString=function(){return dt(this())},t}function lt(t){return XI(t)?t():t}function XI(t){return typeof t=="function"&&t.hasOwnProperty(CN)&&t.__forward_ref__===Xn}function JI(t){return t&&!!t.\u0275providers}var eD="https://g.co/ng/security#xss",F=class extends Error{constructor(e,n){super(Ml(e,n)),this.code=e}};function Ml(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var TN=ge({\u0275cmp:ge}),bN=ge({\u0275dir:ge}),SN=ge({\u0275pipe:ge}),AN=ge({\u0275mod:ge}),al=ge({\u0275fac:ge}),Jo=ge({__NG_ELEMENT_ID__:ge}),fI=ge({__NG_ENV_ID__:ge});function Rl(t){return typeof t=="string"?t:t==null?"":String(t)}function xN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rl(t)}function MN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new F(-200,`Circular dependency in DI detected for ${t}${n}`)}function Tg(t,e){let n=e?` in ${e}`:"";throw new F(-201,!1)}function RN(t,e){t==null&&NN(e,t,null,"!=")}function NN(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ue(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nl(t){return pI(t,nD)||pI(t,rD)}function tD(t){return Nl(t)!==null}function pI(t,e){return t.hasOwnProperty(e)?t[e]:null}function PN(t){let e=t&&(t[nD]||t[rD]);return e||null}function gI(t){return t&&(t.hasOwnProperty(mI)||t.hasOwnProperty(ON))?t[mI]:null}var nD=ge({\u0275prov:ge}),mI=ge({\u0275inj:ge}),rD=ge({ngInjectableDef:ge}),ON=ge({ngInjectorDef:ge}),re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),xp;function iD(){return xp}function qt(t){let e=xp;return xp=t,e}function sD(t,e,n){let r=Nl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Tg(dt(t),"Injector")}var ht=globalThis;var N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var kN={},ta=kN,Mp="__NG_DI_FLAG__",ul="ngTempTokenPath",FN="ngTokenPath",VN=/\n/gm,LN="\u0275",yI="__source",Es;function jN(){return Es}function _r(t){let e=Es;return Es=t,e}function BN(t,e=re.Default){if(Es===void 0)throw new F(-203,!1);return Es===null?sD(t,void 0,e):Es.get(t,e&re.Optional?null:void 0,e)}function T(t,e=re.Default){return(iD()||BN)(lt(t),e)}function b(t,e=re.Default){return T(t,Pl(e))}function Pl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Rp(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=UN(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function oD(t,e){return t[Mp]=e,t.prototype[Mp]=e,t}function UN(t){return t[Mp]}function $N(t,e,n,r){let i=t[ul];throw e[yI]&&i.unshift(e[yI]),t.message=HN(`
`+t.message,i,n,r),t[FN]=i,t[ul]=null,t}function HN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==LN?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VN,`
  `)}`}function da(t){return{toString:t}.toString()}var aD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aD||{}),Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{}),Ds={},Rt=[];function uD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Np(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];qN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function cD(t){return t===3||t===4||t===6}function qN(t){return t.charCodeAt(0)===64}function na(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vI(t,n,i,null,e[++r]):vI(t,n,i,null,null))}}return t}function vI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var lD="ng-template";function zN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&uD(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function dD(t){return t.type===4&&t.value!==lD}function GN(t,e,n){let r=t.type===4&&!n?lD:t.value;return e===r}function WN(t,e,n){let r=4,i=t.attrs||[],s=YN(i),o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!tn(r)&&!tn(u))return!1;if(o&&tn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!GN(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;o=!0}}else{let c=r&8?u:e[++a];if(r&8&&t.attrs!==null){if(!zN(t.attrs,c,n)){if(tn(r))return!1;o=!0}continue}let l=r&8?"class":u,d=KN(l,i,dD(t),n);if(d===-1){if(tn(r))return!1;o=!0;continue}if(c!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&uD(f,c,0)!==-1||r&2&&c!==h){if(tn(r))return!1;o=!0}}}}return tn(r)||o}function tn(t){return(t&1)===0}function KN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return ZN(e,t)}function QN(t,e,n=!1){for(let r=0;r<e.length;r++)if(WN(t,e[r],n))return!0;return!1}function YN(t){for(let e=0;e<t.length;e++){let n=t[e];if(cD(n))return e}return t.length}function ZN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _I(t,e){return t?":not("+e.trim()+")":e}function XN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!tn(o)&&(e+=_I(s,i),i=""),r=o,s=s||!tn(r);n++}return i!==""&&(e+=_I(s,i)),e}function JN(t){return t.map(XN).join(",")}function eP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!tn(i))break;i=s}r++}return{attrs:e,classes:n}}function Tn(t){return da(()=>{let e=mD(t),n=he(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});yD(n);let r=t.dependencies;return n.directiveDefs=EI(r,!1),n.pipeDefs=EI(r,!0),n.id=rP(n),n})}function tP(t){return Er(t)||hD(t)}function nP(t){return t!==null}function $e(t){return da(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function wI(t,e){if(t==null)return Ds;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ke(t){return da(()=>{let e=mD(t);return yD(e),e})}function Er(t){return t[TN]||null}function hD(t){return t[bN]||null}function fD(t){return t[SN]||null}function pD(t){let e=Er(t)||hD(t)||fD(t);return e!==null?e.standalone:!1}function gD(t,e){let n=t[AN]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function mD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ds,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wI(t.inputs,e),outputs:wI(t.outputs),debugInfo:null}}function yD(t){t.features?.forEach(e=>e(t))}function EI(t,e){if(!t)return null;let n=e?fD:tP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nP)}function rP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Nt=0,te=1,q=2,Oe=3,nn=4,sn=5,Gn=6,ra=7,Wn=8,Cs=9,Kn=10,xe=11,ia=12,II=13,ha=14,zt=15,fa=16,ys=17,En=18,Ol=19,vD=20,wr=21,fp=22,ui=23,Pt=25,_D=1,sa=6,Qn=7,cl=8,Ts=9,It=10,bs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(bs||{});function In(t){return Array.isArray(t)&&typeof t[_D]=="object"}function Gt(t){return Array.isArray(t)&&t[_D]===!0}function wD(t){return(t.flags&4)!==0}function pa(t){return t.componentOffset>-1}function bg(t){return(t.flags&1)===1}function Ir(t){return!!t.template}function ED(t){return(t[q]&512)!==0}function Ss(t,e){let n=t.hasOwnProperty(al);return n?t[al]:null}var Pp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jn(){return ID}function ID(t){return t.type.prototype.ngOnChanges&&(t.setInput=sP),iP}Jn.ngInherit=!0;function iP(){let t=CD(this),e=t?.current;if(e){let n=t.previous;if(n===Ds)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sP(t,e,n,r){let i=this.declaredInputs[n],s=CD(t)||oP(t,{previous:Ds,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Pp(u&&u.currentValue,e,a===Ds),t[r]=e}var DD="__ngSimpleChanges__";function CD(t){return t[DD]||null}function oP(t,e){return t[DD]=e}var DI=null;var _n=function(t,e,n){DI?.(t,e,n)},aP="svg",uP="math",cP=!1;function lP(){return cP}function rn(t){for(;Array.isArray(t);)t=t[Nt];return t}function TD(t,e){return rn(e[t])}function kt(t,e){return rn(e[t.index])}function bD(t,e){return t.data[e]}function Cr(t,e){let n=e[t];return In(n)?n:n[Nt]}function dP(t){return(t[q]&4)===4}function Sg(t){return(t[q]&128)===128}function hP(t){return Gt(t[Oe])}function ll(t,e){return e==null?null:t[e]}function SD(t){t[ys]=0}function fP(t){t[q]&1024||(t[q]|=1024,Sg(t)&&oa(t))}function AD(t){return t[q]&9216||t[ui]?.dirty}function Op(t){AD(t)?oa(t):t[q]&64&&(lP()?(t[q]|=1024,oa(t)):t[Kn].changeDetectionScheduler?.notify())}function oa(t){t[Kn].changeDetectionScheduler?.notify();let e=t[Oe];for(;e!==null&&!(Gt(e)&&e[q]&bs.HasChildViewsToRefresh||In(e)&&e[q]&8192);){if(Gt(e))e[q]|=bs.HasChildViewsToRefresh;else if(e[q]|=8192,!Sg(e))break;e=e[Oe]}}function xD(t,e){if((t[q]&256)===256)throw new F(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function pP(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}var ae={lFrame:FD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gP(){return ae.lFrame.elementDepthCount}function mP(){ae.lFrame.elementDepthCount++}function yP(){ae.lFrame.elementDepthCount--}function MD(){return ae.bindingsEnabled}function ga(){return ae.skipHydrationRootTNode!==null}function vP(t){return ae.skipHydrationRootTNode===t}function _P(t){ae.skipHydrationRootTNode=t}function wP(){ae.skipHydrationRootTNode=null}function ye(){return ae.lFrame.lView}function Ft(){return ae.lFrame.tView}function Dt(){let t=RD();for(;t!==null&&t.type===64;)t=t.parent;return t}function RD(){return ae.lFrame.currentTNode}function EP(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ma(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function ND(){return ae.lFrame.isParent}function IP(){ae.lFrame.isParent=!1}function DP(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CP(t){return ae.lFrame.bindingIndex=t}function Ag(){return ae.lFrame.bindingIndex++}function TP(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bP(){return ae.lFrame.inI18n}function SP(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,kp(e)}function AP(){return ae.lFrame.currentDirectiveIndex}function kp(t){ae.lFrame.currentDirectiveIndex=t}function xP(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function PD(){return ae.lFrame.currentQueryIndex}function xg(t){ae.lFrame.currentQueryIndex=t}function MP(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function OD(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=MP(s),i===null||(s=s[ha],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=kD();return r.currentTNode=e,r.lView=t,!0}function Mg(t){let e=kD(),n=t[te];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kD(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?FD(t):e}function FD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function VD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var LD=VD;function Rg(){let t=VD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ns(){return ae.lFrame.selectedIndex}function ci(t){ae.lFrame.selectedIndex=t}function jD(){let t=ae.lFrame;return bD(t.tView,t.selectedIndex)}function BD(){return ae.lFrame.currentNamespace}var UD=!0;function Ng(){return UD}function Tr(t){UD=t}function RP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ID(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Pg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function tl(t,e,n){$D(t,e,3,n)}function nl(t,e,n,r){(t[q]&3)===n&&$D(t,e,n,r)}function pp(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function $D(t,e,n,r){let i=r!==void 0?t[ys]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ys]+=65536),(a<s||s==-1)&&(NP(t,n,e,u),t[ys]=(t[ys]&4294901760)+u+2),u++}function CI(t,e){_n(4,t,e);let n=xt(null);try{e.call(t)}finally{xt(n),_n(5,t,e)}}function NP(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[q]>>14<t[ys]>>16&&(t[q]&3)===e&&(t[q]+=16384,CI(a,s)):CI(a,s)}var Is=-1,li=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function PP(t){return t instanceof li}function OP(t){return(t.flags&8)!==0}function kP(t){return(t.flags&16)!==0}function HD(t){return t!==Is}function dl(t){let e=t&32767;return t&32767}function FP(t){return t>>16}function hl(t,e){let n=FP(t),r=e;for(;n>0;)r=r[ha],n--;return r}var Fp=!0;function TI(t){let e=Fp;return Fp=t,e}var VP=256,qD=VP-1,zD=5,LP=0,wn={};function jP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),r==null&&(r=n[Jo]=LP++);let i=r&qD,s=1<<i;e.data[t+(i>>zD)]|=s}function fl(t,e){let n=GD(t,e);if(n!==-1)return n;let r=e[te];r.firstCreatePass&&(t.injectorIndex=e.length,gp(r.data,t),gp(e,null),gp(r.blueprint,null));let i=Og(t,e),s=t.injectorIndex;if(HD(i)){let o=dl(i),a=hl(i,e),u=a[te].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function gp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Og(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ZD(i),r===null)return Is;if(n++,i=i[ha],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Is}function Vp(t,e,n){jP(t,e,n)}function BP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(cD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function WD(t,e,n){if(n&re.Optional||t!==void 0)return t;Tg(e,"NodeInjector")}function KD(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[Cs],s=qt(void 0);try{return i?i.get(e,r,n&re.Optional):sD(e,r,n&re.Optional)}finally{qt(s)}}return WD(r,e,n)}function QD(t,e,n,r=re.Default,i){if(t!==null){if(e[q]&2048&&!(r&re.Self)){let o=qP(t,e,n,r,wn);if(o!==wn)return o}let s=YD(t,e,n,r,wn);if(s!==wn)return s}return KD(e,n,r,i)}function YD(t,e,n,r,i){let s=$P(n);if(typeof s=="function"){if(!OD(e,t,r))return r&re.Host?WD(i,n,r):KD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Tg(n);else return o}finally{LD()}}else if(typeof s=="number"){let o=null,a=GD(t,e),u=Is,c=r&re.Host?e[zt][sn]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?Og(t,e):e[a+8],u===Is||!SI(r,!1)?a=-1:(o=e[te],a=dl(u),e=hl(u,e)));a!==-1;){let l=e[te];if(bI(s,a,l.data)){let d=UP(a,e,n,o,r,c);if(d!==wn)return d}u=e[a+8],u!==Is&&SI(r,e[te].data[a+8]===c)&&bI(s,a,e)?(o=l,a=dl(u),e=hl(u,e)):a=-1}}return i}function UP(t,e,n,r,i,s){let o=e[te],a=o.data[t+8],u=r==null?pa(a)&&Fp:r!=o&&(a.type&3)!==0,c=i&re.Host&&s===a,l=rl(a,o,n,u,c);return l!==null?di(e,o,l,a):wn}function rl(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,c=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:c;for(let f=d;f<h;f++){let m=o[f];if(f<u&&n===m||f>=u&&m.type===n)return f}if(i){let f=o[u];if(f&&Ir(f)&&f.type===n)return u}return null}function di(t,e,n,r){let i=t[n],s=e.data;if(PP(i)){let o=i;o.resolving&&MN(xN(s[n]));let a=TI(o.canSeeViewProviders);o.resolving=!0;let u,c=o.injectImpl?qt(o.injectImpl):null,l=OD(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&RP(n,s[n],e)}finally{c!==null&&qt(c),TI(a),o.resolving=!1,LD()}}return i}function $P(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jo)?t[Jo]:void 0;return typeof e=="number"?e>=0?e&qD:HP:e}function bI(t,e,n){let r=1<<t;return!!(n[e+(t>>zD)]&r)}function SI(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var ai=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return QD(this._tNode,this._lView,e,Pl(r),n)}};function HP(){return new ai(Dt(),ye())}function br(t){return da(()=>{let e=t.prototype.constructor,n=e[al]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[al]||Lp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Lp(t){return XI(t)?()=>{let e=Lp(lt(t));return e&&e()}:Ss(t)}function qP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[q]&2048&&!(o[q]&512);){let a=YD(s,o,n,r|re.Self,wn);if(a!==wn)return a;let u=s.parent;if(!u){let c=o[vD];if(c){let l=c.get(n,wn,r);if(l!==wn)return l}u=ZD(o),o=o[ha]}s=u}return i}function ZD(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function kg(t){return BP(Dt(),t)}var Kc="__parameters__";function zP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XD(t,e,n){return da(()=>{let r=zP(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,c,l){let d=u.hasOwnProperty(Kc)?u[Kc]:Object.defineProperty(u,Kc,{value:[]})[Kc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function GP(t){let e=ht.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WP(t){return typeof t=="function"}function KP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function QP(t){return t.flat(Number.POSITIVE_INFINITY)}function Fg(t,e){t.forEach(n=>Array.isArray(n)?Fg(n,e):e(n))}function JD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YP(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ZP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function XP(t,e,n){let r=ya(t,e);return r>=0?t[r|1]=n:(r=~r,ZP(t,r,e,n)),r}function mp(t,e){let n=ya(t,e);if(n>=0)return t[n|1]}function ya(t,e){return JP(t,e,1)}function JP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ps=oD(XD("Optional"),8);var Vg=oD(XD("SkipSelf"),4);function e1(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(i1))}return s}return gl.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[c+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>s1(s));e.push(u)}),n1(),Promise.all(e).then(()=>{})}var gl=new Map,t1=new Set;function n1(){let t=gl;return gl=new Map,t}function r1(){return gl.size===0}function i1(t){return typeof t=="string"?t:t.text()}function s1(t){t1.delete(t)}var hi=new N("ENVIRONMENT_INITIALIZER"),e0=new N("INJECTOR",-1),t0=new N("INJECTOR_DEF_TYPES"),ml=class{get(e,n=ta){if(n===ta){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}};function va(t){return{\u0275providers:t}}function o1(...t){return{\u0275providers:n0(!0,t),\u0275fromNgModule:!0}}function n0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Fg(e,o=>{let a=o;jp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&r0(i,s),n}function r0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lg(i,s=>{e(s,r)})}}function jp(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,s=gI(t),o=!s&&Er(t);if(!s&&!o){let u=t.ngModule;if(s=gI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of u)jp(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Fg(s.imports,l=>{jp(l,e,n,r)&&(c||=[],c.push(l))})}finally{}c!==void 0&&r0(c,e)}if(!a){let c=Ss(i)||(()=>new i);e({provide:i,useFactory:c,deps:Rt},i),e({provide:t0,useValue:i,multi:!0},i),e({provide:hi,useValue:()=>T(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let c=t;Lg(u,l=>{e(l,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Lg(t,e){for(let n of t)JI(n)&&(n=n.\u0275providers),Array.isArray(n)?Lg(n,e):e(n)}var a1=ge({provide:String,useValue:ge});function i0(t){return t!==null&&typeof t=="object"&&a1 in t}function u1(t){return!!(t&&t.useExisting)}function c1(t){return!!(t&&t.useFactory)}function As(t){return typeof t=="function"}function l1(t){return!!t.useClass}var kl=new N("Set Injector scope."),il={},d1={},yp;function jg(){return yp===void 0&&(yp=new ml),yp}var Ot=class{},aa=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Up(e,o=>this.processProvider(o)),this.records.set(e0,vs(void 0,this)),i.has("environment")&&this.records.set(Ot,vs(void 0,this));let s=this.records.get(kl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(t0,Rt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=_r(this),r=qt(void 0),i;try{return e()}finally{_r(n),qt(r)}}get(e,n=ta,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fI))return e[fI](this);r=Pl(r);let i,s=_r(this),o=qt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let c=m1(e)&&Nl(e);c&&this.injectableDefInScope(c)?u=vs(Bp(e),il):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?jg():this.parent;return n=r&re.Optional&&n===ta?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ul]=a[ul]||[]).unshift(dt(e)),s)throw a;return $N(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(o),_r(s)}}resolveInjectorInitializers(){let e=_r(this),n=qt(void 0),r;try{let i=this.get(hi,Rt,re.Self);for(let s of i)s()}finally{_r(e),qt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){e=lt(e);let n=As(e)?e:lt(e&&e.provide),r=f1(e);if(!As(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vs(void 0,il,!0),i.factory=()=>Rp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===il&&(n.value=d1,n.value=n.factory()),typeof n.value=="object"&&n.value&&g1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bp(t){let e=Nl(t),n=e!==null?e.factory:Ss(t);if(n!==null)return n;if(t instanceof N)throw new F(204,!1);if(t instanceof Function)return h1(t);throw new F(204,!1)}function h1(t){let e=t.length;if(e>0){let r=YP(e,"?");throw new F(204,!1)}let n=PN(t);return n!==null?()=>n.factory(t):()=>new t}function f1(t){if(i0(t))return vs(void 0,t.useValue);{let e=s0(t);return vs(e,il)}}function s0(t,e,n){let r;if(As(t)){let i=lt(t);return Ss(i)||Bp(i)}else if(i0(t))r=()=>lt(t.useValue);else if(c1(t))r=()=>t.useFactory(...Rp(t.deps||[]));else if(u1(t))r=()=>T(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(p1(t))r=()=>new i(...Rp(t.deps));else return Ss(i)||Bp(i)}return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function p1(t){return!!t.deps}function g1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function m1(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Up(t,e){for(let n of t)Array.isArray(n)?Up(n,e):n&&JI(n)?Up(n.\u0275providers,e):e(n)}function er(t,e){t instanceof aa&&t.assertNotDestroyed();let n,r=_r(t),i=qt(void 0);try{return e()}finally{_r(r),qt(i)}}function y1(t){if(!iD()&&!jN())throw new F(-203,!1)}function AI(t,e=null,n=null,r){let i=o0(t,e,n,r);return i.resolveInjectorInitializers(),i}function o0(t,e=null,n=null,r,i=new Set){let s=[n||Rt,o1(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new aa(s,e||jg(),r||null,i)}var Vt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return AI({name:""},i,r,"");{let s=r.name??"";return AI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ta,e.NULL=new ml,e.\u0275prov=j({token:e,providedIn:"any",factory:()=>T(e0)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $p;function a0(t){$p=t}function Fl(){if($p!==void 0)return $p;if(typeof document<"u")return document;throw new F(210,!1)}var _a=new N("AppId",{providedIn:"root",factory:()=>v1}),v1="ng",Bg=new N("Platform Initializer"),ft=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ug=new N("CSP nonce",{providedIn:"root",factory:()=>Fl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function _1(t){return t.ownerDocument.body}function u0(t){return t instanceof Function?t():t}function Xo(t){return(t??b(Vt)).get(ft)==="browser"}var w1="ngSkipHydration",E1="ngskiphydration";function c0(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===E1)return!0}return!1}function l0(t){return t.hasAttribute(w1)}function yl(t){return(t.flags&128)===128}function I1(t){if(yl(t))return!0;let e=t.parent;for(;e;){if(yl(t)||c0(e))return!0;e=e.parent}return!1}var Yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yn||{}),D1=/^>|^->|<!--|-->|--!>|<!-$/g,C1=/(<|>)/g,T1="\u200B$1\u200B";function b1(t){return t.replace(D1,e=>e.replace(C1,T1))}var d0=new Map,S1=0;function A1(){return S1++}function x1(t){d0.set(t[Ol],t)}function M1(t){d0.delete(t[Ol])}var xI="__ngContext__";function fi(t,e){In(e)?(t[xI]=e[Ol],x1(e)):t[xI]=e}var R1;function $g(t,e){return R1(t,e)}function Hg(t){let e=t[Oe];return Gt(e)?e[Oe]:e}function h0(t){return p0(t[ia])}function f0(t){return p0(t[nn])}function p0(t){for(;t!==null&&!Gt(t);)t=t[nn];return t}function _s(t,e,n,r,i){if(r!=null){let s,o=!1;Gt(r)?s=r:In(r)&&(o=!0,r=r[Nt]);let a=rn(r);t===0&&n!==null?i==null?_0(e,n,a):vl(e,n,a,i||null,!0):t===1&&n!==null?vl(e,n,a,i||null,!0):t===2?E0(e,a,o):t===3&&e.destroyNode(a),s!=null&&Q1(e,t,s,n,i)}}function g0(t,e){return t.createText(e)}function N1(t,e,n){t.setValue(e,n)}function m0(t,e){return t.createComment(b1(e))}function qg(t,e,n){return t.createElement(e,n)}function P1(t,e){let n=e[xe];wa(t,e,n,2,null,null),e[Nt]=null,e[sn]=null}function O1(t,e,n,r,i,s){r[Nt]=i,r[sn]=e,wa(t,r,n,1,i,s)}function k1(t,e){wa(t,e,e[xe],2,null,null)}function F1(t){let e=t[ia];if(!e)return vp(t[te],t);for(;e;){let n=null;if(In(e))n=e[ia];else{let r=e[It];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)In(e)&&vp(e[te],e),e=e[Oe];e===null&&(e=t),In(e)&&vp(e[te],e),n=e&&e[nn]}e=n}}function V1(t,e,n,r){let i=It+r,s=n.length;r>0&&(n[i-1][nn]=e),r<s-It?(e[nn]=n[i],JD(n,It+r,e)):(n.push(e),e[nn]=null),e[Oe]=n;let o=e[fa];o!==null&&n!==o&&L1(o,e);let a=e[En];a!==null&&a.insertView(t),Op(e),e[q]|=128}function L1(t,e){let n=t[Ts],i=e[Oe][Oe][zt];e[zt]!==i&&(t[q]|=bs.HasTransplantedViews),n===null?t[Ts]=[e]:n.push(e)}function y0(t,e){let n=t[Ts],r=n.indexOf(e),i=e[Oe];n.splice(r,1)}function Hp(t,e){if(t.length<=It)return;let n=It+e,r=t[n];if(r){let i=r[fa];i!==null&&i!==t&&y0(i,r),e>0&&(t[n-1][nn]=r[nn]);let s=pl(t,It+e);P1(r[te],r);let o=s[En];o!==null&&o.detachView(s[te]),r[Oe]=null,r[nn]=null,r[q]&=-129}return r}function v0(t,e){if(!(e[q]&256)){let n=e[xe];n.destroyNode&&wa(t,e,n,3,null,null),F1(e)}}function vp(t,e){if(!(e[q]&256)){e[q]&=-129,e[q]|=256,e[ui]&&HE(e[ui]),B1(t,e),j1(t,e),e[te].type===1&&e[xe].destroy();let n=e[fa];if(n!==null&&Gt(e[Oe])){n!==e[Oe]&&y0(n,e);let r=e[En];r!==null&&r.detachView(t)}M1(e)}}function j1(t,e){let n=t.cleanup,r=e[ra];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ra]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function B1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof li)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];_n(4,a,u);try{u.call(a)}finally{_n(5,a,u)}}else{_n(4,i,s);try{s.call(i)}finally{_n(5,i,s)}}}}}function U1(t,e,n){return $1(t,e.parent,n)}function $1(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Nt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Dn.None||s===Dn.Emulated)return null}return kt(r,n)}}function vl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _0(t,e,n){t.appendChild(e,n)}function MI(t,e,n,r,i){r!==null?vl(t,e,n,r,i):_0(t,e,n)}function H1(t,e,n,r){t.removeChild(e,n,r)}function zg(t,e){return t.parentNode(e)}function q1(t,e){return t.nextSibling(e)}function z1(t,e,n){return W1(t,e,n)}function G1(t,e,n){return t.type&40?kt(t,n):null}var W1=G1,RI;function Gg(t,e,n,r){let i=U1(t,r,e),s=e[xe],o=r.parent||e[sn],a=z1(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)MI(s,i,n[u],a,!1);else MI(s,i,n,a,!1);RI!==void 0&&RI(s,r,e,n,i)}function sl(t,e){if(e!==null){let n=e.type;if(n&3)return kt(e,t);if(n&4)return qp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sl(t,r);{let i=t[e.index];return Gt(i)?qp(-1,i):rn(i)}}else{if(n&32)return $g(e,t)()||rn(t[e.index]);{let r=w0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hg(t[zt]);return sl(i,r)}else return sl(t,e.next)}}}return null}function w0(t,e){if(e!==null){let r=t[zt][sn],i=e.projection;return r.projection[i]}return null}function qp(t,e){let n=It+t+1;if(n<e.length){let r=e[n],i=r[te].firstChild;if(i!==null)return sl(r,i)}return e[Qn]}function E0(t,e,n){let r=zg(t,e);r&&H1(t,r,e,n)}function I0(t){t.textContent=""}function Wg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&fi(rn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Wg(t,e,n.child,r,i,s,!1),_s(e,t,i,a,s);else if(u&32){let c=$g(n,r),l;for(;l=c();)_s(e,t,i,l,s);_s(e,t,i,a,s)}else u&16?K1(t,e,r,n,i,s):_s(e,t,i,a,s);n=o?n.projectionNext:n.next}}function wa(t,e,n,r,i,s){Wg(n,r,t.firstChild,e,i,s,!1)}function K1(t,e,n,r,i,s){let o=n[zt],u=o[sn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++){let l=u[c];_s(e,t,i,l,s)}else{let c=u,l=o[Oe];yl(r)&&(c.flags|=128),Wg(t,e,c,l,i,s,!0)}}function Q1(t,e,n,r,i){let s=n[Qn],o=rn(n);s!==o&&_s(e,t,r,s,i);for(let a=It;a<n.length;a++){let u=n[a];wa(u[te],u,t,e,r,s)}}function Y1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Yn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Yn.Important),t.setStyle(n,r,i,s))}}function Z1(t,e,n){t.setAttribute(e,"style",n)}function D0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function C0(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Np(t,e,r),i!==null&&D0(t,e,i),s!==null&&Z1(t,e,s)}var Qc;function X1(){if(Qc===void 0&&(Qc=null,ht.trustedTypes))try{Qc=ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qc}function NI(t){return X1()?.createScriptURL(t)||t}var _l=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eD})`}};function Ea(t){return t instanceof _l?t.changingThisBreaksApplicationSecurity:t}function Kg(t,e){let n=J1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${eD})`)}return n===e}function J1(t){return t instanceof _l&&t.getTypeName()||null}var eO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function T0(t){return t=String(t),t.match(eO)?t:"unsafe:"+t}var Vl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vl||{});function tO(t){let e=S0();return e?e.sanitize(Vl.URL,t)||"":Kg(t,"URL")?Ea(t):T0(Rl(t))}function nO(t){let e=S0();if(e)return NI(e.sanitize(Vl.RESOURCE_URL,t)||"");if(Kg(t,"ResourceURL"))return NI(Ea(t));throw new F(904,!1)}function rO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nO:tO}function b0(t,e,n){return rO(e,n)(t)}function S0(){let t=ye();return t&&t[Kn].sanitizer}var zp=class{};function iO(){let t=new mi;return b(ft)==="browser"&&(t.store=sO(Fl(),b(_a))),t}var mi=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=j({token:e,providedIn:"root",factory:iO});let t=e;return t})();function sO(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var A0="h",x0="b",Gp=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Gp||{}),oO="e",aO="t",Qg="c",M0="x",wl="r",uO="i",cO="n",lO="d",dO="__nghData__",R0=dO,_p="ngh",hO="nghm",N0=(t,e,n)=>null;function fO(t,e,n=!1){let r=t.getAttribute(_p);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=n?i:s?`|${s}`:"",a={};if(r!==""){let c=e.get(mi,null,{optional:!0});c!==null&&(a=c.get(R0,[])[Number(r)])}let u={data:a,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Ll(u,0,t.nextSibling)),o?t.setAttribute(_p,o):t.removeAttribute(_p),u}function pO(){N0=fO}function Yg(t,e,n=!1){return N0(t,e,n)}function gO(t){let e=t._lView;return e[te].type===2?null:(ED(e)&&(e=e[Pt]),e)}function mO(t){return t.textContent?.replace(/\s/gm,"")}function yO(t){let e=Fl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=mO(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Ll(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Wp(t,e){return t.segmentHeads?.[e]??null}function vO(t,e){let n=t.data,r=n[oO]?.[e]??null;return r===null&&n[Qg]?.[e]&&(r=Zg(t,e)),r}function P0(t,e){return t.data[Qg]?.[e]??null}function Zg(t,e){let n=P0(t,e)??[],r=0;for(let i of n)r+=i[wl]*(i[M0]??1);return r}function jl(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[lO];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Kp=class{},El=class{};function _O(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[wO]=t,e}var wO="ngComponent";var Qp=class{resolveComponentFactory(e){throw _O(e)}},Bl=(()=>{let e=class e{};e.NULL=new Qp;let t=e;return t})();function EO(){return Os(Dt(),ye())}function Os(t,e){return new Ct(kt(t,e))}var Ct=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=EO;let t=e;return t})();function IO(t){return t instanceof Ct?t.nativeElement:t}var ua=class{},bn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>DO();let t=e;return t})();function DO(){let t=ye(),e=Dt(),n=Cr(e.index,t);return(In(n)?n:t)[xe]}var CO=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wp={};function O0(t){return bO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function TO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function bO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Yp=class{constructor(){}supports(e){return O0(e)}create(e){return new Zp(e)}},SO=(t,e)=>e,Zp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||SO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<PI(r,i,s)?n:r,a=PI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,m=f+h;l<=m&&m<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!O0(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,TO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Xp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Il=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function OI(){return new Xg([new Yp])}var Xg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||OI()),deps:[[e,new Vg,new Ps]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new F(901,!1)}};e.\u0275prov=j({token:e,providedIn:"root",factory:OI});let t=e;return t})();function Dl(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(rn(s)),Gt(s)&&AO(s,r);let o=n.type;if(o&8)Dl(t,e,n.child,r);else if(o&32){let a=$g(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=w0(e,n);if(Array.isArray(a))r.push(...a);else{let u=Hg(e[zt]);Dl(u[te],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AO(t,e){for(let n=It;n<t.length;n++){let r=t[n],i=r[te].firstChild;i!==null&&Dl(r[te],r,i,e)}t[Qn]!==t[Nt]&&e.push(t[Qn])}var k0=[];function xO(t){return t[ui]??MO(t)}function MO(t){let e=k0.pop()??Object.create(NO);return e.lView=t,e}function RO(t){t.lView[ui]!==t&&(t.lView=null,k0.push(t))}var NO=he(R({},BE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oa(t.lView)},consumerOnSignalRead(){this.lView[ui]=this}}),PO="ngOriginalError";function Ep(t){return t[PO]}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ep(e);for(;n&&Ep(n);)n=Ep(n);return n||null}},F0=new N("",{providedIn:"root",factory:()=>b(Cn).handleError.bind(void 0)}),Yc=new N(""),V0=!1,L0=new N("",{providedIn:"root",factory:()=>V0});var yi={};function Tt(t){j0(Ft(),ye(),Ns()+t,!1)}function j0(t,e,n,r){if(!r)if((e[q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&tl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&nl(e,s,0,n)}ci(n)}function W(t,e=re.Default){let n=ye();if(n===null)return T(t,e);let r=Dt();return QD(r,n,lt(t),e)}function B0(){let t="invalid";throw new Error(t)}function OO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let s=i,o=n[++r],a=n[++r];SP(o,s);let u=e[s];a(2,u)}}}finally{ci(-1)}}function Ul(t,e,n,r,i,s,o,a,u,c,l){let d=e.blueprint.slice();return d[Nt]=i,d[q]=r|4|128|8|64,(c!==null||t&&t[q]&2048)&&(d[q]|=2048),SD(d),d[Oe]=d[ha]=t,d[Wn]=n,d[Kn]=o||t&&t[Kn],d[xe]=a||t&&t[xe],d[Cs]=u||t&&t[Cs]||null,d[sn]=s,d[Ol]=A1(),d[Gn]=l,d[vD]=c,d[zt]=e.type==2?t[zt]:d,d}function $l(t,e,n,r,i){let s=t.data[e];if(s===null)s=kO(t,e,n,r,i),bP()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=EP();s.injectorIndex=o===null?-1:o.injectorIndex}return ma(s,!0),s}function kO(t,e,n,r,i){let s=RD(),o=ND(),a=o?s:s&&s.parent,u=t.data[e]=$O(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function U0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $0(t,e,n,r,i){let s=Ns(),o=r&2;try{ci(-1),o&&e.length>Pt&&j0(t,e,Pt,!1),_n(o?2:0,i),n(r,i)}finally{ci(s),_n(o?3:1,i)}}function H0(t,e,n){if(wD(e)){let r=xt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{xt(r)}}}function q0(t,e,n){MD()&&(QO(t,e,n,kt(n,e)),(n.flags&64)===64&&Y0(t,e,n))}function z0(t,e,n=kt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function G0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jg(t,e,n,r,i,s,o,a,u,c,l){let d=Pt+r,h=d+i,f=FO(d,h),m=typeof c=="function"?c():c;return f[te]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:l}}function FO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}function VO(t,e,n,r){let s=r.get(L0,V0)||n===Dn.ShadowDom,o=t.selectRootElement(e,s);return LO(o),o}function LO(t){W0(t)}var W0=t=>null;function jO(t){l0(t)?I0(t):yO(t)}function BO(){W0=jO}function UO(t,e,n,r){let i=eC(e);i.push(n),t.firstCreatePass&&tC(t).push(r,i.length-1)}function $O(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ga()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kI(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?FI(n,e,i,s):r.hasOwnProperty(i)&&FI(n,e,r[i],s)}return n}function FI(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function HO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,c=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;u=kI(d.inputs,l,u,f),c=kI(d.outputs,l,c,m);let v=u!==null&&o!==null&&!dD(e)?ok(u,l,o):null;a.push(v)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}function qO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zO(t,e,n,r,i,s,o,a){let u=kt(e,n),c=e.inputs,l;!a&&c!=null&&(l=c[r])?(em(t,n,l,r,i),pa(e)&&GO(n,e.index)):e.type&3?(r=qO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function GO(t,e){let n=Cr(e,t);n[q]&16||(n[q]|=64)}function K0(t,e,n,r){if(MD()){let i=r===null?null:{"":-1},s=ZO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Q0(t,e,n,o,i,a),i&&XO(n,r,i)}n.mergedAttrs=na(n.mergedAttrs,n.attrs)}function Q0(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Vp(fl(n,e),t,r[c].type);ek(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=U0(t,e,r.length,null);for(let c=0;c<r.length;c++){let l=r[c];n.mergedAttrs=na(n.mergedAttrs,l.hostAttrs),tk(t,n,e,u,l),JO(u,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}HO(t,n,s)}function WO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;KO(o)!=a&&o.push(a),o.push(n,r,s)}}function KO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function QO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;pa(n)&&nk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fl(n,e),fi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],c=di(e,t,a,n);if(fi(c,e),o!==null&&sk(e,a-i,c,u,n,o),Ir(u)){let l=Cr(n.index,e);l[Wn]=di(e,t,a,n)}}}function Y0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=AP();try{ci(s);for(let a=r;a<i;a++){let u=t.data[a],c=e[a];kp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YO(u,c)}}finally{ci(-1),kp(o)}}function YO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(QN(e,o.selectors,!1))if(r||(r=[]),Ir(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;eg(t,e,u)}else r.unshift(o),eg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function eg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function XO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new F(-301,!1);r.push(e[i],s)}}}function JO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ir(e)&&(n[""]=t)}}function ek(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ss(i.type,!0)),o=new li(s,Ir(i),W);t.blueprint[r]=o,n[r]=o,WO(t,e,r,U0(t,n,i.hostVars,yi),i)}function nk(t,e,n){let r=kt(e,t),i=G0(n),s=t[Kn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hl(t,Ul(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function rk(t,e,n,r,i,s){let o=kt(t,e);ik(e[xe],o,s,t.value,n,r,i)}function ik(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Rl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function sk(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],c=o[a++],l=o[a++];Z0(r,n,u,c,l)}}function Z0(t,e,n,r,i){let s=xt(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{xt(s)}}function ok(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function X0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function J0(t,e){let n=t.contentQueries;if(n!==null){let r=xt(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xg(s),a.contentQueries(2,e[o],o)}}}finally{xt(r)}}}function Hl(t,e){return t[ia]?t[II][nn]=e:t[ia]=e,t[II]=e,e}function tg(t,e,n){xg(0);let r=xt(null);try{e(t,n)}finally{xt(r)}}function eC(t){return t[ra]||(t[ra]=[])}function tC(t){return t.cleanup||(t.cleanup=[])}function nC(t,e){let n=t[Cs],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function em(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=e[o],c=t.data[o];Z0(c,u,r,a,i)}}function ak(t,e,n){let r=TD(e,t);N1(t[xe],r,n)}var uk=100;function ck(t,e=!0){let n=t[Kn],r=n.rendererFactory,i=n.afterRenderEventManager,s=!1;s||(r.begin?.(),i?.begin());try{lk(t)}catch(o){throw e&&nC(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush(),i?.end())}}function lk(t){ng(t,0);let e=0;for(;AD(t);){if(e===uk)throw new F(103,!1);e++,ng(t,1)}}function dk(t,e,n,r){let i=e[q];if((i&256)===256)return;let s=!1;!s&&e[Kn].inlineEffectRunner?.flush(),Mg(e);let o=null,a=null;!s&&hk(t)&&(a=xO(e),o=UE(a));try{SD(e),CP(t.bindingStartIndex),n!==null&&$0(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let d=t.preOrderCheckHooks;d!==null&&tl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&nl(e,d,0,null),pp(e,0)}if(fk(e),rC(e,0),t.contentQueries!==null&&J0(t,e),!s)if(u){let d=t.contentCheckHooks;d!==null&&tl(e,d)}else{let d=t.contentHooks;d!==null&&nl(e,d,1),pp(e,1)}OO(t,e);let c=t.components;c!==null&&sC(e,c,0);let l=t.viewQuery;if(l!==null&&tg(2,l,r),!s)if(u){let d=t.viewCheckHooks;d!==null&&tl(e,d)}else{let d=t.viewHooks;d!==null&&nl(e,d,2),pp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[fp]){for(let d of e[fp])d();e[fp]=null}s||(e[q]&=-73)}catch(u){throw oa(e),u}finally{a!==null&&($E(a,o),RO(a)),Rg()}}function hk(t){return t.type!==2}function rC(t,e){for(let n=h0(t);n!==null;n=f0(n)){n[q]&=~bs.HasChildViewsToRefresh;for(let r=It;r<n.length;r++){let i=n[r];iC(i,e)}}}function fk(t){for(let e=h0(t);e!==null;e=f0(e)){if(!(e[q]&bs.HasTransplantedViews))continue;let n=e[Ts];for(let r=0;r<n.length;r++){let i=n[r],s=i[Oe];fP(i)}}}function pk(t,e,n){let r=Cr(e,t);iC(r,n)}function iC(t,e){Sg(t)&&ng(t,e)}function ng(t,e){let r=t[te],i=t[q],s=t[ui],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&zf(s)),s&&(s.dirty=!1),t[q]&=-9217,o)dk(r,t,r.template,t[Wn]);else if(i&8192){rC(t,1);let a=r.components;a!==null&&sC(t,a,1)}}function sC(t,e,n){for(let r=0;r<e.length;r++)pk(t,e[r],n)}function tm(t){for(t[Kn].changeDetectionScheduler?.notify();t;){t[q]|=64;let e=Hg(t);if(ED(t)&&!e)return t;t=e}return null}var pi=class{get rootNodes(){let e=this._lView,n=e[te];return Dl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(e){this._lView[Wn]=e}get destroyed(){return(this._lView[q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(Gt(e)){let n=e[cl],r=n?n.indexOf(this):-1;r>-1&&(Hp(e,r),pl(n,r))}this._attachedToViewContainer=!1}v0(this._lView[te],this._lView)}onDestroy(e){xD(this._lView,e)}markForCheck(){tm(this._cdRefInjectingView||this._lView)}detach(){this._lView[q]&=-129}reattach(){Op(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,ck(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,k1(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e,Op(this._lView)}},vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gk;let t=e;return t})();function gk(t){return mk(Dt(),ye(),(t&16)===16)}function mk(t,e,n){if(pa(t)&&!n){let r=Cr(t.index,e);return new pi(r,r)}else if(t.type&47){let r=e[zt];return new pi(r,e)}return null}var oC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rg=class extends oC{constructor(e){super(),this._lView=e}onDestroy(e){return xD(this._lView,e),()=>pP(this._lView,e)}};function yk(){return new rg(ye())}var VI=new Set;function ks(t){VI.has(t)||(VI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ig=class extends je{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ip(s),i&&(i=Ip(i)),o&&(o=Ip(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}};function Ip(t){return e=>{setTimeout(t,void 0,e)}}var Ae=ig;function LI(...t){}function vk(){let t=typeof ht.requestAnimationFrame=="function",e=ht[t?"requestAnimationFrame":"setTimeout"],n=ht[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=vk().nativeRequestAnimationFrame,Ek(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_k,LI,LI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},_k={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ht,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sg(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sg(t))}function Ek(t){let e=()=>{wk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Ik(a))return n.invokeTask(i,s,o,a);try{return jI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),BI(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return jI(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),BI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,sg(t),nm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function sg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function BI(t){t._nesting--,nm(t)}var og=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Ik(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Dk(t="zone.js",e){return t==="noop"?new og:t==="zone.js"?new ie(e):t}var ws=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ws||{}),Ck={destroy(){}};function rm(t,e){!e&&y1(rm);let n=e?.injector??b(Vt);if(!Xo(n))return Ck;ks("NgAfterNextRender");let r=n.get(aC),i=r.handler??=new ug,s=e?.phase??ws.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(oC).onDestroy(o),u=new ag(n,s,()=>{o(),t()});return i.register(u),{destroy:o}}var ag=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(ie),this.errorHandler=e.get(Cn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ug=class{constructor(){this.executingCallbacks=!1,this.buckets={[ws.EarlyRead]:new Set,[ws.Write]:new Set,[ws.MixedReadWrite]:new Set,[ws.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new F(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},aC=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Tk(t,e){let n=Cr(e,t),r=n[te];bk(r,n);let i=n[Nt];i!==null&&n[Gn]===null&&(n[Gn]=Yg(i,n[Cs])),im(r,n,n[Wn])}function bk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function im(t,e,n){Mg(e);try{let r=t.viewQuery;r!==null&&tg(1,r,n);let i=t.template;i!==null&&$0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&J0(t,e),t.staticViewQueries&&tg(2,t.viewQuery,n);let s=t.components;s!==null&&Sk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,Rg()}}function Sk(t,e){for(let n=0;n<e.length;n++)Tk(t,e[n])}function cg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hI(i,a);else if(s==2){let u=a,c=e[++o];r=hI(r,u+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Cl=class extends Bl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Er(e);return new xs(n,this.ngModule)}};function UI(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function Ak(t){let e=t.toLowerCase();return e==="svg"?aP:e==="math"?uP:null}var lg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pl(r);let i=this.injector.get(e,wp,r);return i!==wp||n===wp?i:this.parentInjector.get(e,n,r)}},xs=class extends El{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=UI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return UI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=JN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Ot?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new lg(e,s):e,a=o.get(ua,null);if(a===null)throw new F(407,!1);let u=o.get(CO,null),c=o.get(aC,null),l=o.get(zp,null),d={rendererFactory:a,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?VO(h,r,this.componentDef.encapsulation,o):qg(h,f,Ak(f)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let _=null;m!==null&&(_=Yg(m,o,!0));let C=Jg(0,null,null,1,0,null,null,null,null,null,null),k=Ul(null,C,null,v,null,null,d,h,o,null,_);Mg(k);let M,U;try{let H=this.componentDef,Y,Ie=null;H.findHostDirectiveDefs?(Y=[],Ie=new Map,H.findHostDirectiveDefs(H,Y,Ie),Y.push(H)):Y=[H];let $t=xk(k,m),Uf=Mk($t,m,H,Y,k,d,h);U=bD(C,Pt),m&&Pk(h,H,m,r),n!==void 0&&Ok(U,this.ngContentSelectors,n),M=Nk(Uf,H,Y,Ie,k,[kk]),im(C,k,null)}finally{Rg()}return new dg(this.componentType,M,Os(U,k),k,U)}},dg=class extends Kp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;em(s[te],s,i,e,n),this.previousInputValues.set(e,n);let o=Cr(this._tNode.index,s);tm(o)}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xk(t,e){let n=t[te],r=Pt;return t[r]=e,$l(n,r,2,"#host",null)}function Mk(t,e,n,r,i,s,o){let a=i[te];Rk(r,t,e,o);let u=null;e!==null&&(u=Yg(e,i[Cs]));let c=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Ul(i,G0(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&eg(a,t,r.length-1),Hl(i,d),i[t.index]=d}function Rk(t,e,n,r){for(let i of t)e.mergedAttrs=na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cg(e,e.mergedAttrs,!0),n!==null&&C0(r,n,e))}function Nk(t,e,n,r,i,s){let o=Dt(),a=i[te],u=kt(o,i);Q0(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=di(i,a,d,o);fi(h,i)}Y0(a,i,o),u&&fi(u,i);let c=di(i,a,o.directiveStart+o.componentOffset,o);if(t[Wn]=i[Wn]=c,s!==null)for(let l of s)l(c,e);return H0(a,o,t),c}function Pk(t,e,n,r){if(r)Np(t,n,["ng-version","17.0.8"]);else{let{attrs:i,classes:s}=eP(e.selectors[0]);i&&Np(t,n,i),s&&s.length>0&&D0(t,n,s.join(" "))}}function Ok(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function kk(){let t=Dt();Pg(ye()[te],t)}function Fk(t){return Object.getPrototypeOf(t.prototype).constructor}function on(t){let e=Fk(t.type),n=!0,r=[t];for(;e;){let i;if(Ir(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Zc(t.inputs),o.inputTransforms=Zc(t.inputTransforms),o.declaredInputs=Zc(t.declaredInputs),o.outputs=Zc(t.outputs);let a=i.hostBindings;a&&Bk(t,a);let u=i.viewQuery,c=i.contentQueries;if(u&&Lk(t,u),c&&jk(t,c),Wc(t.inputs,i.inputs),Wc(t.declaredInputs,i.declaredInputs),Wc(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Wc(o.inputTransforms,i.inputTransforms)),Ir(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===on&&(n=!1)}}e=Object.getPrototypeOf(e)}Vk(r)}function Vk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=na(i.hostAttrs,n=na(n,i.hostAttrs))}}function Zc(t){return t===Ds?{}:t===Rt?[]:t}function Lk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Bk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function sm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Uk(t,e,n){return t[e]=n}function $k(t,e){return t[e]}function ql(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ia(t,e,n,r){let i=ye(),s=Ag();if(ql(i,s,e)){let o=Ft(),a=jD();rk(a,i,t,e,n,r)}return Ia}function Hk(t,e,n,r){return ql(t,Ag(),n)?e+Rl(n)+r:yi}function Xc(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function qk(t){return(t&2)==2}function zk(t,e){return t&131071|e<<17}function hg(t){return t|2}function Ms(t){return(t&131068)>>2}function Dp(t,e){return t&-131069|e<<2}function Gk(t){return(t&1)===1}function fg(t){return t|1}function Wk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=Ms(o);t[r]=n;let c=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ya(d,l)>0)&&(c=!0)}else l=n;if(i)if(u!==0){let h=gi(t[a+1]);t[r+1]=Xc(h,a),h!==0&&(t[h+1]=Dp(t[h+1],r)),t[a+1]=zk(t[a+1],r)}else t[r+1]=Xc(a,0),a!==0&&(t[a+1]=Dp(t[a+1],r)),a=r;else t[r+1]=Xc(u,0),a===0?a=r:t[u+1]=Dp(t[u+1],r),u=r;c&&(t[r+1]=hg(t[r+1])),$I(t,l,r,!0,s),$I(t,l,r,!1,s),Kk(e,l,t,r,s),o=Xc(a,u),s?e.classBindings=o:e.styleBindings=o}function Kk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ya(s,e)>=0&&(n[r+1]=fg(n[r+1]))}function $I(t,e,n,r,i){let s=t[n+1],o=e===null,a=r?gi(s):Ms(s),u=!1;for(;a!==0&&(u===!1||o);){let c=t[a],l=t[a+1];Qk(c,e)&&(u=!0,t[a+1]=r?fg(l):hg(l)),a=r?gi(l):Ms(l)}u&&(t[n+1]=r?hg(s):fg(s))}function Qk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ya(t,e)>=0:!1}function an(t,e,n){let r=ye(),i=Ag();if(ql(r,i,e)){let s=Ft(),o=jD();zO(s,o,r,t,e,r[xe],n,!1)}return an}function HI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";em(t,n,s[o],o,r)}function zl(t,e){return Yk(t,e,null,!0),zl}function Yk(t,e,n,r){let i=ye(),s=Ft(),o=TP(2);if(s.firstUpdatePass&&Xk(s,t,o,r),e!==yi&&ql(i,o,e)){let a=s.data[Ns()];rF(s,a,i,i[xe],t,i[o+1]=iF(e,n),r,o)}}function Zk(t,e){return e>=t.expandoStartIndex}function Xk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ns()],o=Zk(t,n);sF(s,r)&&e===null&&!o&&(e=!1),e=Jk(i,s,e,r),Wk(i,s,e,n,o,r)}}function Jk(t,e,n,r){let i=xP(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cp(null,t,e,n,r),n=ca(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Cp(i,t,e,n,r),s===null){let u=eF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Cp(null,t,e,u[1],r),u=ca(u,e.attrs,r),tF(t,e,r,u))}else s=nF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function eF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ms(r)!==0)return t[gi(r)]}function tF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gi(i)]=r}function nF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ca(r,o,n)}return ca(r,e.attrs,n)}function Cp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ca(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ca(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),XP(t,o,n?!0:e[++s]))}return t===void 0?null:t}function rF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,c=u[a+1],l=Gk(c)?qI(u,e,n,i,Ms(c),o):void 0;if(!Tl(l)){Tl(s)||qk(c)&&(s=qI(u,null,n,i,a,o));let d=TD(Ns(),n);Y1(r,o,d,i,s)}}function qI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=l===null,h=n[i+1];h===yi&&(h=d?Rt:void 0);let f=d?mp(h,r):l===r?h:void 0;if(c&&!Tl(f)&&(f=mp(u,r)),Tl(f)&&(a=f,o))return a;let m=t[i+1];i=o?gi(m):Ms(m)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=mp(u,r))}return a}function Tl(t){return t!==void 0}function iF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Ea(t)))),t}function sF(t,e){return(t.flags&(e?8:16))!==0}function uC(t){let e=t[sa]??[],r=t[Oe][xe];for(let i of e)oF(i,r);t[sa]=Rt}function oF(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[wl];for(;n<i;){let s=r.nextSibling;E0(e,r,!1),r=s,n++}}}function cC(t){uC(t);for(let e=It;e<t.length;e++)bl(t[e])}function bl(t){let e=t[te];for(let n=Pt;n<e.bindingStartIndex;n++)if(Gt(t[n])){let r=t[n];cC(r)}else In(t[n])&&bl(t[n])}function aF(t){let e=t._views;for(let n of e){let r=gO(n);if(r!==null&&r[Nt]!==null)if(In(r))bl(r);else{let i=r[Nt];bl(i),cC(r)}}}var uF=new RegExp(`^(\\d+)*(${x0}|${A0})*(.*)`);function cF(t){let e=t.match(uF),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[u,c,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(c,d)}return[o,...a]}function lF(t){return!t.prev&&t.parent?.type===8}function Tp(t){return t.index-Pt}function Gl(t,e,n,r){let i=null,s=Tp(r),o=t.data[cO];if(o?.[s])i=hF(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(lF(r)){let c=Tp(r.parent);i=Wp(t,c)}else{let c=kt(u,n);if(a)i=c.firstChild;else{let l=Tp(u),d=Wp(t,l);if(u.type===2&&d){let f=Zg(t,l)+1;i=Wl(f,d)}else i=c.nextSibling}}}return i}function Wl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function dF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Gp.FirstChild:n=n.firstChild;break;case Gp.NextSibling:n=n.nextSibling;break}}return n}function hF(t,e){let[n,...r]=cF(t),i;if(n===A0)i=e[zt][Nt];else if(n===x0)i=_1(e[zt][Nt]);else{let s=Number(n);i=rn(e[s+Pt])}return dF(i,r)}function fF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[M0]??1);i++){let s={data:r,firstChild:null};r[wl]>0&&(s.firstChild=t,t=Wl(r[wl],t)),n.push(s)}return[t,n]}var lC=(t,e)=>null;function pF(t,e){let n=t[sa];return!e||n===null||n.length===0?null:n[0].data[uO]===e?n.shift():(uC(t),null)}function gF(){lC=pF}function zI(t,e){return lC(t,e)}function mF(t,e,n,r){let i=e.tView,o=t[q]&4096?4096:16,a=Ul(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),u=t[e.index];a[fa]=u;let c=t[En];return c!==null&&(a[En]=c.createEmbeddedView(i)),im(i,a,n),a}function GI(t,e){return!e||e.firstChild===null||yl(t)}function yF(t,e,n,r=!0){let i=e[te];if(V1(i,e,t,n),r){let o=qp(n,t),a=e[xe],u=zg(a,t[Qn]);u!==null&&O1(i,t[sn],a,e,u,o)}let s=e[Gn];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vF;let t=e;return t})();function vF(){let t=Dt();return hC(t,ye())}var _F=_i,dC=class extends _F{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=Og(this._hostTNode,this._hostLView);if(HD(e)){let n=hl(e,this._hostLView),r=dl(e),i=n[te].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=WI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=zI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,GI(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!WP(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let u=o?e:new xs(Er(e)),c=r||this.parentInjector;if(!s&&u.ngModule==null){let v=(o?c:this.parentInjector).get(Ot,null);v&&(s=v)}let l=Er(u.componentType??{}),d=zI(this._lContainer,l?.id??null),h=d?.firstChild??null,f=u.create(c,i,h,s);return this.insertImpl(f.hostView,a,GI(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(hP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Oe],c=new dC(u,u[sn],u[Oe]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yF(o,i,s,r),e.attachToViewContainerRef(),JD(bp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=WI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hp(this._lContainer,n);r&&(pl(bp(this._lContainer),n),v0(r[te],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hp(this._lContainer,n);return r&&pl(bp(this._lContainer),n)!=null?new pi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function WI(t){return t[cl]}function bp(t){return t[cl]||(t[cl]=[])}function hC(t,e){let n,r=e[t.index];return Gt(r)?n=r:(n=X0(r,e,null,t),e[t.index]=n,Hl(e,n)),fC(n,e,t,r),new dC(n,t,e)}function wF(t,e){let n=t[xe],r=n.createComment(""),i=kt(e,t),s=zg(n,i);return vl(n,s,r,q1(n,i),!1),r}var fC=pC,om=(t,e,n)=>!1;function EF(t,e,n){return om(t,e,n)}function pC(t,e,n,r){if(t[Qn])return;let i;n.type&8?i=rn(r):i=wF(e,n),t[Qn]=i}function IF(t,e,n){if(t[Qn]&&t[sa])return!0;let r=n[Gn],i=e.index-Pt;if(!r||I1(e)||jl(r,i))return!1;let o=Wp(r,i),a=r.data[Qg]?.[i],[u,c]=fF(o,a);return t[Qn]=u,t[sa]=c,!0}function DF(t,e,n,r){om(t,n,e)||pC(t,e,n,r)}function CF(){fC=DF,om=IF}function TF(t,e,n,r,i,s,o,a,u){let c=e.consts,l=$l(e,t,4,o||null,ll(c,a));K0(e,n,l,ll(c,u)),Pg(e,l);let d=l.tView=Jg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function am(t,e,n,r,i,s,o,a){let u=ye(),c=Ft(),l=t+Pt,d=c.firstCreatePass?TF(l,c,u,e,n,r,i,s,o):c.data[l];ma(d,!1);let h=gC(c,u,d,t);Ng()&&Gg(c,u,h,d),fi(h,u);let f=X0(h,u,h,d);return u[l]=f,Hl(u,f),EF(f,d,u),bg(d)&&q0(c,u,d),o!=null&&z0(u,d,a),am}var gC=mC;function mC(t,e,n,r){return Tr(!0),e[xe].createComment("")}function bF(t,e,n,r){let i=e[Gn],s=!i||ga()||jl(i,r);if(Tr(s),s)return mC(t,e,n,r);let o=i.data[aO]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Gl(i,t,e,n);Ll(i,r,a);let u=Zg(i,r);return Wl(u,a)}function SF(){gC=bF}function AF(t,e,n,r,i,s){let o=e.consts,a=ll(o,i),u=$l(e,t,2,r,a);return K0(e,n,u,ll(o,s)),u.attrs!==null&&cg(u,u.attrs,!1),u.mergedAttrs!==null&&cg(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function E(t,e,n,r){let i=ye(),s=Ft(),o=Pt+t,a=i[xe],u=s.firstCreatePass?AF(o,s,i,e,n,r):s.data[o],c=yC(s,i,u,a,e,t);i[o]=c;let l=bg(u);return ma(u,!0),C0(a,c,u),(u.flags&32)!==32&&Ng()&&Gg(s,i,c,u),gP()===0&&fi(c,i),mP(),l&&(q0(s,i,u),H0(s,u,i)),r!==null&&z0(i,u),E}function D(){let t=Dt();ND()?IP():(t=t.parent,ma(t,!1));let e=t;vP(e)&&wP(),yP();let n=Ft();return n.firstCreatePass&&(Pg(n,t),wD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&OP(e)&&HI(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kP(e)&&HI(n,e,ye(),e.stylesWithoutHost,!1),D}function z(t,e,n,r){return E(t,e,n,r),D(),z}var yC=(t,e,n,r,i,s)=>(Tr(!0),qg(r,i,BD()));function xF(t,e,n,r,i,s){let o=e[Gn],a=!o||ga()||jl(o,s);if(Tr(a),a)return qg(r,i,BD());let u=Gl(o,t,e,n);return P0(o,s)&&Ll(o,s,u.nextSibling),o&&(c0(n)||l0(u))&&pa(n)&&(_P(n),I0(u)),u}function MF(){yC=xF}var RF=(t,e,n,r)=>(Tr(!0),m0(e[xe],""));function NF(t,e,n,r){let i,s=e[Gn],o=!s||ga();if(Tr(o),o)return m0(e[xe],"");let a=Gl(s,t,e,n),u=vO(s,r);return Ll(s,r,a),i=Wl(u,a),i}function PF(){RF=NF}var Sl="en-US";var OF=Sl;function kF(t){RN(t,"Expected localeId to be defined"),typeof t=="string"&&(OF=t.toLowerCase().replace(/_/g,"-"))}function wi(t){return!!t&&typeof t.then=="function"}function vC(t){return!!t&&typeof t.subscribe=="function"}function tt(t,e,n,r){let i=ye(),s=Ft(),o=Dt();return VF(s,i,i[xe],o,t,e,r),tt}function FF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ra],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function VF(t,e,n,r,i,s,o){let a=bg(r),c=t.firstCreatePass&&tC(t),l=e[Wn],d=eC(e),h=!0;if(r.type&3||o){let v=kt(r,e),_=o?o(v):v,C=d.length,k=o?U=>o(rn(U[r.index])):r.index,M=null;if(!o&&a&&(M=FF(t,e,i,r.index)),M!==null){let U=M.__ngLastListenerFn__||M;U.__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,h=!1}else{s=QI(r,e,l,s,!1);let U=n.listen(_,i,s);d.push(s,U),c&&c.push(i,k,C,C+1)}}else s=QI(r,e,l,s,!1);let f=r.outputs,m;if(h&&f!==null&&(m=f[i])){let v=m.length;if(v)for(let _=0;_<v;_+=2){let C=m[_],k=m[_+1],H=e[C][k].subscribe(s),Y=d.length;d.push(s,H),c&&c.push(i,r.index,Y,-(Y+1))}}}function KI(t,e,n,r){try{return _n(6,e,n),n(r)!==!1}catch(i){return nC(t,i),!1}finally{_n(7,e,n)}}function QI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Cr(t.index,e):e;tm(a);let u=KI(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=KI(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function O(t,e=""){let n=ye(),r=Ft(),i=t+Pt,s=r.firstCreatePass?$l(r,i,1,e,null):r.data[i],o=_C(r,n,s,e,t);n[i]=o,Ng()&&Gg(r,n,o,s),ma(s,!1)}var _C=(t,e,n,r,i)=>(Tr(!0),g0(e[xe],r));function LF(t,e,n,r,i){let s=e[Gn],o=!s||ga()||jl(s,i);return Tr(o),o?g0(e[xe],r):Gl(s,t,e,n)}function jF(){_C=LF}function Fs(t){return wC("",t,""),Fs}function wC(t,e,n){let r=ye(),i=Hk(r,t,e,n);return i!==yi&&ak(r,Ns(),i),wC}function BF(t,e,n){let r=Ft();if(r.firstCreatePass){let i=Ir(t);pg(n,r.data,r.blueprint,i,!0),pg(e,r.data,r.blueprint,i,!1)}}function pg(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)pg(t[s],e,n,r,i);else{let s=Ft(),o=ye(),a=Dt(),u=As(t)?t:lt(t.provide),c=s0(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(As(t)||!t.multi){let f=new li(c,i,W),m=Ap(u,e,i?l:l+h,d);m===-1?(Vp(fl(a,o),s,u),Sp(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[m]=f,o[m]=f)}else{let f=Ap(u,e,l+h,d),m=Ap(u,e,l,l+h),v=f>=0&&n[f],_=m>=0&&n[m];if(i&&!_||!i&&!v){Vp(fl(a,o),s,u);let C=HF(i?$F:UF,n.length,i,r,c);!i&&_&&(n[m].providerFactory=C),Sp(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=EC(n[i?m:f],c,!i&&r);Sp(s,t,f>-1?f:m,C)}!i&&r&&_&&n[m].componentProviders++}}}function Sp(t,e,n,r){let i=As(e),s=l1(e);if(i||s){let u=(s?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=c.indexOf(n);l===-1?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function EC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ap(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function UF(t,e,n,r){return gg(this.multi,[])}function $F(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=di(n,n[te],this.providerFactory.index,r);s=a.slice(0,o),gg(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],gg(i,s);return s}function gg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function HF(t,e,n,r,i){let s=new li(t,n,W);return s.multi=[],s.index=e,s.componentProviders=0,EC(s,i,r&&!n),s}function Ei(t,e=[]){return n=>{n.providersResolver=(r,i)=>BF(r,i?i(t):t,e)}}var Dr=class{},la=class{};var Al=class extends Dr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cl(this);let i=gD(e);this._bootstrapComponents=u0(i.bootstrap),this._r3Injector=o0(e,n,[{provide:Dr,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xl=class extends la{constructor(e){super(),this.moduleType=e}create(e){return new Al(this.moduleType,e,[])}};function qF(t,e,n){return new Al(t,e,n)}var mg=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new Cl(this),this.instance=null;let n=new aa([...e.providers,{provide:Dr,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],e.parent||jg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kl(t,e,n=null){return new mg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=n0(!1,r.type),s=i.length>0?Kl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(T(Ot))});let t=e;return t})();function IC(t){ks("NgStandalone"),t.getStandaloneInjector=e=>e.get(zF).getOrCreateStandaloneInjector(t)}function DC(t,e,n){let r=DP()+t,i=ye();return i[r]===yi?Uk(i,r,n?e.call(n):e()):$k(i,r)}function GF(){return this._results[Symbol.iterator]()}var yg=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=QP(e);(this._changesDetected=!KP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QF;let t=e;return t})(),WF=Rs,KF=class extends WF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=mF(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new pi(i)}};function QF(){return um(Dt(),ye())}function um(t,e){return t.type&4?new KF(e,t,Os(t,e)):null}var vg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_g=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)AC(e,n).matches!==null&&this.queries[n].setDirty()}},wg=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Eg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ig=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,YF(n,s)),this.matchTNodeWithReadOption(e,n,rl(n,e,s,!1,!1))}else r===Rs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,rl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ct||i===_i||i===Rs&&n.type&4)this.addMatch(n.index,-2);else{let s=rl(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function YF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ZF(t,e){return t.type&11?Os(t,e):t.type&4?um(t,e):null}function XF(t,e,n,r){return n===-1?ZF(e,t):n===-2?JF(t,e,r):di(t,t[te],n,e)}function JF(t,e,n){if(n===Ct)return Os(e,t);if(n===Rs)return um(e,t);if(n===_i)return hC(e,t)}function CC(t,e,n,r){let i=e[En].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){let c=o[u];if(c<0)a.push(null);else{let l=s[c];a.push(XF(e,l,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Dg(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=CC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let c=s[a+1],l=e[-u];for(let d=It;d<l.length;d++){let h=l[d];h[fa]===h[Oe]&&Dg(h[te],h,c,r)}if(l[Ts]!==null){let d=l[Ts];for(let h=0;h<d.length;h++){let f=d[h];Dg(f[te],f,c,r)}}}}}return r}function TC(t){let e=ye(),n=Ft(),r=PD();xg(r+1);let i=AC(n,r);if(t.dirty&&dP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Dg(n,e,r,[]):CC(n,e,i,r);t.reset(s,IO),t.notifyOnChanges()}return!0}return!1}function bC(t,e,n,r){let i=Ft();if(i.firstCreatePass){let s=Dt();nV(i,new wg(e,n,r),s.index),rV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}tV(i,ye(),n)}function SC(){return eV(ye(),PD())}function eV(t,e){return t[En].queries[e].queryList}function tV(t,e,n){let r=new yg((n&4)===4);UO(t,e,r,r.destroy),e[En]===null&&(e[En]=new _g),e[En].queries.push(new vg(r))}function nV(t,e,n){t.queries===null&&(t.queries=new Eg),t.queries.track(new Ig(e,n))}function rV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function AC(t,e){return t.queries.getByIndex(e)}var Jc=null;function iV(t){Jc!==null&&(t.defaultEncapsulation!==Jc.defaultEncapsulation||t.preserveWhitespaces!==Jc.preserveWhitespaces)||(Jc=t)}var Zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xC=new Zn("17.0.8");var Ql=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Cg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yl=(()=>{let e=class e{compileModuleSync(r){return new xl(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=gD(r),o=u0(s.declarations).reduce((a,u)=>{let c=Er(u);return c&&a.push(new xs(c)),a},[]);return new Cg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sV=new N("compilerOptions");var Da=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cm=new N(""),Ca=new N(""),Zl=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lm||(oV(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(T(ie),T(Xl),T(Ca))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Xl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return lm?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function oV(t){lm=t}var lm,Jl=new N("Application Initializer"),MC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=b(Jl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(wi(o))r.push(o);else if(vC(o)){let a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vs=new N("appBootstrapListener");function aV(t,e,n){let r=new xl(n);return Promise.resolve(r)}function uV(){qE(()=>{throw new F(600,!1)})}function cV(t){return t.isBoundToModule}function lV(t,e,n){try{let r=n();return wi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function RC(t,e){return Array.isArray(e)?e.reduce(RC,t):R(R({},t),e)}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(F0),this.componentTypes=[],this.components=[],this.isStable=b(Da).hasPendingTasks.pipe($(r=>!r)),this._injector=b(Ot)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof El;if(!this._injector.get(MC).done){let m="Cannot bootstrap as there are still asynchronous initializers running."+(!s&&pD(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new F(405,!1)}let a;s?a=r:a=this._injector.get(Bl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=cV(a)?void 0:this._injector.get(Dr),c=i||a.selector,l=a.create(Vt.NULL,[],c,u),d=l.location.nativeElement,h=l.injector.get(cm,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ol(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ol(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Vs,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ol(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new F(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ol(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YI(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var el;function dm(t){el??=new WeakMap;let e=el.get(t);if(e)return e;let n=t.isStable.pipe(Mt(r=>r)).toPromise().then(()=>{});return el.set(t,n),t.onDestroy(()=>el?.delete(t)),n}var dV=(()=>{let e=class e{constructor(){this.zone=b(ie),this.applicationRef=b(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hV(t){return[{provide:ie,useFactory:t},{provide:hi,multi:!0,useFactory:()=>{let e=b(dV,{optional:!0});return()=>e.initialize()}},{provide:hi,multi:!0,useFactory:()=>{let e=b(gV);return()=>{e.initialize()}}},{provide:F0,useFactory:fV}]}function fV(){let t=b(ie),e=b(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function pV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gV=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=b(ie),this.pendingTasks=b(Da)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mV(){return typeof $localize<"u"&&$localize.locale||Sl}var hm=new N("LocaleId",{providedIn:"root",factory:()=>b(hm,re.Optional|re.SkipSelf)||mV()});var NC=new N("PlatformDestroyListeners"),PC=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=Dk(i?.ngZone,pV({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=qF(r.moduleType,this.injector,hV(()=>s)),a=o.injector.get(Cn,null);return s.runOutsideAngular(()=>{let u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{ol(this._modules,o),u.unsubscribe()})}),lV(a,s,()=>{let u=o.injector.get(MC);return u.runInitializers(),u.donePromise.then(()=>{let c=o.injector.get(hm,Sl);return kF(c||Sl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=RC({},i);return aV(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(tr);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new F(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(NC,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(T(Vt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ea=null,OC=new N("AllowMultipleToken");function yV(t){if(ea&&!ea.get(OC,!1))throw new F(400,!1);uV(),ea=t;let e=t.get(PC);return wV(t),e}function fm(t,e,n=[]){let r=`Platform: ${e}`,i=new N(r);return(s=[])=>{let o=kC();if(!o||o.injector.get(OC,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):yV(vV(a,r))}return _V(i)}}function vV(t=[],e){return Vt.create({name:e,providers:[{provide:kl,useValue:"platform"},{provide:NC,useValue:new Set([()=>ea=null])},...t]})}function _V(t){let e=kC();if(!e)throw new F(401,!1);return e}function kC(){return ea?.get(PC)??null}function wV(t){t.get(Bg,null)?.forEach(n=>n())}function pm(){return!1}var FC=fm(null,"core",[]),VC=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(tr))},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({});let t=e;return t})();var ZI=!1;function EV(){ZI||(ZI=!0,pO(),MF(),jF(),PF(),SF(),CF(),gF(),BO())}function IV(t,e){return dm(t)}function LC(){return va([{provide:Yc,useFactory:()=>{let t=!0;return Xo()&&(t=!!b(mi,{optional:!0})?.get(R0,null)),t&&ks("NgHydration"),t}},{provide:hi,useValue:()=>{Xo()&&b(Yc)&&(DV(),EV())},multi:!0},{provide:L0,useFactory:()=>Xo()&&b(Yc)},{provide:Vs,useFactory:()=>{if(Xo()&&b(Yc)){let t=b(tr),e=b(Vt);return()=>{IV(t,e).then(()=>{ie.assertInAngularZone(),aF(t)})}}return()=>{}},multi:!0}])}function DV(){let t=Fl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===hO){e=n;break}if(!e)throw new F(-507,!1)}function Sr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function jC(t){let e=Er(t);if(!e)return null;let n=new xs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var gm=null;function Sn(){return gm}function HC(t){gm||(gm=t)}var ed=class{},pt=new N("DocumentToken"),vm=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(CV))(),providedIn:"platform"});let t=e;return t})(),qC=new N("Location Initialized"),CV=(()=>{let e=class e extends vm{constructor(){super(),this._doc=b(pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(r){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Sn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function _m(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function nr(t){return t&&t[0]!=="?"?"?"+t:t}var rr=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(wm))(),providedIn:"root"});let t=e;return t})(),zC=new N("appBaseHref"),wm=(()=>{let e=class e extends rr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _m(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+nr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(vm),T(zC,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GC=(()=>{let e=class e extends rr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=_m(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+nr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(vm),T(zC,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Ls=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=SV(BC(UC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+nr(i))}normalize(r){return e.stripTrailingSlash(bV(this._basePath,UC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+nr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+nr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=nr,e.joinWithSlash=_m,e.stripTrailingSlash=BC,e.\u0275fac=function(i){return new(i||e)(T(rr))},e.\u0275prov=j({token:e,factory:()=>TV(),providedIn:"root"});let t=e;return t})();function TV(){return new Ls(T(rr))}function bV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function UC(t){return t.replace(/\/index.html$/,"")}function SV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function WC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var mm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},KC=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new mm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),$C(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);$C(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(W(_i),W(Rs),W(Xg))},e.\u0275dir=ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function $C(t,e){t.context.$implicit=e.item}var QC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({});let t=e;return t})(),YC="browser",AV="server";function Ii(t){return t===AV}var ZC=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new ym(T(pt),window)});let t=e;return t})(),ym=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=xV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function xV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var td=class{};var rd=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var sT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sT||{}),Em=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new rd,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var id=class t extends Em{constructor(e={}){super(e),this.type=sT.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var RV=new N("");var JC="b",eT="h",tT="s",nT="st",rT="u",iT="rt",nd=new N(""),NV=["GET","HEAD"];function PV(t,e){let l=b(nd),{isCacheActive:n}=l,r=AE(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!NV.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=b(mi),a=kV(t),u=o.get(a,null),c=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(c=i.includeHeaders),u){let{[JC]:d,[iT]:h,[eT]:f,[tT]:m,[nT]:v,[rT]:_}=u,C=d;switch(h){case"arraybuffer":C=new TextEncoder().encode(d).buffer;break;case"blob":C=new Blob([d]);break}let k=new rd(f);return L(new id({body:C,headers:k,status:m,statusText:v,url:_}))}return e(t).pipe(Se(d=>{d instanceof id&&o.set(a,{[JC]:d.body,[eT]:OV(d.headers,c),[tT]:d.status,[nT]:d.statusText,[rT]:d.url||"",[iT]:t.responseType})}))}function OV(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function kV(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(u=>`${u}=${e.getAll(u)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=FV(o);return a}function FV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function oT(t){return[{provide:nd,useFactory:()=>(ks("NgHttpTransferCache"),R({isCacheActive:!0},t))},{provide:RV,useValue:PV,multi:!0,deps:[mi,nd]},{provide:Vs,multi:!0,useFactory:()=>{let e=b(tr),n=b(nd);return()=>{dm(e).then(()=>{n.isCacheActive=!1})}}}]}var Cm=class extends ed{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tm=class t extends Cm{static makeCurrent(){HC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VV();return n==null?null:LV(n)}resetBaseElement(){Ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WC(document.cookie,e)}},Ta=null;function VV(){return Ta=Ta||document.querySelector("base"),Ta?Ta.getAttribute("href"):null}function LV(t){return new URL(t,document.baseURI).pathname}var bm=class{addToWindow(e){ht.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new F(5103,!1);return s},ht.getAllAngularTestabilities=()=>e.getAllTestabilities(),ht.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ht.getAllAngularTestabilities(),s=i.length,o=!1,a=function(u){o=o||u,s--,s==0&&r(o)};i.forEach(u=>{u.whenStable(a)})};ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Sn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},jV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Sm=new N("EventManagerPlugins"),lT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(Sm),T(ie))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),sd=class{constructor(e){this._doc=e}},Im="ng-app-id",dT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ii(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Im}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Im),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Im,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(pt),T(_a),T(Ug,8),T(ft))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Dm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xm=/%COMP%/g,hT="%COMP%",BV=`_nghost-${hT}`,UV=`_ngcontent-${hT}`,$V=!0,HV=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>$V});function qV(t){return UV.replace(xm,t)}function zV(t){return BV.replace(xm,t)}function fT(t,e){return e.map(n=>n.replace(xm,t))}var aT=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ii(u),this.defaultRenderer=new ba(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dn.ShadowDom&&(i=he(R({},i),{encapsulation:Dn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof od?s.applyToHost(r):s instanceof Sa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Dn.Emulated:o=new od(c,l,i,this.appId,d,a,u,h);break;case Dn.ShadowDom:return new Am(c,l,r,i,a,u,this.nonce,h);default:o=new Sa(c,l,i,d,a,u,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(lT),T(dT),T(_a),T(HV),T(pt),T(ft),T(ie),T(Ug))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),ba=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Dm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Am=class extends ba{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=fT(i.id,i.styles);for(let l of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends ba{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?fT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},od=class extends Sa{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=qV(c),this.hostAttr=zV(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},GV=(()=>{let e=class e extends sd{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(pt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),cT=["alt","control","meta","shift"],WV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QV=(()=>{let e=class e extends sd{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),cT.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=WV[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),cT.forEach(a=>{if(a!==s){let u=KV[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(pt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function YV(){Tm.makeCurrent()}function ZV(){return new Cn}function XV(){return a0(document),document}var JV=[{provide:ft,useValue:YC},{provide:Bg,useValue:YV,multi:!0},{provide:pt,useFactory:XV,deps:[]}],pT=fm(FC,"browser",JV),eL=new N(""),tL=[{provide:Ca,useClass:bm,deps:[]},{provide:cm,useClass:Zl,deps:[ie,Xl,Ca]},{provide:Zl,useClass:Zl,deps:[ie,Xl,Ca]}],nL=[{provide:kl,useValue:"root"},{provide:Cn,useFactory:ZV,deps:[]},{provide:Sm,useClass:GV,multi:!0,deps:[pt,ie,ft]},{provide:Sm,useClass:QV,multi:!0,deps:[pt]},aT,dT,lT,{provide:ua,useExisting:aT},{provide:td,useClass:jV,deps:[]},[]],gT=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:_a,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(eL,12))},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({providers:[...nL,...tL],imports:[QC,VC]});let t=e;return t})();function rL(){return new Mm(T(pt))}var Mm=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(pt))},e.\u0275prov=j({token:e,factory:function(i){let s=null;return i?s=new i:s=rL(),s},providedIn:"root"});let t=e;return t})();function mT(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return va([[],LC(),n.has(0)||r?[]:oT({}),e])}var X="primary",$a=Symbol("RouteTitle"),km=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hs(t){return new km(t)}function iL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!An(t[n],e[n]))return!1;return!0}function An(t,e){let n=t?Fm(t):void 0,r=e?Fm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bT(t[i],e[i]))return!1;return!0}function Fm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function ST(t){return t.length>0?t[t.length-1]:null}function Rr(t){return sp(t)?t:wi(t)?oe(Promise.resolve(t)):L(t)}var oL={exact:xT,subset:MT},AT={exact:aL,subset:uL,ignored:()=>!0};function vT(t,e,n){return oL[n.paths](t.root,e.root,n.matrixParams)&&AT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aL(t,e){return An(t,e)}function xT(t,e,n){if(!Ci(t.segments,e.segments)||!cd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!xT(t.children[r],e.children[r],n))return!1;return!0}function uL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bT(t[n],e[n]))}function MT(t,e,n){return RT(t,e,e.segments,n)}function RT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ci(i,n)||e.hasChildren()||!cd(i,n,r))}else if(t.segments.length===n.length){if(!Ci(t.segments,n)||!cd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ci(t.segments,i)||!cd(t.segments,i,r)||!t.children[X]?!1:RT(t.children[X],e,s,r)}}function cd(t,e,n){return e.every((r,i)=>AT[n](t[i].parameters,r.parameters))}var Ar=class{constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hs(this.queryParams)),this._queryParamMap}toString(){return dL.serialize(this)}},de=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}},Di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Hs(this.parameters)),this._parameterMap}toString(){return PT(this)}};function cL(t,e){return Ci(t,e)&&t.every((n,r)=>An(n.parameters,e[r].parameters))}function Ci(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===X&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==X&&(n=n.concat(e(i,r)))}),n}var Ha=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>new Oa)(),providedIn:"root"});let t=e;return t})(),Oa=class{parse(e){let n=new Lm(e);return new Ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Aa(e.root,!0)}`,r=pL(e.queryParams),i=typeof e.fragment=="string"?`#${hL(e.fragment)}`:"";return`${n}${r}${i}`}},dL=new Oa;function ld(t){return t.segments.map(e=>PT(e)).join("/")}function Aa(t,e){if(!t.hasChildren())return ld(t);if(e){let n=t.children[X]?Aa(t.children[X],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==X&&r.push(`${i}:${Aa(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lL(t,(r,i)=>i===X?[Aa(t.children[X],!1)]:[`${i}:${Aa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[X]!=null?`${ld(t)}/${n[0]}`:`${ld(t)}/(${n.join("//")})`}}function NT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ad(t){return NT(t).replace(/%3B/gi,";")}function hL(t){return encodeURI(t)}function Vm(t){return NT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dd(t){return decodeURIComponent(t)}function _T(t){return dd(t.replace(/\+/g,"%20"))}function PT(t){return`${Vm(t.path)}${fL(t.parameters)}`}function fL(t){return Object.keys(t).map(e=>`;${Vm(e)}=${Vm(t[e])}`).join("")}function pL(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${ad(n)}=${ad(i)}`).join("&"):`${ad(n)}=${ad(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var gL=/^[^\/()?;#]+/;function Rm(t){let e=t.match(gL);return e?e[0]:""}var mL=/^[^\/()?;=#]+/;function yL(t){let e=t.match(mL);return e?e[0]:""}var vL=/^[^=?&#]+/;function _L(t){let e=t.match(vL);return e?e[0]:""}var wL=/^[^&#]+/;function EL(t){let e=t.match(wL);return e?e[0]:""}var Lm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new de(e,n)),r}parseSegment(){let e=Rm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Di(dd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rm(this.remaining);i&&(r=i,this.capture(r))}e[dd(n)]=dd(r)}parseQueryParam(e){let n=_L(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=EL(this.remaining);o&&(r=o,this.capture(r))}let i=_T(n),s=_T(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[X]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function OT(t){return t.segments.length>0?new de([],{[X]:t}):t}function kT(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=kT(i);if(r===X&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new de(t.segments,e);return IL(n)}function IL(t){if(t.numberOfChildren===1&&t.children[X]){let e=t.children[X];return new de(t.segments.concat(e.segments),e.children)}return t}function qs(t){return t instanceof Ar}function DL(t,e,n=null,r=null){let i=FT(t);return VT(i,e,n,r)}function FT(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new de(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OT(r);return e??i}function VT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Nm(i,i,i,n,r);let s=CL(e);if(s.toRoot())return Nm(i,i,new de([],{}),n,r);let o=TL(s,i,t),a=o.processChildren?Ra(o.segmentGroup,o.index,s.commands):jT(o.segmentGroup,o.index,s.commands);return Nm(i,o.segmentGroup,a,n,r)}function hd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ka(t){return typeof t=="object"&&t!=null&&t.outlets}function Nm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let o;t===e?o=n:o=LT(t,e,n);let a=OT(kT(o));return new Ar(a,s,i)}function LT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=LT(s,e,n)}),new de(t.segments,r)}var fd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hd(r[0]))throw new F(4003,!1);let i=r.find(ka);if(i&&i!==ST(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new fd(n,e,r)}var Us=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function TL(t,e,n){if(t.isAbsolute)return new Us(e,!0,0);if(!n)return new Us(e,!1,NaN);if(n.parent===null)return new Us(n,!0,0);let r=hd(t.commands[0])?0:1,i=n.segments.length-1+r;return bL(n,i,t.numberOfDoubleDots)}function bL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Us(r,!1,i-s)}function SL(t){return ka(t[0])?t[0].outlets:{[X]:t}}function jT(t,e,n){if(t||(t=new de([],{})),t.segments.length===0&&t.hasChildren())return Ra(t,e,n);let r=AL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new de(t.segments.slice(r.pathIndex),t.children),Ra(s,0,i)}else return r.match&&i.length===0?new de(t.segments,{}):r.match&&!t.hasChildren()?jm(t,e,n):r.match?Ra(t,0,i):jm(t,e,n)}function Ra(t,e,n){if(n.length===0)return new de(t.segments,{});{let r=SL(n),i={};if(Object.keys(r).some(s=>s!==X)&&t.children[X]&&t.numberOfChildren===1&&t.children[X].segments.length===0){let s=Ra(t.children[X],e,n);return new de(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=jT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new de(t.segments,i)}}function AL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ka(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!ET(u,c,o))return s;r+=2}else{if(!ET(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ka(s)){let u=xL(s.outlets);return new de(r,u)}if(i===0&&hd(n[0])){let u=t.segments[e];r.push(new Di(u.path,wT(n[0]))),i++;continue}let o=ka(s)?s.outlets[X]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hd(a)?(r.push(new Di(o,wT(a))),i+=2):(r.push(new Di(o,{})),i++)}return new de(r,{})}function xL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jm(new de([],{}),0,r))}),e}function wT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ET(t,e,n){return t==n.path&&An(e,n.parameters)}var Na="imperative",Wt=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mr=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},Fa=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pd=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Um=class extends Wt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$m=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hm=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zm=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gm=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wm=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Km=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qm=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Va=class{},La=class{constructor(e){this.url=e}};var Ym=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qa,this.attachRef=null}},qa=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ym,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),md=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xm(e,this._root).map(n=>n.value)}};function Zm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zm(t,n);if(r)return r}return null}function Xm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xm(t,n);if(r.length)return r.unshift(e),r}return[]}var Lt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yd=class extends md{constructor(e,n){super(e),this.snapshot=n,uy(this,e)}toString(){return this.snapshot.toString()}};function BT(t,e){let n=ML(t,e),r=new et([new Di("",{})]),i=new et({}),s=new et({}),o=new et({}),a=new et(""),u=new Ti(r,i,o,a,s,X,e,n.root);return u.snapshot=n.root,new yd(new Lt(u,[]),n)}function ML(t,e){let n={},r={},i={},s="",o=new ja([],n,i,s,r,X,e,null,{});return new vd("",new Lt(o,[]))}var Ti=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe($(c=>c[$a]))??L(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(e=>Hs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(e=>Hs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ay(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&$T(i)&&(r.resolve[$a]=i.title),r}var ja=class{get title(){return this.data?.[$a]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hs(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vd=class extends md{constructor(e,n){super(n),this.url=e,uy(this,n)}toString(){return UT(this._root)}};function uy(t,e){e.value._routerState=t,e.children.forEach(n=>uy(t,n))}function UT(t){let e=t.children.length>0?` { ${t.children.map(UT).join(", ")} } `:"";return`${t.value}${e}`}function Pm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,An(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),An(e.params,n.params)||t.paramsSubject.next(n.params),sL(e.url,n.url)||t.urlSubject.next(n.url),An(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jm(t,e){let n=An(t.params,e.params)&&cL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Jm(t.parent,e.parent))}function $T(t){return typeof t.title=="string"||t.title===null}var cy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=b(qa),this.location=b(_i),this.changeDetector=b(vi),this.environmentInjector=b(Ot),this.inputBinder=b(Cd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new ey(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]});let t=e;return t})(),ey=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ti?this.route:e===qa?this.childContexts:this.parent.get(e,n)}},Cd=new N(""),IT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Yo([i.queryParams,i.params,i.data]).pipe(Te(([o,a,u],c)=>(u=R(R(R({},o),a),u),c===0?L(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=jC(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function RL(t,e,n){let r=Ba(t,e._root,n?n._root:void 0);return new yd(r,e)}function Ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NL(t,e,n);return new Lt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ba(t,a)),o}}let r=PL(e.value),i=e.children.map(s=>Ba(t,s));return new Lt(r,i)}}function NL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ba(t,r,i);return Ba(t,r)})}function PL(t){return new Ti(new et(t.url),new et(t.params),new et(t.queryParams),new et(t.fragment),new et(t.data),t.outlet,t.component,t)}var HT="ngNavigationCancelingError";function qT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zT(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zT(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[HT]=!0,r.cancellationCode=e,n&&(r.url=n),r}function OL(t){return GT(t)&&qs(t.url)}function GT(t){return t&&t[HT]}var kL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tn({type:e,selectors:[["ng-component"]],standalone:!0,features:[IC],decls:1,vars:0,template:function(i,s){i&1&&z(0,"router-outlet")},dependencies:[cy],encapsulation:2});let t=e;return t})();function FL(t,e){return t.providers&&!t._injector&&(t._injector=Kl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ly(t){let e=t.children&&t.children.map(ly),n=e?he(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=kL),n}function xn(t){return t.outlet||X}function VL(t,e){let n=t.filter(r=>xn(r)===e);return n.push(...t.filter(r=>xn(r)!==e)),n}function za(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var LL=(t,e,n,r)=>$(i=>(new ty(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ty=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Bs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Bs(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Bs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Qm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Pm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=za(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},_d=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$s=class{constructor(e,n){this.component=e,this.route=n}};function jL(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function BL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tD(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Bs(e);return t.children.forEach(o=>{UL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pa(a,n.getContext(o),i)),i}function UL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=$L(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _d(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xa(t,e,a?a.children:null,r,i):xa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $s(a.outlet.component,o))}else o&&Pa(e,a,i),i.canActivateChecks.push(new _d(r)),s.component?xa(t,null,a?a.children:null,r,i):xa(t,null,n,r,i);return i}function $L(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ci(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ci(t.url,e.url)||!An(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jm(t,e)||!An(t.queryParams,e.queryParams);case"paramsChange":default:return!Jm(t,e)}}function Pa(t,e,n){let r=Bs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Pa(o,e.children.getContext(s),n):Pa(o,null,n):Pa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new $s(e.outlet.component,i)):n.canDeactivateChecks.push(new $s(null,i)):n.canDeactivateChecks.push(new $s(null,i))}function Ga(t){return typeof t=="function"}function HL(t){return typeof t=="boolean"}function qL(t){return t&&Ga(t.canLoad)}function zL(t){return t&&Ga(t.canActivate)}function GL(t){return t&&Ga(t.canActivateChild)}function WL(t){return t&&Ga(t.canDeactivate)}function KL(t){return t&&Ga(t.canMatch)}function WT(t){return t instanceof qn||t?.name==="EmptyError"}var ud=Symbol("INITIAL_VALUE");function Gs(){return Te(t=>Yo(t.map(e=>e.pipe(zn(1),oi(ud)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===ud)return ud;if(n===!1||n instanceof Ar)return n}return!0}),Qe(e=>e!==ud),zn(1)))}function QL(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?L(he(R({},n),{guardsResult:!0})):YL(o,r,i,t).pipe(Be(a=>a&&HL(a)?ZL(r,s,t,e):L(a)),$(a=>he(R({},n),{guardsResult:a})))})}function YL(t,e,n,r){return oe(t).pipe(Be(i=>n2(i.component,i.route,n,e,r)),Mt(i=>i!==!0,!0))}function ZL(t,e,n,r){return oe(e).pipe(yr(i=>ps(JL(i.route.parent,r),XL(i.route,r),t2(t,i.path,n),e2(t,i.route,n))),Mt(i=>i!==!0,!0))}function XL(t,e){return t!==null&&e&&e(new Km(t)),L(!0)}function JL(t,e){return t!==null&&e&&e(new Gm(t)),L(!0)}function e2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(s=>Hc(()=>{let o=za(e)??n,a=Ws(s,o),u=zL(a)?a.canActivate(e,t):er(o,()=>a(e,t));return Rr(u).pipe(Mt())}));return L(i).pipe(Gs())}function t2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>BL(o)).filter(o=>o!==null).map(o=>Hc(()=>{let a=o.guards.map(u=>{let c=za(o.node)??n,l=Ws(u,c),d=GL(l)?l.canActivateChild(r,t):er(c,()=>l(r,t));return Rr(d).pipe(Mt())});return L(a).pipe(Gs())}));return L(s).pipe(Gs())}function n2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return L(!0);let o=s.map(a=>{let u=za(e)??i,c=Ws(a,u),l=WL(c)?c.canDeactivate(t,e,n,r):er(u,()=>c(t,e,n,r));return Rr(l).pipe(Mt())});return L(o).pipe(Gs())}function r2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return L(!0);let s=i.map(o=>{let a=Ws(o,t),u=qL(a)?a.canLoad(e,n):er(t,()=>a(e,n));return Rr(u)});return L(s).pipe(Gs(),KT(r))}function KT(t){return Jf(Se(e=>{if(qs(e))throw qT(t,e)}),$(e=>e===!0))}function i2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return L(!0);let s=i.map(o=>{let a=Ws(o,t),u=KL(a)?a.canMatch(e,n):er(t,()=>a(e,n));return Rr(u)});return L(s).pipe(Gs(),KT(r))}var Ua=class{constructor(e){this.segmentGroup=e||null}},wd=class extends Error{constructor(e){super(),this.urlTree=e}};function js(t){return fs(new Ua(t))}function s2(t){return fs(new F(4e3,!1))}function o2(t){return fs(zT(!1,3))}var ny=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return L(r);if(i.numberOfChildren>1||!i.children[X])return s2(e.redirectTo);i=i.children[X]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new wd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Ar(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ry={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a2(t,e,n,r,i){let s=dy(t,e,n);return s.matched?(r=FL(e,r),i2(r,e,n,i).pipe($(o=>o===!0?s:R({},ry)))):L(s)}function dy(t,e,n){if(e.path==="**")return u2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},ry):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iL)(n,t,e);if(!i)return R({},ry);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?R(R({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function u2(t){return{matched:!0,parameters:t.length>0?ST(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DT(t,e,n,r){return n.length>0&&d2(t,n,r)?{segmentGroup:new de(e,l2(r,new de(n,t.children))),slicedSegments:[]}:n.length===0&&h2(t,n,r)?{segmentGroup:new de(t.segments,c2(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new de(t.segments,t.children),slicedSegments:n}}function c2(t,e,n,r,i){let s={};for(let o of r)if(Td(t,n,o)&&!i[xn(o)]){let a=new de([],{});s[xn(o)]=a}return R(R({},i),s)}function l2(t,e){let n={};n[X]=e;for(let r of t)if(r.path===""&&xn(r)!==X){let i=new de([],{});n[xn(r)]=i}return n}function d2(t,e,n){return n.some(r=>Td(t,e,r)&&xn(r)!==X)}function h2(t,e,n){return n.some(r=>Td(t,e,r))}function Td(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function f2(t,e,n,r){return xn(t)!==r&&(r===X||!Td(e,n,t))?!1:dy(e,t,n).matched}function p2(t,e,n){return e.length===0&&!t.children[n]}var iy=class{};function g2(t,e,n,r,i,s,o="emptyOnly"){return new sy(t,e,n,r,i,o,s).recognize()}var m2=31,sy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ny(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=DT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new ja([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,{}),i=new Lt(r,n),s=new vd("",i),o=DL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,X).pipe(mr(r=>{if(r instanceof wd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ua?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ay(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof Lt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return oe(i).pipe(yr(s=>{let o=r.children[s],a=VL(n,s);return this.processSegmentGroup(e,a,o,s)}),si((s,o)=>(s.push(...o),s)),vr(null),lp(),Be(s=>{if(s===null)return js(r);let o=QT(s);return y2(o),L(o)}))}processSegment(e,n,r,i,s,o){return oe(n).pipe(yr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(mr(u=>{if(u instanceof Ua)return L(null);throw u}))),Mt(a=>!!a),mr(a=>{if(WT(a))return p2(r,i,s)?L(new iy):js(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return f2(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):js(i):js(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=dy(n,i,s);if(!a)return js(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Be(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=a2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Te(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Te(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ja(l,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,_2(r),xn(r),r.component??r._loadedComponent??null,r,w2(r)),{segmentGroup:m,slicedSegments:v}=DT(n,l,d,u);if(v.length===0&&m.hasChildren())return this.processChildren(c,u,m).pipe($(C=>C===null?null:new Lt(f,C)));if(u.length===0&&v.length===0)return L(new Lt(f,[]));let _=xn(r)===s;return this.processSegment(c,u,m,v,_?X:s,!0).pipe($(C=>new Lt(f,C instanceof Lt?[C]:[])))}))):js(n)))}getChildConfig(e,n,r){return n.children?L({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?L({routes:n._loadedRoutes,injector:n._loadedInjector}):r2(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe(Se(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):o2(n))):L({routes:[],injector:e})}};function y2(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}function v2(t){let e=t.value.routeConfig;return e&&e.path===""}function QT(t){let e=[],n=new Set;for(let r of t){if(!v2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=QT(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!n.has(r))}function _2(t){return t.data||{}}function w2(t){return t.resolve||{}}function E2(t,e,n,r,i,s){return Be(o=>g2(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:u})=>he(R({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function I2(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of YT(u))o.add(c);let a=0;return oe(o).pipe(yr(u=>s.has(u)?D2(u,r,t,e):(u.data=ay(u,u.parent,t).resolve,L(void 0))),Se(()=>a++),ms(1),Be(u=>a===o.size?L(n):wt))})}function YT(t){let e=t.children.map(n=>YT(n)).flat();return[t,...e]}function D2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!$T(i)&&(s[$a]=i.title),C2(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=ay(t,t.parent,n).resolve,null)))}function C2(t,e,n,r){let i=Fm(t);if(i.length===0)return L({});let s={};return oe(i).pipe(Be(o=>T2(t[o],e,n,r).pipe(Mt(),Se(a=>{s[o]=a}))),ms(1),up(s),mr(o=>WT(o)?wt:fs(o)))}function T2(t,e,n,r){let i=za(e)??r,s=Ws(t,i),o=s.resolve?s.resolve(e,n):er(i,()=>s(e,n));return Rr(o)}function Om(t){return Te(e=>{let n=t(e);return n?oe(n).pipe($(()=>e)):L(e)})}var ZT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===X);return i}getResolvedTitleForRoute(r){return r.data[$a]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(b2))(),providedIn:"root"});let t=e;return t})(),b2=(()=>{let e=class e extends ZT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Mm))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wa=new N("",{providedIn:"root",factory:()=>({})}),Ed=new N("ROUTES"),hy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=b(Yl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return L(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rr(r.loadComponent()).pipe($(XT),Se(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),gs(()=>{this.componentLoaders.delete(r)})),s=new cs(i,()=>new je).pipe(us());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return L({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=S2(i,this.compiler,r,this.onLoadEndListener).pipe(gs(()=>{this.childrenLoaders.delete(i)})),a=new cs(o,()=>new je).pipe(us());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function S2(t,e,n,r){return Rr(t.loadChildren()).pipe($(XT),Be(i=>i instanceof la||Array.isArray(i)?L(i):oe(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ed,[],{optional:!0,self:!0}).flat()),{routes:o.map(ly),injector:s}}))}function A2(t){return t&&typeof t=="object"&&"default"in t}function XT(t){return A2(t)?t.default:t}var fy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(x2))(),providedIn:"root"});let t=e;return t})(),x2=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JT=new N(""),eb=new N("");function M2(t,e,n){let r=t.get(eb),i=t.get(pt);return t.get(ie).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),R2(t))),{onViewTransitionCreated:u}=r;return u&&er(t,()=>u({transition:a,from:e,to:n})),o})}function R2(t){return new Promise(e=>{rm(e,{injector:t})})}var py=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=b(hy),this.environmentInjector=b(Ot),this.urlSerializer=b(Ha),this.rootContexts=b(qa),this.location=b(Ls),this.inputBindingEnabled=b(Cd,{optional:!0})!==null,this.titleStrategy=b(ZT),this.options=b(Wa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=b(fy),this.createViewTransition=b(JT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let r=s=>this.events.next(new qm(s)),i=s=>this.events.next(new zm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(R(R({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new et({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(o=>o.id!==0),$(o=>he(R({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Te(o=>{this.currentTransition=o;let a=!1,u=!1;return L(o).pipe(Se(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?he(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Te(c=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Mr(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),wt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return L(c).pipe(Te(h=>{let f=this.transitions?.getValue();return this.events.next(new zs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?wt:Promise.resolve(h)}),E2(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=he(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new pd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:v,extras:_}=c,C=new zs(h,this.urlSerializer.serialize(f),m,v);this.events.next(C);let k=BT(f,this.rootComponentType).snapshot;return this.currentTransition=o=he(R({},c),{targetSnapshot:k,urlAfterRedirects:f,extras:he(R({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,L(o)}else{let h="";return this.events.next(new Mr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),wt}}),Se(c=>{let l=new Bm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),$(c=>(this.currentTransition=o=he(R({},c),{guards:jL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),QL(this.environmentInjector,c=>this.events.next(c)),Se(c=>{if(o.guardsResult=c.guardsResult,qs(c.guardsResult))throw qT(this.urlSerializer,c.guardsResult);let l=new Um(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Om(c=>{if(c.guards.canActivateChecks.length)return L(c).pipe(Se(l=>{let d=new $m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Te(l=>{let d=!1;return L(l).pipe(I2(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Se(l=>{let d=new Hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Om(c=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Se(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Yo(l(c.targetSnapshot.root)).pipe(vr(null),zn(1))}),Om(()=>this.afterPreactivation()),Te(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?oe(d).pipe($(()=>o)):L(o)}),$(c=>{let l=RL(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=he(R({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Se(()=>{this.events.next(new Va)}),LL(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zn(1),Se({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),hp(this.transitionAbortSubject.pipe(Se(c=>{throw c}))),gs(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),mr(c=>{if(u=!0,GT(c))this.events.next(new xr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),OL(c)?this.events.next(new La(c.url)):o.resolve(!1);else{this.events.next(new Fa(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return wt}))}))}cancelNavigationTransition(r,i,s){let o=new xr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N2(t){return t!==Na}var P2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(O2))(),providedIn:"root"});let t=e;return t})(),oy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},O2=(()=>{let e=class e extends oy{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>(()=>b(k2))(),providedIn:"root"});let t=e;return t})(),k2=(()=>{let e=class e extends tb{constructor(){super(...arguments),this.location=b(Ls),this.urlSerializer=b(Ha),this.options=b(Wa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=b(fy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BT(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zs)this.stateMemento=this.createStateMemento();else if(r instanceof Mr)this.rawUrlTree=i.initialUrl;else if(r instanceof pd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Va?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xr&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof Fa?this.restoreHistory(i,!0):r instanceof un&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=R(R({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ma||{});function nb(t,e){t.events.pipe(Qe(n=>n instanceof un||n instanceof xr||n instanceof Fa||n instanceof Mr),$(n=>n instanceof un||n instanceof Mr?Ma.COMPLETE:(n instanceof xr?n.code===0||n.code===1:!1)?Ma.REDIRECTING:Ma.FAILED),Qe(n=>n!==Ma.REDIRECTING),zn(1)).subscribe(()=>{e()})}function F2(t){throw t}var V2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ir=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=b(Ql),this.stateManager=b(tb),this.options=b(Wa,{optional:!0})||{},this.pendingTasks=b(Da),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=b(py),this.urlSerializer=b(Ha),this.location=b(Ls),this.urlHandlingStrategy=b(fy),this._events=new je,this.errorHandler=this.options.errorHandler||F2,this.navigated=!1,this.routeReuseStrategy=b(P2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=b(Ed,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!b(Cd,{optional:!0}),this.eventsSubscription=new Pe,this.isNgZoneEnabled=b(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xr&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof un)this.navigated=!0;else if(i instanceof La){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||N2(s.source)};this.scheduleNavigation(a,Na,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}B2(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Na,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=R({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ly),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,d=null;switch(u){case"merge":d=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=FT(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return VT(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=qs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Na,null,i)}navigate(r,i={skipLocationChange:!1}){return j2(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=R({},V2):i===!1?s=R({},L2):s=i,qs(r))return vT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return vT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});let d=this.pendingTasks.add();return nb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}function B2(t){return!(t instanceof Va)&&!(t instanceof La)}var Id=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:b0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(W(ir),W(Ti),kg("tabindex"),W(bn),W(Ct),W(rr))},e.\u0275dir=ke({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&tt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ia("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Sr],skipLocationChange:["skipLocationChange","skipLocationChange",Sr],replaceUrl:["replaceUrl","replaceUrl",Sr],routerLink:"routerLink"},standalone:!0,features:[sm,Jn]});let t=e;return t})(),rb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof un&&this.update()})}ngAfterContentInit(){L(this.links.changes,L(null)).pipe(vn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=oe(r).pipe(vn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=U2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(W(ir),W(Ct),W(bn),W(vi),W(Id,8))},e.\u0275dir=ke({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&bC(o,Id,5),i&2){let a;TC(a=SC())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Jn]});let t=e;return t})();function U2(t){return!!t.paths}var Dd=class{};var $2=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(r=>r instanceof un),yr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Kl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return oe(s).pipe(vn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=L(null);let o=s.pipe(Be(a=>a===null?L(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([o,a]).pipe(vn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(T(ir),T(Yl),T(Ot),T(Dd),T(hy))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ib=new N(""),H2=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof un?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Mr&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gd&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gd(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){B0()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function q2(t){return t.routerState.root}function Ka(t,e){return{\u0275kind:t,\u0275providers:e}}function z2(){let t=b(Vt);return e=>{let n=t.get(tr);if(e!==n.components[0])return;let r=t.get(ir),i=t.get(sb);t.get(gy)===1&&r.initialNavigation(),t.get(ob,null,re.Optional)?.setUpPreloading(),t.get(ib,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sb=new N("",{factory:()=>new je}),gy=new N("",{providedIn:"root",factory:()=>1});function G2(){return Ka(2,[{provide:gy,useValue:0},{provide:Jl,multi:!0,deps:[Vt],useFactory:e=>{let n=e.get(qC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(ir),s=e.get(sb);nb(i,()=>{r(!0)}),e.get(py).afterPreactivation=()=>(r(!0),s.closed?L(void 0):s),i.initialNavigation()}))}}])}function W2(){return Ka(3,[{provide:Jl,multi:!0,useFactory:()=>{let e=b(ir);return()=>{e.setUpLocationChangeListener()}}},{provide:gy,useValue:2}])}var ob=new N("");function K2(t){return Ka(0,[{provide:ob,useExisting:$2},{provide:Dd,useExisting:t}])}function Q2(){return Ka(8,[IT,{provide:Cd,useExisting:IT}])}function Y2(t){let e=[{provide:JT,useValue:M2},{provide:eb,useValue:R({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ka(9,e)}var CT=new N("ROUTER_FORROOT_GUARD"),Z2=[Ls,{provide:Ha,useClass:Oa},ir,qa,{provide:Ti,useFactory:q2,deps:[ir]},hy,[]],my=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Z2,[],{provide:Ed,multi:!0,useValue:r},{provide:CT,useFactory:tj,deps:[[ir,new Ps,new Vg]]},{provide:Wa,useValue:i||{}},i?.useHash?J2():ej(),X2(),i?.preloadingStrategy?K2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?nj(i):[],i?.bindToComponentInputs?Q2().\u0275providers:[],i?.enableViewTransitions?Y2().\u0275providers:[],rj()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ed,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(T(CT,8))},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({});let t=e;return t})();function X2(){return{provide:ib,useFactory:()=>{let t=b(ZC),e=b(ie),n=b(Wa),r=b(py),i=b(Ha);return n.scrollOffset&&t.setOffset(n.scrollOffset),new H2(i,r,t,e,n)}}}function J2(){return{provide:rr,useClass:GC}}function ej(){return{provide:rr,useClass:wm}}function tj(t){return"guarded"}function nj(t){return[t.initialNavigation==="disabled"?W2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?G2().\u0275providers:[]]}var TT=new N("");function rj(){return[{provide:TT,useFactory:z2},{provide:Vs,multi:!0,useExisting:TT}]}var sj="firebase",oj="10.7.1";gr(sj,oj,"app");var Ks=new Zn("ANGULARFIRE2_VERSION");var aj=(t,e)=>{let n=e?[e]:LE(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},bi=class{constructor(){return aj(uj)}},uj="app-check";function yy(){}var bd=class{zone;delegate;constructor(e,n=rp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},vy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yy,{},yy,yy)),n.pipe(Se({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Sd=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bd(Zone.current)),this.insideAngular=n.run(()=>new bd(Zone.current,Qo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(ie))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cj(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function St(t){return lj(cj())(t)}function lj(t){return function(n){return n=n.lift(new vy(t.ngZone)),n.pipe(en(t.outsideAngular),Ht(t.insideAngular))}}var fj=new Map,pj={activated:!1,tokenObservers:[]},gj={initialized:!1,enabled:!1};function cn(t){return fj.get(t)||Object.assign({},pj)}function hb(){return gj}var mj="https://content-firebaseappcheck.googleapis.com/v1";var yj="exchangeDebugToken",ub={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},d8=24*60*60*1e3;var wy=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return y(this,null,function*(){this.stop();try{this.pending=new Hf,this.pending.promise.catch(n=>{}),yield vj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Hf,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function vj(t){return new Promise(e=>{setTimeout(e,t)})}var _j={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Nr=new FE("appCheck","AppCheck",_j);function fb(t){if(!cn(t).activated)throw Nr.create("use-before-activation",{appName:t.name})}function pb(r,i){return y(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(t,a)}catch(f){throw Nr.create("fetch-network-error",{originalErrorMessage:f?.message})}if(u.status!==200)throw Nr.create("fetch-status-error",{httpStatus:u.status});let c;try{c=yield u.json()}catch(f){throw Nr.create("fetch-parse-error",{originalErrorMessage:f?.message})}let l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(l[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function gb(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mj}/projects/${n}/apps/${r}:${yj}?key=${i}`,body:{debug_token:e}}}var wj="firebase-app-check-database",Ej=1,Ey="firebase-app-check-store";var Ad=null;function Ij(){return Ad||(Ad=new Promise((t,e)=>{try{let n=indexedDB.open(wj,Ej);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Nr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ey,{keyPath:"compositeKey"})}}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}}),Ad)}function Dj(t,e){return Cj(Tj(t),e)}function Cj(t,e){return y(this,null,function*(){let r=(yield Ij()).transaction(Ey,"readwrite"),s=r.objectStore(Ey).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Nr.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})})}function Tj(t){return`${t.options.appId}-${t.name}`}var Iy=new vc("@firebase/app-check");function _y(t,e){return yc()?Dj(t,e).catch(n=>{Iy.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function mb(){return hb().enabled}function yb(){return y(this,null,function*(){let t=hb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var bj={error:"UNKNOWN_ERROR"};function Sj(t){return NE.encodeString(JSON.stringify(t),!1)}function Dy(t,e=!1){return y(this,null,function*(){let n=t.app;fb(n);let r=cn(n),i=r.token,s;if(i&&!Qa(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Qa(u)?i=u:yield _y(n,void 0))}if(!e&&i&&Qa(i))return{token:i.token};let o=!1;if(mb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pb(gb(n,yield yb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let u=yield r.exchangeTokenPromise;return yield _y(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield cn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?Iy.warn(u.message):Iy.error(u),s=u}let a;return i?s?Qa(i)?a={token:i.token,internalError:s}:a=lb(s):(a={token:i.token},r.token=i,yield _y(n,i)):a=lb(s),o&&Rj(n,a),a})}function Aj(t){return y(this,null,function*(){let e=t.app;fb(e);let{provider:n}=cn(e);if(mb()){let r=yield yb(),{token:i}=yield pb(gb(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function xj(t,e,n,r){let{app:i}=t,s=cn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Qa(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),cb(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>cb(t))}function vb(t,e){let n=cn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function cb(t){let{app:e}=t,n=cn(e),r=n.tokenRefresher;r||(r=Mj(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Mj(t){let{app:e}=t;return new wy(()=>y(this,null,function*(){let n=cn(e),r;if(n.token?r=yield Dy(t,!0):r=yield Dy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=cn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ub.RETRIAL_MIN_WAIT,ub.RETRIAL_MAX_WAIT)}function Rj(t,e){let n=cn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Qa(t){return t.expireTimeMillis-Date.now()>0}function lb(t){return{token:Sj(bj),error:t}}var Cy=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=cn(this.app);for(let n of e)vb(this.app,n.next);return Promise.resolve()}};function Nj(t,e){return new Cy(t,e)}function Pj(t){return{getToken:e=>Dy(t,e),getLimitedUseToken:()=>Aj(t),addTokenListener:e=>xj(t,"INTERNAL",e),removeTokenListener:e=>vb(t.app,e)}}var Oj="@firebase/app-check",kj="0.8.1";var Fj="app-check",db="app-check-internal";function Vj(){zo(new ti(Fj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Nj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(db).initialize()})),zo(new ti(db,t=>{let e=t.getProvider("app-check").getImmediate();return Pj(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),gr(Oj,kj)}Vj();var Lj=["localhost","0.0.0.0","127.0.0.1"],D8=typeof window<"u"&&Lj.includes(window.location.hostname);var jj="firebase",Bj="10.7.1";_t.registerVersion(jj,Bj,"app-compat");var Uj=["ngOnDestroy"],Eb=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(Uj.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let u=a?.[s];return typeof u=="function"?u.bind(a):u?.then?u.then(c=>n.run(()=>c)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,c)=>o.then(l=>{let d=l?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,d),d})})})});var xd=class{constructor(e){return e}},Qs=new N("angularfire2.app.options"),Ys=new N("angularfire2.app.name");function Ya(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=_t.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>_t.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;$j("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new xd(o)}var $j=(t,...e)=>{pm()&&typeof console<"u"&&console[t](...e)},Hj={provide:xd,useFactory:Ya,deps:[Qs,ie,[new Ps,Ys]]},Ib=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Qs,useValue:n},{provide:Ys,useValue:r}]}}constructor(n){_t.registerVersion("angularfire",Ks.full,"core"),_t.registerVersion("angularfire",Ks.full,"app-compat"),_t.registerVersion("angular",xC.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(ft))};static \u0275mod=$e({type:t});static \u0275inj=Ue({providers:[Hj]})}return t})();function Md(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return qj(i,o)||(wb("error",`${e} was already initialized on the ${n} Firebase App with different settings.${zj?" You may need to reload as Firebase is not HMR aware.":""}`),wb("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function qj(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var zj=typeof module<"u"&&!!module.hot,wb=(t,...e)=>{pm()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Ty=new N("angularfire2.auth.use-emulator"),by=new N("angularfire2.auth.settings"),Sy=new N("angularfire2.auth.tenant-id"),Ay=new N("angularfire2.auth.langugage-code"),xy=new N("angularfire2.auth.use-device-language"),My=new N("angularfire.auth.persistence"),Ry=(t,e,n,r,i,s,o,a)=>Md(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(let[c,l]of Object.entries(o))u.settings[c]=l;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]),Db=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,c,l,d,h,f){let m=new je,v=L(void 0).pipe(Ht(o.outsideAngular),Te(()=>s.runOutsideAngular(()=>import("./chunk-KTRENSU5.js"))),$(()=>Ya(n,s,r)),$(_=>Ry(_,s,a,c,l,d,u,h)),zc({bufferSize:1,refCount:!1}));if(Ii(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=L(null);else{v.pipe(Mt()).subscribe();let _=v.pipe(Te(M=>M.getRedirectResult().then(U=>U,()=>null)),St,zc({bufferSize:1,refCount:!1})),C=v.pipe(Te(M=>new ne(U=>({unsubscribe:s.runOutsideAngular(()=>M.onAuthStateChanged(H=>U.next(H),H=>U.error(H),()=>U.complete()))})))),k=v.pipe(Te(M=>new ne(U=>({unsubscribe:s.runOutsideAngular(()=>M.onIdTokenChanged(H=>U.next(H),H=>U.error(H),()=>U.complete()))}))));this.authState=_.pipe(Gc(C),en(o.outsideAngular),Ht(o.insideAngular)),this.user=_.pipe(Gc(k),en(o.outsideAngular),Ht(o.insideAngular)),this.idToken=this.user.pipe(Te(M=>M?oe(M.getIdToken()):L(null))),this.idTokenResult=this.user.pipe(Te(M=>M?oe(M.getIdTokenResult()):L(null))),this.credential=ap(_,m,this.authState.pipe(Qe(M=>!M))).pipe($(M=>M?.user?M:null),en(o.outsideAngular),Ht(o.insideAngular))}return Eb(this,v,s,{spy:{apply:(_,C,k)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&k.then(M=>m.next(M))}}})}static \u0275fac=function(r){return new(r||t)(T(Qs),T(Ys,8),T(ft),T(ie),T(Sd),T(Ty,8),T(by,8),T(Sy,8),T(Ay,8),T(xy,8),T(My,8),T(bi,8))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={},A,Jy=Jy||{},K=Wj||self;function qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kj(t){return Object.prototype.hasOwnProperty.call(t,Ny)&&t[Ny]||(t[Ny]=++Qj)}var Ny="closure_uid_"+(1e9*Math.random()>>>0),Qj=0;function Yj(t,e,n){return t.call.apply(t.bind,arguments)}function Zj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function st(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?st=Yj:st=Zj,st.apply(null,arguments)}function Rd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Pr(){this.s=this.s,this.o=this.o}var Xj=0;Pr.prototype.s=!1;Pr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Xj!=0)&&Kj(this)};Pr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ev(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Cb(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(qd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Jj=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};K.addEventListener("test",n,e),K.removeEventListener("test",n,e)}catch{}return t}();function nu(t){return/^[\s\xa0]*$/.test(t)}function zd(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return zd().indexOf(t)!=-1}function tv(t){return tv[" "](t),t}tv[" "]=function(){};function eB(t,e){var n=$B;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tB=Mn("Opera"),eo=Mn("Trident")||Mn("MSIE"),Vb=Mn("Edge"),Vy=Vb||eo,Lb=Mn("Gecko")&&!(zd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),nB=zd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function jb(){var t=K.document;return t?t.documentMode:void 0}var Ly;e:{if(Nd="",Pd=function(){var t=zd();if(Lb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vb)return/Edge\/([\d\.]+)/.exec(t);if(eo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nB)return/WebKit\/(\S+)/.exec(t);if(tB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Pd&&(Nd=Pd?Pd[1]:""),eo&&(Od=jb(),Od!=null&&Od>parseFloat(Nd))){Ly=String(Od);break e}Ly=Nd}var Nd,Pd,Od,jy;K.document&&eo?(Py=jb(),jy=Py||parseInt(Ly,10)||void 0):jy=void 0;var Py,rB=jy;function ru(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lb){e:{try{tv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ru.$.h.call(this)}}Ze(ru,ot);var iB={2:"touch",3:"pen",4:"mouse"};ru.prototype.h=function(){ru.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var du="closure_listenable_"+(1e6*Math.random()|0),sB=0;function oB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sB,this.fa=this.ia=!1}function Gd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function aB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Bb(t){let e={};for(let n in t)e[n]=t[n];return e}var Tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ub(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Tb.length;s++)n=Tb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wd(t){this.src=t,this.g={},this.h=0}Wd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Uy(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function By(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Fb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Uy(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rv="closure_lm_"+(1e6*Math.random()|0),Oy={};function $b(t,e,n,r,i){if(r&&r.once)return qb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$b(t,e[s],n,r,i);return null}return n=ov(n),t&&t[du]?t.O(e,n,lu(r)?!!r.capture:!!r,i):Hb(t,e,n,!1,r,i)}function Hb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=lu(i)?!!i.capture:!!i,a=sv(t);if(a||(t[rv]=a=new Wd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=uB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Gb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function uB(){function t(n){return e.call(t.src,t.listener,n)}let e=cB;return t}function qb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qb(t,e[s],n,r,i);return null}return n=ov(n),t&&t[du]?t.P(e,n,lu(r)?!!r.capture:!!r,i):Hb(t,e,n,!0,r,i)}function zb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zb(t,e[s],n,r,i);else r=lu(r)?!!r.capture:!!r,n=ov(n),t&&t[du]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Uy(s,n,r,i),-1<n&&(Gd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Uy(e,n,r,i)),(n=-1<t?e[t]:null)&&iv(n))}function iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[du])By(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Gb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sv(e))?(By(n,t),n.h==0&&(n.src=null,e[rv]=null)):Gd(t)}}}function Gb(t){return t in Oy?Oy[t]:Oy[t]="on"+t}function cB(t,e){if(t.fa)t=!0;else{e=new ru(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iv(t),t=n.call(r,e)}return t}function sv(t){return t=t[rv],t instanceof Wd?t:null}var ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(t){return typeof t=="function"?t:(t[ky]||(t[ky]=function(e){return t.handleEvent(e)}),t[ky])}function Ye(){Pr.call(this),this.i=new Wd(this),this.S=this,this.J=null}Ze(Ye,Pr);Ye.prototype[du]=!0;Ye.prototype.removeEventListener=function(t,e,n,r){zb(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),Ub(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kd(o,r,!0,e)&&i}if(o=e.g=t,i=kd(o,r,!0,e)&&i,i=kd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=kd(o,r,!1,e)&&i}Ye.prototype.N=function(){if(Ye.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gd(n[r]);delete t.g[e],t.h--}}this.J=null};Ye.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ye.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function kd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&By(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var av=K.JSON.stringify,$y=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function lB(){var t=uv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Hy=class{constructor(){this.h=this.g=null}add(e,n){let r=Wb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Wb=new $y(()=>new qy,t=>t.reset()),qy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function dB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hB(t){K.setTimeout(()=>{throw t},0)}var iu,su=!1,uv=new Hy,Kb=()=>{let t=K.Promise.resolve(void 0);iu=()=>{t.then(fB)}},fB=()=>{for(var t;t=lB();){try{t.h.call(t.g)}catch(n){hB(n)}var e=Wb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}su=!1};function Kd(t,e){Ye.call(this),this.h=t||1,this.g=e||K,this.j=st(this.qb,this),this.l=Date.now()}Ze(Kd,Ye);A=Kd.prototype;A.ga=!1;A.T=null;A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(cv(this),this.start()))}};A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}A.N=function(){Kd.$.N.call(this),cv(this),delete this.g};function lv(t,e,n){if(typeof t=="function")n&&(t=st(t,n));else if(t&&typeof t.handleEvent=="function")t=st(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function Qb(t){t.g=lv(()=>{t.g=null,t.i&&(t.i=!1,Qb(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var zy=class extends Pr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qb(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ou(t){Pr.call(this),this.h=t,this.g={}}Ze(ou,Pr);var bb=[];function Yb(t,e,n,r){Array.isArray(n)||(n&&(bb[0]=n.toString()),n=bb);for(var i=0;i<n.length;i++){var s=$b(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Zb(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&iv(e)},t),t.g={}}ou.prototype.N=function(){ou.$.N.call(this),Zb(this)};ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qd(){this.g=!0}Qd.prototype.Ea=function(){this.g=!1};function pB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+c+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function gB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yB(t,n)+(r?" "+r:"")})}function mB(t,e){t.info(function(){return"TIMEOUT: "+e})}Qd.prototype.info=function(){};function yB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return av(n)}catch{return e}}var Mi={},Sb=null;function Yd(){return Sb=Sb||new Ye}Mi.Ta="serverreachability";function Xb(t){ot.call(this,Mi.Ta,t)}Ze(Xb,ot);function au(t){let e=Yd();rt(e,new Xb(e))}Mi.STAT_EVENT="statevent";function Jb(t,e){ot.call(this,Mi.STAT_EVENT,t),this.stat=e}Ze(Jb,ot);function gt(t){let e=Yd();rt(e,new Jb(e,t))}Mi.Ua="timingevent";function eS(t,e){ot.call(this,Mi.Ua,t),this.size=e}Ze(eS,ot);function hu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var Zd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dv(){}dv.prototype.h=null;function Ab(t){return t.h||(t.h=t.i())}function nS(){}var fu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hv(){ot.call(this,"d")}Ze(hv,ot);function fv(){ot.call(this,"c")}Ze(fv,ot);var Gy;function Xd(){}Ze(Xd,dv);Xd.prototype.g=function(){return new XMLHttpRequest};Xd.prototype.i=function(){return{}};Gy=new Xd;function pu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ou(this),this.P=vB,t=Vy?125:void 0,this.V=new Kd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rS}function rS(){this.i=null,this.g="",this.h=!1}var vB=45e3,iS={},Wy={};A=pu.prototype;A.setTimeout=function(t){this.P=t};function Ky(t,e,n){t.L=1,t.A=eh(or(e)),t.u=n,t.S=!0,sS(t,null)}function sS(t,e){t.G=Date.now(),gu(t),t.B=or(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),fS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new rS,t.g=OS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new zy(st(t.Pa,t,t.g),t.O)),Yb(t.U,t.g,"readystatechange",t.nb),e=t.I?Bb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),au(),pB(t.j,t.v,t.B,t.m,t.W,t.u)}A.nb=function(t){t=t.target;let e=this.M;e&&Rn(t)==3?e.l():this.Pa(t)};A.Pa=function(t){try{if(t==this.g)e:{let l=Rn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Vy||this.g&&(this.h.h||this.g.ja()||Nb(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?au(3):au(2)),Jd(this);var n=this.g.da();this.ca=n;t:if(oS(this)){var r=Nb(this.g);t="";var i=r.length,s=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),tu(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,gB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nu(a)){var c=a;break t}}c=null}if(n=c)Xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qy(this,n);else{this.i=!1,this.s=3,gt(12),Si(this),tu(this);break e}}this.S?(aS(this,l,o),Vy&&this.i&&l==3&&(Yb(this.U,this.V,"tick",this.mb),this.V.start())):(Xs(this.j,this.m,o,null),Qy(this,o)),l==4&&Si(this),this.i&&!this.J&&(l==4?MS(this.l,this):(this.i=!1,gu(this)))}else jB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Si(this),tu(this)}}}catch{}finally{}};function oS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function aS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=_B(t,n),i==Wy){e==4&&(t.s=4,gt(14),r=!1),Xs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==iS){t.s=4,gt(15),Xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xs(t.j,t.m,i,null),Qy(t,i);oS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_v(e),e.M=!0,gt(11))):(Xs(t.j,t.m,n,"[Invalid Chunked Response]"),Si(t),tu(t))}A.mb=function(){if(this.g){var t=Rn(this.g),e=this.g.ja();this.o<e.length&&(Jd(this),aS(this,t,e),this.i&&t!=4&&gu(this))}};function _B(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Wy:(n=Number(e.substring(n,r)),isNaN(n)?iS:(r+=1,r+n>e.length?Wy:(e=e.slice(r,r+n),t.o=r+n,e)))}A.cancel=function(){this.J=!0,Si(this)};function gu(t){t.Y=Date.now()+t.P,uS(t,t.P)}function uS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=hu(st(t.lb,t),e)}function Jd(t){t.C&&(K.clearTimeout(t.C),t.C=null)}A.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(mB(this.j,this.B),this.L!=2&&(au(),gt(17)),Si(this),this.s=2,tu(this)):uS(this,this.Y-t)};function tu(t){t.l.H==0||t.J||MS(t.l,t)}function Si(t){Jd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cv(t.V),Zb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Qy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Yy(n.i,t))){if(!t.K&&Yy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bd(n),rh(n);else break e;vv(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=hu(st(n.ib,n),6e3));if(1>=mS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Bd(n),!nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];let l=c[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pv(s,s.h),s.h=null))}if(r.F){let v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,we(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PS(r,r.J?r.pa:null,r.Y),o.K){yS(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(Jd(a),gu(a)),r.g=o}else AS(r);0<n.j.length&&ih(n)}else c[0]!="stop"&&c[0]!="close"||Ai(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ai(n,7):yv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}au(4)}catch{}}function wB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(qd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function EB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function cS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EB(t),r=wB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var lS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xi){this.h=t.h,Ld(this,t.j),this.s=t.s,this.g=t.g,jd(this,t.m),this.l=t.l;var e=t.i,n=new uu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xb(this,n),this.o=t.o}else t&&(e=String(t).match(lS))?(this.h=!1,Ld(this,e[1]||"",!0),this.s=Ja(e[2]||""),this.g=Ja(e[3]||"",!0),jd(this,e[4]),this.l=Ja(e[5]||"",!0),xb(this,e[6]||"",!0),this.o=Ja(e[7]||"")):(this.h=!1,this.i=new uu(null,this.h))}xi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(eu(e,Mb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(eu(e,Mb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(eu(n,n.charAt(0)=="/"?TB:CB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",eu(n,SB)),t.join("")};function or(t){return new xi(t)}function Ld(t,e,n){t.j=n?Ja(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xb(t,e,n){e instanceof uu?(t.i=e,AB(t.i,t.h)):(n||(e=eu(e,bB)),t.i=new uu(e,t.h))}function we(t,e,n){t.i.set(e,n)}function eh(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ja(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Mb=/[#\/\?@]/g,CB=/[#\?:]/g,TB=/[#\?]/g,bB=/[#\?@]/g,SB=/#/g;function uu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Or(t){t.g||(t.g=new Map,t.h=0,t.i&&IB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}A=uu.prototype;A.add=function(t,e){Or(this),this.i=null,t=to(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dS(t,e){Or(t),e=to(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hS(t,e){return Or(t),e=to(t,e),t.g.has(e)}A.forEach=function(t,e){Or(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};A.ta=function(){Or(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};A.Z=function(t){Or(this);let e=[];if(typeof t=="string")hS(this,t)&&(e=e.concat(this.g.get(to(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};A.set=function(t,e){return Or(this),this.i=null,t=to(this,t),hS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};A.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fS(t,e,n){dS(t,e),0<n.length&&(t.i=null,t.g.set(to(t,e),ev(n)),t.h+=n.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function to(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AB(t,e){e&&!t.j&&(Or(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dS(this,r),fS(this,i,n))},t)),t.j=e}var xB=class{constructor(t,e){this.g=t,this.map=e}};function pS(t){this.l=t||MB,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MB=10;function gS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mS(t){return t.h?1:t.g?t.g.size:0}function Yy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pv(t,e){t.g?t.g.add(e):t.h=e}function yS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pS.prototype.cancel=function(){if(this.i=vS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function vS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return ev(t.i)}var RB=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function NB(){this.g=new RB}function PB(t,e,n){let r=n||"";try{cS(t,function(i,s){let o=i;lu(i)&&(o=av(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function OB(t,e){let n=new Qd;if(K.Image){let r=new Image;r.onload=Rd(Fd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rd(Fd,n,r,"TestLoadImage: error",!1,e),r.onabort=Rd(Fd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rd(Fd,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mu(t){this.l=t.ec||null,this.j=t.ob||!1}Ze(mu,dv);mu.prototype.g=function(){return new th(this.l,this.j)};mu.prototype.i=function(t){return function(){return t}}({});function th(t,e){Ye.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(th,Ye);var gv=0;A=th.prototype;A.open=function(t,e){if(this.readyState!=gv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cu(this)};A.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yu(this)),this.readyState=gv};A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cu(this)),this.g&&(this.readyState=3,cu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_S(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _S(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?yu(this):cu(this),this.readyState==3&&_S(this)}};A.Za=function(t){this.g&&(this.response=this.responseText=t,yu(this))};A.Ya=function(t){this.g&&(this.response=t,yu(this))};A.ka=function(){this.g&&yu(this)};function yu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cu(t)}A.setRequestHeader=function(t,e){this.v.append(t,e)};A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};A.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kB=K.JSON.parse;function Me(t){Ye.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wS,this.L=this.M=!1}Ze(Me,Ye);var wS="",FB=/^https?$/i,VB=["POST","PUT"];A=Me.prototype;A.Oa=function(t){this.M=t};A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gy.g(),this.C=this.u?Ab(this.u):Ab(Gy),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Rb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&t instanceof K.FormData,!(0<=Fb(VB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DS(this),0<this.B&&((this.L=LB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=lv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Rb(this,s)}};function LB(t){return eo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}A.ua=function(){typeof Jy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function Rb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ES(t),nh(t)}function ES(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),nh(this))};A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nh(this,!0)),Me.$.N.call(this)};A.La=function(){this.s||(this.G||this.v||this.l?IS(this):this.kb())};A.kb=function(){IS(this)};function IS(t){if(t.h&&typeof Jy<"u"&&(!t.C[1]||Rn(t)!=4||t.da()!=2)){if(t.v&&Rn(t)==4)lv(t.La,0,t);else if(rt(t,"readystatechange"),Rn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(lS)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!FB.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<Rn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ES(t)}}finally{nh(t)}}}}function nh(t,e){if(t.g){DS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function DS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}A.isActive=function(){return!!this.g};function Rn(t){return t.g?t.g.readyState:0}A.da=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}};A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kB(e)}};function Nb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jB(t){let e={};t=(t.g&&2<=Rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nu(t[r]))continue;var n=dB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}aB(e,function(r){return r.join(", ")})}A.Ia=function(){return this.m};A.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function CS(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function TS(t){this.Ga=0,this.j=[],this.l=new Qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Za("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Za("baseRetryDelayMs",5e3,t),this.hb=Za("retryDelaySeedMs",1e4,t),this.eb=Za("forwardChannelMaxRetries",2,t),this.xa=Za("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pS(t&&t.concurrentRequestLimit),this.Ja=new NB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}A=TS.prototype;A.ra=8;A.H=1;function yv(t){if(bS(t),t.H==3){var e=t.W++,n=or(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),vu(t,n),e=new pu(t,t.l,e),e.L=2,e.A=eh(or(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&K.Image&&(new Image().src=e.A,n=!0),n||(e.g=OS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),gu(e)}NS(t)}function rh(t){t.g&&(_v(t),t.g.cancel(),t.g=null)}function bS(t){rh(t),t.u&&(K.clearTimeout(t.u),t.u=null),Bd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function ih(t){if(!gS(t.i)&&!t.m){t.m=!0;var e=t.Na;iu||Kb(),su||(iu(),su=!0),uv.add(e,t),t.C=0}}function BB(t,e){return mS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=hu(st(t.Na,t,e),RS(t,t.C)),t.C++,!0)}A.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new pu(this,this.l,t),s=this.s;if(this.U&&(s?(s=Bb(s),Ub(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SS(this,i,e),n=or(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),vu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(CS(s)))+"&"+e:this.o&&mv(n,this.o,s)),pv(this.i,i),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),i.aa=!0,Ky(i,n,null)):Ky(i,n,e),this.H=2}}else this.H==3&&(t?Pb(this,t):this.j.length==0||gS(this.i)||Pb(this))};function Pb(t,e){var n;e?n=e.m:n=t.W++;let r=or(t.I);we(r,"SID",t.K),we(r,"RID",n),we(r,"AID",t.V),vu(t,r),t.o&&t.s&&mv(r,t.o,t.s),n=new pu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pv(t.i,n),Ky(n,r,e)}function vu(t,e){t.na&&nv(t.na,function(n,r){we(e,r,n)}),t.h&&cS({},function(n,r){we(e,r,n)})}function SS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?st(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g,l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{PB(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;iu||Kb(),su||(iu(),su=!0),uv.add(e,t),t.A=0}}function vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=hu(st(t.Ma,t),RS(t,t.A)),t.A++,!0)}A.Ma=function(){if(this.u=null,xS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hu(st(this.jb,this),t)}};A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),rh(this),xS(this))};function _v(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function xS(t){t.g=new pu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=or(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),vu(t,e),t.o&&t.s&&mv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=eh(or(e)),n.u=null,n.S=!0,sS(n,t)}A.ib=function(){this.v!=null&&(this.v=null,rh(this),vv(this),gt(19))};function Bd(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function MS(t,e){var n=null;if(t.g==e){Bd(t),_v(t),t.g=null;var r=2}else if(Yy(t.i,e))n=e.F,yS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Yd(),rt(r,new eS(r,n)),ih(t)}else AS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&BB(t,e)||r==2&&vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function RS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=st(t.pb,t);n||(n=new xi("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Ld(n,"https"),eh(n)),OB(n.toString(),r)}else gt(2);t.H=0,t.h&&t.h.za(e),NS(t),bS(t)}A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function NS(t){if(t.H=0,t.ma=[],t.h){let e=vS(t.i);(e.length!=0||t.j.length!=0)&&(Cb(t.ma,e),Cb(t.ma,t.j),t.i.i.length=0,ev(t.j),t.j.length=0),t.h.ya()}}function PS(t,e,n){var r=n instanceof xi?or(n):new xi(n);if(r.g!="")e&&(r.g=e+"."+r.g),jd(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xi(null);r&&Ld(s,r),e&&(s.g=e),i&&jd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&we(r,n,e),we(r,"VER",t.ra),vu(t,r),r}function OS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Me(new mu({ob:n})):new Me(t.va),e.Oa(t.J),e}A.isActive=function(){return!!this.h&&this.h.isActive(this)};function kS(){}A=kS.prototype;A.Ba=function(){};A.Aa=function(){};A.za=function(){};A.ya=function(){};A.isActive=function(){return!0};A.Va=function(){};function Ud(){if(eo&&!(10<=Number(rB)))throw Error("Environmental error: no available transport.")}Ud.prototype.g=function(t,e){return new jt(t,e)};function jt(t,e){Ye.call(this),this.g=new TS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new no(this)}Ze(jt,Ye);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PS(t,null,t.Y),ih(t)};jt.prototype.close=function(){yv(this.g)};jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=av(t),t=n);e.j.push(new xB(e.fb++,t)),e.H==3&&ih(e)};jt.prototype.N=function(){this.g.h=null,delete this.j,yv(this.g),delete this.g,jt.$.N.call(this)};function FS(t){hv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(FS,hv);function VS(){fv.call(this),this.status=1}Ze(VS,fv);function no(t){this.g=t}Ze(no,kS);no.prototype.Ba=function(){rt(this.g,"a")};no.prototype.Aa=function(t){rt(this.g,new FS(t))};no.prototype.za=function(t){rt(this.g,new VS)};no.prototype.ya=function(){rt(this.g,"b")};function UB(){this.blockSize=-1}function ln(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(ln,UB);ln.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Fy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ln.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Fy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Fy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Fy(this,r),i=0;break}}this.h=i,this.i+=e};ln.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var $B={};function wv(t){return-128<=t&&128>t?eB(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return Js;if(0>t)return nt(Nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Zy;return new fe(e,0)}function LS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nt(LS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),r=Js,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Nn(Math.pow(e,s)),r=r.R(s).add(Nn(o))):(r=r.R(n),r=r.add(Nn(o)))}return r}var Zy=4294967296,Js=wv(0),Xy=wv(1),Ob=wv(16777216);A=fe.prototype;A.ea=function(){if(Kt(this))return-nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Zy+r)*e,e*=Zy}return t};A.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(Kt(this))return"-"+nt(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,r="";;){var i=Hd(n,e).g;n=$d(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,sr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kt(t){return t.h==-1}A.X=function(t){return t=$d(this,t),Kt(t)?-1:sr(t)?0:1};function nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(Xy)}A.abs=function(){return Kt(this)?nt(this):this};A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function $d(t,e){return t.add(nt(e))}A.R=function(t){if(sr(this)||sr(t))return Js;if(Kt(this))return Kt(t)?nt(this).R(nt(t)):nt(nt(this).R(t));if(Kt(t))return nt(this.R(nt(t)));if(0>this.X(Ob)&&0>t.X(Ob))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Vd(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Vd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Vd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Vd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function Vd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xa(t,e){this.g=t,this.h=e}function Hd(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new Xa(Js,Js);if(Kt(t))return e=Hd(nt(t),e),new Xa(nt(e.g),nt(e.h));if(Kt(e))return e=Hd(t,nt(e)),new Xa(nt(e.g),e.h);if(30<t.g.length){if(Kt(t)||Kt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Xy,r=e;0>=r.X(t);)n=kb(n),r=kb(r);var i=Zs(n,1),s=Zs(r,1);for(r=Zs(r,2),n=Zs(n,2);!sr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zs(r,1),n=Zs(n,1)}return e=$d(t,i.R(e)),new Xa(i,e)}for(i=Js;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Nn(n),o=s.R(e);Kt(o)||0<o.X(t);)n-=r,s=Nn(n),o=s.R(e);sr(s)&&(s=Xy),i=i.add(s),t=$d(t,o)}return new Xa(i,t)}A.gb=function(t){return Hd(this,t).h};A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function kb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function Zs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}Ud.prototype.createWebChannel=Ud.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;Zd.NO_ERROR=0;Zd.TIMEOUT=8;Zd.HTTP_ERROR=6;tS.COMPLETE="complete";nS.EventType=fu;fu.OPEN="a";fu.CLOSE="b";fu.ERROR="c";fu.MESSAGE="d";Ye.prototype.listen=Ye.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;ln.prototype.digest=ln.prototype.l;ln.prototype.reset=ln.prototype.reset;ln.prototype.update=ln.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Nn;fe.fromString=LS;var jS=dn.createWebChannelTransport=function(){return new Ud},BS=dn.getStatEventTarget=function(){return Yd()},sh=dn.ErrorCode=Zd,US=dn.EventType=tS,$S=dn.Event=Mi,Ev=dn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K8=dn.FetchXmlHttpFactory=mu,_u=dn.WebChannel=nS,HS=dn.XhrIo=Me,qS=dn.Md5=ln,Ri=dn.Integer=fe;var zS="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var Po="10.7.0";var Ur=new vc("@firebase/firestore");function ao(){return Ur.logLevel}function qA(t){Ur.setLogLevel(t)}function I(t,...e){if(Ur.logLevel<=mn.DEBUG){let n=e.map(Iw);Ur.debug(`Firestore (${Po}): ${t}`,...n)}}function Fe(t,...e){if(Ur.logLevel<=mn.ERROR){let n=e.map(Iw);Ur.error(`Firestore (${Po}): ${t}`,...n)}}function Yt(t,...e){if(Ur.logLevel<=mn.WARN){let n=e.map(Iw);Ur.warn(`Firestore (${Po}): ${t}`,...n)}}function Iw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function P(t="Unexpected state"){let e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+t;throw Fe(e),new Error(e)}function V(t,e){t||P()}function zA(t,e){t||P()}function x(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=class extends kE{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ge=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var mh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ze.UNAUTHENTICATED))}shutdown(){}},Sv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Av=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Ge;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ge,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ge)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(V(typeof r.accessToken=="string"),new mh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return V(e===null||typeof e=="string"),new ze(e)}},xv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(V(typeof n.token=="string"),this.R=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function HB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=HB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Q(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function GA(t){return t+"\0"}var be=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new w(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new w(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new w(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new be(0,0))}static max(){return new t(new be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&P(),r===void 0?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},le=class t extends vh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new w(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},qB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ve=class t extends vh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return qB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new w(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new w(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new w(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new w(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var S=class t{constructor(e){this.path=e}static fromPath(e){return new t(le.fromString(e))}static fromName(e){return new t(le.fromString(e).popFirst(5))}static empty(){return new t(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new le(e.slice()))}};var vo=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function Pv(t){return t.fields.find(e=>e.kind===2)}function Pi(t){return t.fields.filter(e=>e.kind!==2)}vo.UNKNOWN_ID=-1;var po=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Ru=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Zt.min())}};function WA(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new be(n+1,0):new be(n,r));return new Zt(i,S.empty(),e)}function KA(t){return new Zt(t.readTime,t.key,-1)}var Zt=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),S.empty(),-1)}static max(){return new t(B.max(),S.empty(),-1)}};function Dw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=S.comparator(t.documentKey,e.documentKey),n!==0?n:Q(t.largestBatchId,e.largestBatchId))}var QA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_h=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Xr(t){return y(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==QA)throw t;I("LocalStore","Unexpectedly lost primary lease")})}var p=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var wh=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ge,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ji(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Cw(r.target.error);this.V.reject(new ji(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ji(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new kv(n)}},$r=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(mc())===12.2&&Fe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),Oi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!yc())return!1;if(t.C())return!0;let e=mc(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return y(this,null,function*(){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ji(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new w(g.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new w(g.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ji(e,o))},i.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return y(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=wh.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),p.reject(c))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,c=u.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Ov=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Oi(this.k.delete())}},ji=class extends w{constructor(e,n){super(g.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Jr(t){return t.name==="IndexedDbTransactionError"}var kv=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(I("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Oi(r)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),Oi(this.store.add(e))}get(e){return Oi(this.store.get(e)).next(n=>(n===void 0&&(n=null),I("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),Oi(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),Oi(this.store.count())}W(e,n){let r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){let i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{let i=this.store.getAll(r.range);return new p((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new p((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){I("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new p((r,i)=>{n.onerror=s=>{let o=Cw(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new p((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let u=new Ov(a),c=n(a.primaryKey,a.value,u);if(c instanceof p){let l=c.catch(d=>(u.done(),p.reject(d)));r.push(l)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>p.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Oi(t){return new p((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=Cw(r.target.error);n(i)}})}var GS=!1;function Cw(t){let e=$r.S(mc());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new w("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GS||(GS=!0,setTimeout(()=>{throw r},0)),r}}return t}var Fv=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){I("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>y(this,null,function*(){this.task=null;try{I("IndexBackiller",`Documents written: ${yield this.X.te()}`)}catch(n){Jr(n)?I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Xr(n)}yield this.ee(6e4)}))}},Vv=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return y(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let r=new Set,i=n,s=!0;return p.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return I("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(I("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=KA(s);Dw(o,r)>0&&(r=o)}),new Zt(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var Bt=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function tc(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function YA(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function mt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WS(e)),e=zB(t.get(n),e);return WS(e)}function zB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function WS(t){return t+""}function Pn(t){let e=t.length;if(V(e>=2),e===2)return V(t.charAt(0)===""&&t.charAt(1)===""),le.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&P(),t.charAt(o+1)){case"":let a=t.substring(s,o),u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:P()}s=o+2}return new le(r)}var KS=["userId","batchId"];function lh(t,e){return[t,mt(e)]}function ZA(t,e,n){return[t,mt(e),n]}var GB={},WB=["prefixPath","collectionGroup","readTime","documentId"],KB=["prefixPath","collectionGroup","documentId"],QB=["collectionGroup","readTime","prefixPath","documentId"],YB=["canonicalId","targetId"],ZB=["targetId","path"],XB=["path","targetId"],JB=["collectionId","parent"],eU=["indexId","uid"],tU=["uid","sequenceNumber"],nU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rU=["indexId","uid","orderedDocumentKey"],iU=["userId","collectionPath","documentId"],sU=["userId","collectionPath","largestBatchId"],oU=["userId","collectionGroup","largestBatchId"],XA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aU=[...XA,"documentOverlays"],JA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ex=JA,uU=[...ex,"indexConfiguration","indexState","indexEntries"];var Pu=class extends _h{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function Je(t,e){let n=x(t);return $r.M(n.ae,e)}function QS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ee=class t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}},fo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();let e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var me=class t{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Eh(this.data.getIterator())}getIteratorFrom(e){return new Eh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Eh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ro(t){return t.hasNext()?t.getNext():void 0}var Ut=class t{constructor(e){this.fields=e,e.sort(Ve.comparator)}static empty(){return new t([])}unionWith(e){let n=new me(Ve.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ih=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function nx(){return typeof atob<"u"}var Xe=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ih("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xe.EMPTY_BYTE_STRING=new Xe("");var cU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(V(!!t),typeof t=="string"){let e=0,n=cU.exec(t);if(V(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}function ff(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tw(t){let e=t.mapValue.fields.__previous_value__;return ff(e)?Tw(e):e}function Ou(t){let e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new be(e.seconds,e.nanos)}var Lv=class{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}},zr=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dh={nullValue:"NULL_VALUE"};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ff(t)?4:rx(t)?9007199254740991:10:P()}function Ln(t,e){if(t===e)return!0;let n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ou(t).isEqual(Ou(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Hr(i.timestampValue),a=Hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Re(i.doubleValue),a=Re(s.doubleValue);return o===a?Nu(o)===Nu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(QS(o)!==QS(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ln(o[u],a[u])))return!1;return!0}(t,e);default:return P()}}function ku(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Gr(t,e){if(t===e)return 0;let n=Bi(t),r=Bi(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Re(s.integerValue||s.doubleValue),u=Re(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return YS(t.timestampValue,e.timestampValue);case 4:return YS(Ou(t),Ou(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qr(s),u=qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){let l=Q(a[c],u[c]);if(l!==0)return l}return Q(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Q(Re(s.latitude),Re(o.latitude));return a!==0?a:Q(Re(s.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){let l=Gr(a[c],u[c]);if(l)return l}return Q(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jr.mapValue&&o===jr.mapValue)return 0;if(s===jr.mapValue)return 1;if(o===jr.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){let h=Q(u[d],l[d]);if(h!==0)return h;let f=Gr(a[u[d]],c[l[d]]);if(f!==0)return f}return Q(u.length,l.length)}(t.mapValue,e.mapValue);default:throw P()}}function YS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Q(t,e);let n=Hr(t),r=Hr(e),i=Q(n.seconds,r.seconds);return i!==0?i:Q(n.nanos,r.nanos)}function _o(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return S.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):P()}function Ui(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function Fu(t){return!!t&&"arrayValue"in t}function ZS(t){return!!t&&"nullValue"in t}function XS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hh(t){return!!t&&"mapValue"in t}function bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function lU(t){return"nullValue"in t?dh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ui(zr.empty(),S.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:P()}function dU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ui(zr.empty(),S.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?jr:P()}function JS(t,e){let n=Gr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function eA(t,e){let n=Gr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var ut=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=Ve.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(bu(this.value))}};function ix(t){let e=[];return Zi(t.fields,(n,r)=>{let i=new Ve([n]);if(hh(r)){let s=ix(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ut(e)}var We=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),ut.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),ut.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var jn=class{constructor(e,n){this.position=e,this.inclusive=n}};function tA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=S.comparator(S.fromName(o.referenceValue),n.key):r=Gr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}var $i=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function hU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Dh=class{},se=class t extends Dh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hv(e,n,r):n==="array-contains"?new Gv(e,r):n==="in"?new Ch(e,r):n==="not-in"?new Wv(e,r):n==="array-contains-any"?new Kv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qv(e,r):new zv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gr(n,this.value)):n!==null&&Bi(this.value)===Bi(n)&&this.matchesComparison(Gr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pe=class t extends Dh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return wo(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function wo(t){return t.op==="and"}function Uv(t){return t.op==="or"}function bw(t){return sx(t)&&wo(t)}function sx(t){for(let e of t.filters)if(e instanceof pe)return!1;return!0}function $v(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+_o(t.value);if(bw(t))return t.filters.map(e=>$v(e)).join(",");{let e=t.filters.map(n=>$v(n)).join(",");return`${t.op}(${e})`}}function ox(t,e){return t instanceof se?function(r,i){return i instanceof se&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof pe?function(r,i){return i instanceof pe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ox(o,i.filters[a]),!0):!1}(t,e):void P()}function ax(t,e){let n=t.filters.concat(e);return pe.create(n,t.op)}function ux(t){return t instanceof se?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(t):t instanceof pe?function(n){return n.op.toString()+" {"+n.getFilters().map(ux).join(" ,")+"}"}(t):"Filter"}var Hv=class extends se{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){let n=S.comparator(e.key,this.key);return this.matchesComparison(n)}},qv=class extends se{constructor(e,n){super(e,"in",n),this.keys=cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},zv=class extends se{constructor(e,n){super(e,"not-in",n),this.keys=cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}var Gv=class extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Fu(n)&&ku(n.arrayValue,this.value)}},Ch=class extends se{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}},Wv=class extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ku(this.value.arrayValue,n)}},Kv=class extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Fu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ku(this.value.arrayValue,r))}};var Qv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function Yv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qv(t,e,n,r,i,s,o)}function Hi(t){let e=x(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_o(r)).join(",")),e.ce=n}return e.ce}function nc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ox(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nA(t.startAt,e.startAt)&&nA(t.endAt,e.endAt)}function Th(t){return S.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function bh(t,e){return t.filters.filter(n=>n instanceof se&&n.field.isEqual(e))}function rA(t,e,n){let r=dh,i=!0;for(let s of bh(t,e)){let o=dh,a=!0;switch(s.op){case"<":case"<=":o=lU(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=dh}JS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];JS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function iA(t,e,n){let r=jr,i=!0;for(let s of bh(t,e)){let o=jr,a=!0;switch(s.op){case">=":case">":o=dU(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=jr}eA({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];eA({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var hn=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function lx(t,e,n,r,i,s,o,a){return new hn(t,e,n,r,i,s,o,a)}function Oo(t){return new hn(t)}function sA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sw(t){return t.collectionGroup!==null}function go(t){let e=x(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new me(Ve.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new $i(s,r))}),n.has(Ve.keyField().canonicalString())||e.le.push(new $i(Ve.keyField(),r))}return e.le}function yt(t){let e=x(t);return e.he||(e.he=fU(e,go(t))),e.he}function fU(t,e){if(t.limitType==="F")return Yv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new $i(i.field,s)});let n=t.endAt?new jn(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jn(t.startAt.position,t.startAt.inclusive):null;return Yv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){let n=t.filters.concat([e]);return new hn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sh(t,e,n){return new hn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rc(t,e){return nc(yt(t),yt(e))&&t.limitType===e.limitType}function dx(t){return`${Hi(yt(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ux(i)).join(", ")}]`),tc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_o(i)).join(",")),`Target(${r})`}(yt(t))}; limitType=${t.limitType})`}function ic(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):S.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of go(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let c=tA(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,go(r),i)||r.endAt&&!function(o,a,u){let c=tA(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,go(r),i))}(t,e)}function hx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fx(t){return(e,n)=>{let r=!1;for(let i of go(t)){let s=pU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pU(t,e,n){let r=t.field.isKeyField()?S.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Gr(u,c):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}var Bn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return tx(this.inner)}size(){return this.innerSize}};var gU=new Ee(S.comparator);function At(){return gU}var px=new Ee(S.comparator);function Cu(...t){let e=px;for(let n of t)e=e.insert(n.key,n);return e}function gx(t){let e=px;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function On(){return Su()}function mx(){return Su()}function Su(){return new Bn(t=>t.toString(),(t,e)=>t.isEqual(e))}var mU=new Ee(S.comparator),yU=new me(S.comparator);function Z(...t){let e=yU;for(let n of t)e=e.add(n);return e}var vU=new me(Q);function Aw(){return vU}function yx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function vx(t){return{integerValue:""+t}}function _x(t,e){return YA(e)?vx(e):yx(t,e)}var Eo=class{constructor(){this._=void 0}};function _U(t,e,n){return t instanceof Wr?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ff(s)&&(s=Tw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof cr?Ex(t,e):t instanceof lr?Ix(t,e):function(i,s){let o=wx(i,s),a=oA(o)+oA(i.Ie);return Bv(o)&&Bv(i.Ie)?vx(a):yx(i.serializer,a)}(t,e)}function wU(t,e,n){return t instanceof cr?Ex(t,e):t instanceof lr?Ix(t,e):n}function wx(t,e){return t instanceof Kr?function(r){return Bv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Wr=class extends Eo{},cr=class extends Eo{constructor(e){super(),this.elements=e}};function Ex(t,e){let n=Dx(e);for(let r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var lr=class extends Eo{constructor(e){super(),this.elements=e}};function Ix(t,e){let n=Dx(e);for(let r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}var Kr=class extends Eo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function oA(t){return Re(t.integerValue||t.doubleValue)}function Dx(t){return Fu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qi=class{constructor(e,n){this.field=e,this.transform=n}};function EU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cr&&i instanceof cr||r instanceof lr&&i instanceof lr?yo(r.elements,i.elements,Ln):r instanceof Kr&&i instanceof Kr?Ln(r.Ie,i.Ie):r instanceof Wr&&i instanceof Wr}(t.transform,e.transform)}var Xv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ne=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Io=class{};function Cx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yr(t.key,Ne.none()):new Qr(t.key,t.data,Ne.none());{let n=t.data,r=ut.empty(),i=new me(Ve.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fn(t.key,r,new Ut(i.toArray()),Ne.none())}}function IU(t,e,n){t instanceof Qr?function(i,s,o){let a=i.value.clone(),u=uA(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fn?function(i,s,o){if(!fh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=uA(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Tx(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Au(t,e,n,r){return t instanceof Qr?function(s,o,a,u){if(!fh(s.precondition,o))return a;let c=s.value.clone(),l=cA(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fn?function(s,o,a,u){if(!fh(s.precondition,o))return a;let c=cA(s.fieldTransforms,u,o),l=o.data;return l.setAll(Tx(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return fh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=wx(r.transform,i||null);s!=null&&(n===null&&(n=ut.empty()),n.set(r.field,s))}return n||null}function aA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yo(r,i,(s,o)=>EU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qr=class extends Io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fn=class extends Io{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Tx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function uA(t,e,n){let r=new Map;V(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wU(o,a,n[i]))}return r}function cA(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,_U(s,o,e))}return r}var Yr=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Vu=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lu=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&IU(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mx();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=Cx(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>aA(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>aA(n,r))}},Jv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){V(e.mutations.length===r.length);let i=function(){return mU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ju=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var e_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var He,ue;function bx(t){switch(t){default:return P();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function Sx(t){if(t===void 0)return Fe("GRPC error has no .code"),g.UNKNOWN;switch(t){case He.OK:return g.OK;case He.CANCELLED:return g.CANCELLED;case He.UNKNOWN:return g.UNKNOWN;case He.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case He.INTERNAL:return g.INTERNAL;case He.UNAVAILABLE:return g.UNAVAILABLE;case He.UNAUTHENTICATED:return g.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case He.NOT_FOUND:return g.NOT_FOUND;case He.ALREADY_EXISTS:return g.ALREADY_EXISTS;case He.PERMISSION_DENIED:return g.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case He.ABORTED:return g.ABORTED;case He.OUT_OF_RANGE:return g.OUT_OF_RANGE;case He.UNIMPLEMENTED:return g.UNIMPLEMENTED;case He.DATA_LOSS:return g.DATA_LOSS;default:return P()}}(ue=He||(He={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var lA=null;function Ax(){return new TextEncoder}var CU=new Ri([4294967295,4294967295],0);function dA(t){let e=Ax().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function hA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([i,s],0)]}var t_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Li(`Invalid padding: ${n}`);if(r<0)throw new Li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Li(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ri.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ri.fromNumber(r)));return i.compare(CU)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=dA(e),[r,i]=hA(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=dA(e),[r,i]=hA(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Bu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new Ee(Q),At(),Z())}},Uu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Z(),Z(),Z())}};var mo=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Ah=class{constructor(e,n){this.targetId=e,this.fe=n}},xh=class{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Mh=class{constructor(){this.ge=0,this.pe=pA(),this.ye=Xe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Z(),n=Z(),r=Z();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Uu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=pA()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,V(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},n_=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=At(),this.Qe=fA(),this.Ke=new Ee(Q)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(Th(s))if(r===0){let o=new S(s.path);this.We(n,o,We.newNoDocument(o,B.min()))}else V(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);let c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}lA?.tt(function(l,d,h,f,m){var v,_,C,k,M,U;let H={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},Y=d.unchangedNames;return Y&&(H.bloomFilter={applied:m===0,hashCount:(v=Y?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(k=(C=(_=Y?.bits)===null||_===void 0?void 0:_.bitmap)===null||C===void 0?void 0:C.length)!==null&&k!==void 0?k:0,padding:(U=(M=Y?.bits)===null||M===void 0?void 0:M.padding)!==null&&U!==void 0?U:0,mightContain:Ie=>{var $t;return($t=f?.mightContain(Ie))!==null&&$t!==void 0&&$t}}),H}(o,e.fe,this.Le.nt(),a,u))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qr(r).toUint8Array()}catch(u){if(u instanceof Ih)return Yt("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new t_(o,i,s)}catch(u){return Yt(u instanceof Li?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&Th(a.target)){let u=new S(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,We.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Z();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Bu(e,n,this.Ke,this.qe,r);return this.qe=At(),this.Qe=fA(),this.Ke=new Ee(Q),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Mh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new me(Q),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||I("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Mh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function fA(){return new Ee(S.comparator)}function pA(){return new Ee(S.comparator)}var TU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SU=(()=>({and:"AND",or:"OR"}))(),r_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function i_(t,e){return t.useProto3Json||tc(e)?e:{value:e}}function Do(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AU(t,e){return Do(t,e.toTimestamp())}function Le(t){return V(!!t),B.fromTimestamp(function(n){let r=Hr(n);return new be(r.seconds,r.nanos)}(t))}function xw(t,e){return function(r){return new le(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Mx(t){let e=le.fromString(t);return V(jx(e)),e}function $u(t,e){return xw(t.databaseId,e.path)}function Fn(t,e){let n=Mx(e);if(n.get(1)!==t.databaseId.projectId)throw new w(g.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new w(g.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(Nx(n))}function s_(t,e){return xw(t.databaseId,e)}function Rx(t){let e=Mx(t);return e.length===4?le.emptyPath():Nx(e)}function Hu(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nx(t){return V(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gA(t,e,n){return{name:$u(t,e),fields:n.value.mapValue.fields}}function Px(t,e,n){let r=Fn(t,e.name),i=Le(e.updateTime),s=e.createTime?Le(e.createTime):B.min(),o=new ut({mapValue:{fields:e.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function xU(t,e){return"found"in e?function(r,i){V(!!i.found),i.found.name,i.found.updateTime;let s=Fn(r,i.found.name),o=Le(i.found.updateTime),a=i.found.createTime?Le(i.found.createTime):B.min(),u=new ut({mapValue:{fields:i.found.fields}});return We.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){V(!!i.missing),V(!!i.readTime);let s=Fn(r,i.missing),o=Le(i.readTime);return We.newNoDocument(s,o)}(t,e):P()}function MU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:P()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(V(l===void 0||typeof l=="string"),Xe.fromBase64String(l||"")):(V(l===void 0||l instanceof Uint8Array),Xe.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let l=c.code===void 0?g.UNKNOWN:Sx(c.code);return new w(l,c.message||"")}(o);n=new xh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Fn(t,r.document.name),s=Le(r.document.updateTime),o=r.document.createTime?Le(r.document.createTime):B.min(),a=new ut({mapValue:{fields:r.document.fields}}),u=We.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new mo(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Fn(t,r.document),s=r.readTime?Le(r.readTime):B.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Fn(t,r.document),s=r.removedTargetIds||[];n=new mo([],s,i,null)}else{if(!("filter"in e))return P();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new e_(i,s),a=r.targetId;n=new Ah(a,o)}}return n}function qu(t,e){let n;if(e instanceof Qr)n={update:gA(t,e.key,e.value)};else if(e instanceof Yr)n={delete:$u(t,e.key)};else if(e instanceof fn)n={update:gA(t,e.key,e.data),updateMask:FU(e.fieldMask)};else{if(!(e instanceof Vu))return P();n={verify:$u(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Wr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kr)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:P()}(t,e.precondition)),n}function o_(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Ne.updateTime(Le(s.updateTime)):s.exists!==void 0?Ne.exists(s.exists):Ne.none()}(e.currentDocument):Ne.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)V(a.setToServerValue==="REQUEST_TIME"),u=new Wr;else if("appendMissingElements"in a){let l=a.appendMissingElements.values||[];u=new cr(l)}else if("removeAllFromArray"in a){let l=a.removeAllFromArray.values||[];u=new lr(l)}else"increment"in a?u=new Kr(o,a.increment):P();let c=Ve.fromServerFormat(a.fieldPath);return new qi(c,u)}(t,i)):[];if(e.update){e.update.name;let i=Fn(t,e.update.name),s=new ut({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(u){let c=u.fieldPaths||[];return new Ut(c.map(l=>Ve.fromServerFormat(l)))}(e.updateMask);return new fn(i,s,o,n,r)}return new Qr(i,s,n,r)}if(e.delete){let i=Fn(t,e.delete);return new Yr(i,n)}if(e.verify){let i=Fn(t,e.verify);return new Vu(i,n)}return P()}function RU(t,e){return t&&t.length>0?(V(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Le(i.updateTime):Le(s);return o.isEqual(B.min())&&(o=Le(s)),new Xv(o,i.transformResults||[])}(n,e))):[]}function Ox(t,e){return{documents:[s_(t,e.path)]}}function kx(t,e){let n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=s_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=s_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(u){if(u.length!==0)return Lx(pe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);let s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:co(d.field),direction:PU(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let o=i_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function Fx(t){let e=Rx(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){V(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=Vx(d);return h instanceof pe&&bw(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new $i(lo(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,tc(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(d){let h=!!d.before,f=d.values||[];return new jn(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){let h=!d.before,f=d.values||[];return new jn(f,h)}(n.endAt)),lx(e,i,o,s,a,"F",u,c)}function NU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=lo(n.unaryFilter.field);return se.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=lo(n.unaryFilter.field);return se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=lo(n.unaryFilter.field);return se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=lo(n.unaryFilter.field);return se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):t.fieldFilter!==void 0?function(n){return se.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pe.create(n.compositeFilter.filters.map(r=>Vx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return P()}}(n.compositeFilter.op))}(t):P()}function PU(t){return TU[t]}function OU(t){return bU[t]}function kU(t){return SU[t]}function co(t){return{fieldPath:t.canonicalString()}}function lo(t){return Ve.fromServerFormat(t.fieldPath)}function Lx(t){return t instanceof se?function(n){if(n.op==="=="){if(XS(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(ZS(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XS(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(ZS(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:OU(n.op),value:n.value}}}(t):t instanceof pe?function(n){let r=n.getFilters().map(i=>Lx(i));return r.length===1?r[0]:{compositeFilter:{op:kU(n.op),filters:r}}}(t):P()}function FU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Co=class t{constructor(e,n,r,i,s=B.min(),o=B.min(),a=Xe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Rh=class{constructor(e){this.ut=e}};function VU(t,e){let n;if(e.document)n=Px(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=S.fromSegments(e.noDocument.path),i=Gi(e.noDocument.readTime);n=We.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return P();{let r=S.fromSegments(e.unknownDocument.path),i=Gi(e.unknownDocument.version);n=We.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new be(i[0],i[1]);return B.fromTimestamp(s)}(e.readTime)),n}function mA(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:$u(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Do(s,o.version.toTimestamp()),createTime:Do(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zi(e.version)};else{if(!e.isUnknownDocument())return P();r.unknownDocument={path:n.path.toArray(),version:zi(e.version)}}return r}function Nh(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function zi(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gi(t){let e=new be(t.seconds,t.nanoseconds);return B.fromTimestamp(e)}function ki(t,e){let n=(e.baseMutations||[]).map(s=>o_(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>o_(t.ut,s)),i=be.fromMillis(e.localWriteTimeMs);return new Lu(e.batchId,i,n,r)}function Tu(t){let e=Gi(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Gi(t.lastLimboFreeSnapshotVersion):B.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return V(s.documents.length===1),yt(Oo(Rx(s.documents[0])))}(t.query):function(s){return yt(Fx(s))}(t.query),new Co(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Xe.fromBase64String(t.resumeToken))}function Bx(t,e){let n=zi(e.snapshotVersion),r=zi(e.lastLimboFreeSnapshotVersion),i;i=Th(e.target)?Ox(t.ut,e.target):kx(t.ut,e.target);let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hi(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Mw(t){let e=Fx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sh(e,e.limit,"L"):e}function Iv(t,e){return new ju(e.largestBatchId,o_(t.ut,e.overlayMutation))}function yA(t,e){let n=e.path.lastSegment();return[t,mt(e.path.popLast()),n]}function vA(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:zi(r.readTime),documentKey:mt(r.documentKey.path),largestBatchId:r.largestBatchId}}var a_=class{getBundleMetadata(e,n){return _A(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Gi(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return _A(e).put(function(i){return{bundleId:i.id,createTime:zi(Le(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return wA(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Mw(s.bundledQuery),readTime:Gi(s.readTime)}}(r)})}saveNamedQuery(e,n){return wA(e).put(function(i){return{name:i.name,readTime:zi(Le(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function _A(t){return Je(t,"bundles")}function wA(t){return Je(t,"namedQueries")}var Ph=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return wu(e).get(yA(this.userId,n)).next(r=>r?Iv(this.serializer,r):null)}getOverlays(e,n){let r=On();return p.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new ju(n,o);i.push(this.lt(e,a))}),p.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(mt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(wu(e).H("collectionPathOverlayIndex",a))}),p.waitFor(s)}getOverlaysForCollection(e,n,r){let i=On(),s=mt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wu(e).W("collectionPathOverlayIndex",o).next(a=>{for(let u of a){let c=Iv(this.serializer,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=On(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return wu(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,c,l)=>{let d=Iv(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):l.done()}).next(()=>s)}lt(e,n){return wu(e).put(function(i,s,o){let[a,u,c]=yA(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:qu(i.ut,o.mutation)}}(this.serializer,this.userId,n))}};function wu(t){return Je(t,"documentOverlays")}var ar=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Nu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(qr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?rx(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):P()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),S.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ar.St=new ar;function LU(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function EA(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=LU(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var u_=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{let i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){let n=this.Bt(e),r=EA(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){let n=this.Bt(e),r=EA(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},c_=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},l_=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},Fi=class{constructor(){this.Wt=new u_,this.Gt=new c_(this.Wt),this.zt=new l_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var Vi=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function kr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=IA(t.arrayValue,e.arrayValue),n!==0?n:(n=IA(t.directionalValue,e.directionalValue),n!==0?n:S.comparator(t.documentKey,e.documentKey)))}function IA(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Oh=class{constructor(e){this.Jt=new me((n,r)=>Ve.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(V(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=Pv(e);if(n!==void 0&&!this.tn(n))return!1;let r=Pi(e),i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new me(Ve.comparator),n=[];for(let r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new po(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new po(r.field,0))}for(let r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new po(r.field,r.dir==="asc"?0:1)));return new vo(vo.UNKNOWN_ID,this.collectionId,n,Ru.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function Ux(t){var e,n;if(V(t instanceof se||t instanceof pe),t instanceof se){if(t instanceof Ch){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>se.create(t.field,"==",s)))||[];return pe.create(i,"or")}return t}let r=t.filters.map(i=>Ux(i));return pe.create(r,t.op)}function jU(t){if(t.getFilters().length===0)return[];let e=f_(Ux(t));return V($x(e)),d_(e)||h_(e)?[e]:e.getFilters()}function d_(t){return t instanceof se}function h_(t){return t instanceof pe&&bw(t)}function $x(t){return d_(t)||h_(t)||function(n){if(n instanceof pe&&Uv(n)){for(let r of n.getFilters())if(!d_(r)&&!h_(r))return!1;return!0}return!1}(t)}function f_(t){if(V(t instanceof se||t instanceof pe),t instanceof se)return t;if(t.filters.length===1)return f_(t.filters[0]);let e=t.filters.map(r=>f_(r)),n=pe.create(e,t.op);return n=kh(n),$x(n)?n:(V(n instanceof pe),V(wo(n)),V(n.filters.length>1),n.filters.reduce((r,i)=>Rw(r,i)))}function Rw(t,e){let n;return V(t instanceof se||t instanceof pe),V(e instanceof se||e instanceof pe),n=t instanceof se?e instanceof se?function(i,s){return pe.create([i,s],"and")}(t,e):DA(t,e):e instanceof se?DA(e,t):function(i,s){if(V(i.filters.length>0&&s.filters.length>0),wo(i)&&wo(s))return ax(i,s.getFilters());let o=Uv(i)?i:s,a=Uv(i)?s:i,u=o.filters.map(c=>Rw(c,a));return pe.create(u,"or")}(t,e),kh(n)}function DA(t,e){if(wo(e))return ax(e,t.getFilters());{let n=e.filters.map(r=>Rw(t,r));return pe.create(n,"or")}}function kh(t){if(V(t instanceof se||t instanceof pe),t instanceof se)return t;let e=t.getFilters();if(e.length===1)return kh(e[0]);if(sx(t))return t;let n=e.map(i=>kh(i)),r=[];return n.forEach(i=>{i instanceof se?r.push(i):i instanceof pe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:pe.create(r,t.op)}var p_=class{constructor(){this.on=new zu}addToCollectionParentIndex(e,n){return this.on.add(n),p.resolve()}getCollectionParents(e,n){return p.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return p.resolve()}deleteFieldIndex(e,n){return p.resolve()}deleteAllFieldIndexes(e){return p.resolve()}createTargetIndexes(e,n){return p.resolve()}getDocumentsMatchingTarget(e,n){return p.resolve(null)}getIndexType(e,n){return p.resolve(0)}getFieldIndexes(e,n){return p.resolve([])}getNextCollectionGroupToUpdate(e){return p.resolve(null)}getMinOffset(e,n){return p.resolve(Zt.min())}getMinOffsetFromCollectionGroup(e,n){return p.resolve(Zt.min())}updateCollectionGroup(e,n,r){return p.resolve()}updateIndexEntries(e,n){return p.resolve()}},zu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new me(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new me(le.comparator)).toArray()}};var oh=new Uint8Array(0),g_=class{constructor(e,n){this.user=e,this.databaseId=n,this._n=new zu,this.an=new Bn(r=>Hi(r),(r,i)=>nc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let s={collectionId:r,parent:mt(i)};return CA(e).put(s)}return p.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[GA(n),""],!1,!0);return CA(e).W(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(Pn(o.parent))}return r})}addFieldIndex(e,n){let r=Eu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=so(e);return s.next(a=>{o.put(vA(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=Eu(e),i=so(e),s=io(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Eu(e),r=io(e),i=so(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return p.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new Oh(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=io(e),i=!0,s=new Map;return p.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Z(),a=[];return p.forEach(s,(u,c)=>{I("IndexedDbIndexManager",`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(u)} to execute ${Hi(n)}`);let l=function(M,U){let H=Pv(U);if(H===void 0)return null;for(let Y of bh(M,H.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(c,u),d=function(M,U){let H=new Map;for(let Y of Pi(U))for(let Ie of bh(M,Y.fieldPath))switch(Ie.op){case"==":case"in":H.set(Y.fieldPath.canonicalString(),Ie.value);break;case"not-in":case"!=":return H.set(Y.fieldPath.canonicalString(),Ie.value),Array.from(H.values())}return null}(c,u),h=function(M,U){let H=[],Y=!0;for(let Ie of Pi(U)){let $t=Ie.kind===0?rA(M,Ie.fieldPath,M.startAt):iA(M,Ie.fieldPath,M.startAt);H.push($t.value),Y&&(Y=$t.inclusive)}return new jn(H,Y)}(c,u),f=function(M,U){let H=[],Y=!0;for(let Ie of Pi(U)){let $t=Ie.kind===0?iA(M,Ie.fieldPath,M.endAt):rA(M,Ie.fieldPath,M.endAt);H.push($t.value),Y&&(Y=$t.inclusive)}return new jn(H,Y)}(c,u),m=this.ln(u,c,h),v=this.ln(u,c,f),_=this.hn(u,c,d),C=this.Pn(u.indexId,l,m,h.inclusive,v,f.inclusive,_);return p.forEach(C,k=>r.j(k,n.limit).next(M=>{M.forEach(U=>{let H=S.fromSegments(U.documentKey);o.has(H)||(o=o.add(H),a.push(H))})}))}).next(()=>a)}return p.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=jU(pe.create(e.filters,"and")).map(r=>Yv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){let u=(n!=null?n.length:1)*Math.max(r.length,s.length),c=u/(n!=null?n.length:1),l=[];for(let d=0;d<u;++d){let h=n?this.In(n[d/c]):oh,f=this.Tn(e,h,r[d%c],i),m=this.En(e,h,s[d%c],o),v=a.map(_=>this.Tn(e,h,_,!0));l.push(...this.createRange(f,m,v))}return l}Tn(e,n,r,i){let s=new Vi(e,S.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){let s=new Vi(e,S.empty(),n,r);return i?s.Ht():s}cn(e,n){let r=new Oh(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.un(n);return p.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let c=new me(Ve.comparator),l=!1;for(let d of u.filters)for(let h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?l=!0:c=c.add(h.field));for(let d of u.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(l?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){let r=new Fi;for(let i of Pi(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.jt(i.kind);ar.St.ht(s,o)}return r.Ut()}In(e){let n=new Fi;return ar.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let r=new Fi;return ar.St.ht(Ui(this.databaseId,n),r.jt(function(s){let o=Pi(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new Fi);let s=0;for(let o of Pi(e)){let a=r[s++];for(let u of i)if(this.Rn(n,o.fieldPath)&&Fu(a))i=this.Vn(i,o,a);else{let c=u.jt(o.kind);ar.St.ht(a,c)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let u=new Fi;u.seed(a.Ut()),ar.St.ht(o,u.jt(n.kind)),s.push(u)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof se&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=Eu(e),i=so(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{let o=[];return p.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(l,d){let h=d?new Ru(d.sequenceNumber,new Zt(Gi(d.readTime),new S(Pn(d.documentKey)),d.largestBatchId)):Ru.empty(),f=l.fields.map(([m,v])=>new po(Ve.fromServerFormat(m),v));return new vo(l.indexId,l.collectionGroup,f,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Q(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=Eu(e),s=so(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>p.forEach(a,u=>s.put(vA(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){let r=new Map;return p.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?p.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),p.forEach(a,u=>this.gn(e,i,u).next(c=>{let l=this.pn(s,u);return c.isEqual(l)?p.resolve():this.yn(e,s,u,c,l)}))))})}wn(e,n,r,i){return io(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return io(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){let i=io(e),s=new me(kr);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new Vi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new me(kr),i=this.dn(n,e);if(i==null)return r;let s=Pv(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Fu(o))for(let a of o.arrayValue.values||[])r=r.add(new Vi(n.indexId,e.key,this.In(a),i))}else r=r.add(new Vi(n.indexId,e.key,oh,i));return r}yn(e,n,r,i,s){I("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(u,c,l,d,h){let f=u.getIterator(),m=c.getIterator(),v=ro(f),_=ro(m);for(;v||_;){let C=!1,k=!1;if(v&&_){let M=l(v,_);M<0?k=!0:M>0&&(C=!0)}else v!=null?k=!0:C=!0;C?(d(_),_=ro(m)):k?(h(v),v=ro(f)):(v=ro(f),_=ro(m))}}(i,s,kr,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),p.waitFor(o)}fn(e){let n=1;return so(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>kr(o,a)).filter((o,a,u)=>!a||kr(o,u[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=kr(o,e),u=kr(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,oh,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,oh,[]];s.push(IDBKeyRange.bound(a,u))}return s}bn(e,n){return kr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(TA)}getMinOffset(e,n){return p.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||P())).next(TA)}};function CA(t){return Je(t,"collectionParents")}function io(t){return Je(t,"indexEntries")}function Eu(t){return Je(t,"indexConfiguration")}function so(t){return Je(t,"indexState")}function TA(t){V(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Dw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Zt(e.readTime,e.documentKey,n)}var bA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function Hx(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Y({range:o},(l,d,h)=>(a++,h.delete()));s.push(u.next(()=>{V(a===1)}));let c=[];for(let l of n.mutations){let d=ZA(e,l.key.path,n.batchId);s.push(i.delete(d)),c.push(l.key)}return p.waitFor(s).next(()=>c)}function Fh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw P();e=t.noDocument}return JSON.stringify(e).length}Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Vh=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){V(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=ho(e),o=Fr(e);return o.add({}).next(a=>{V(typeof a=="number");let u=new Lu(a,n,r,i),c=function(f,m,v){let _=v.baseMutations.map(k=>qu(f.ut,k)),C=v.mutations.map(k=>qu(f.ut,k));return{userId:m,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:_,mutations:C}}(this.serializer,this.userId,u),l=[],d=new me((h,f)=>Q(h.canonicalString(),f.canonicalString()));for(let h of i){let f=ZA(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),l.push(o.put(c)),l.push(s.put(f,GB))}return d.forEach(h=>{l.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),p.waitFor(l).next(()=>u)})}lookupMutationBatch(e,n){return Fr(e).get(n).next(r=>r?(V(r.userId===this.userId),ki(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?p.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Fr(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(V(a.batchId>=r),s=ki(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Fr(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).W("userMutationsIndex",n).next(r=>r.map(i=>ki(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=lh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return ho(e).Y({range:i},(o,a,u)=>{let[c,l,d]=o,h=Pn(l);if(c===this.userId&&n.path.isEqual(h))return Fr(e).get(d).next(f=>{if(!f)throw P();V(f.userId===this.userId),s.push(ki(this.serializer,f))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new me(Q),i=[];return n.forEach(s=>{let o=lh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=ho(e).Y({range:a},(c,l,d)=>{let[h,f,m]=c,v=Pn(f);h===this.userId&&s.path.isEqual(v)?r=r.add(m):d.done()});i.push(u)}),p.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=lh(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new me(Q);return ho(e).Y({range:o},(u,c,l)=>{let[d,h,f]=u,m=Pn(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(f)):l.done()}).next(()=>this.vn(e,a))}vn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Fr(e).get(s).next(o=>{if(o===null)throw P();V(o.userId===this.userId),r.push(ki(this.serializer,o))}))}),p.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Hx(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),p.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return p.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return ho(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){let u=Pn(s[1]);i.push(u)}else a.done()}).next(()=>{V(i.length===0)})})}containsKey(e,n){return qx(e,this.userId,n)}Mn(e){return zx(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function qx(t,e,n){let r=lh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ho(t).Y({range:s,J:!0},(a,u,c)=>{let[l,d,h]=a;l===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Fr(t){return Je(t,"mutations")}function ho(t){return Je(t,"documentMutations")}function zx(t){return Je(t,"mutationQueues")}var To=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var m_=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new To(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>B.fromTimestamp(new be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>oo(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(V(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0,s=[];return oo(e).Y((o,a)=>{let u=Tu(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>p.waitFor(s)).next(()=>i)}forEachTarget(e,n){return oo(e).Y((r,i)=>{let s=Tu(i);n(s)})}Bn(e){return SA(e).get("targetGlobalKey").next(n=>(V(n!==null),n))}Ln(e,n){return SA(e).put("targetGlobalKey",n)}kn(e,n){return oo(e).put(Bx(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=Hi(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return oo(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{let c=Tu(a);nc(n,c.target)&&(s=c,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Vr(e);return n.forEach(o=>{let a=mt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),p.waitFor(i)}removeMatchingKeys(e,n,r){let i=Vr(e);return p.forEach(n,s=>{let o=mt(s.path);return p.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Vr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vr(e),s=Z();return i.Y({range:r,J:!0},(o,a,u)=>{let c=Pn(o[1]),l=new S(c);s=s.add(l)}).next(()=>s)}containsKey(e,n){let r=mt(n.path),i=IDBKeyRange.bound([r],[GA(r)],!1,!0),s=0;return Vr(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return oo(e).get(n).next(r=>r?Tu(r):null)}};function oo(t){return Je(t,"targets")}function SA(t){return Je(t,"targetGlobal")}function Vr(t){return Je(t,"targetDocuments")}function AA([t,e],[n,r]){let i=Q(t,n);return i===0?Q(e,r):i}var y_=class{constructor(e){this.Qn=e,this.buffer=new me(AA),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();AA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},v_=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){I("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>y(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jr(n)?I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Xr(n)}yield this.Gn(3e5)}))}},__=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return p.resolve(Bt._e);let r=new y_(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(I("LruGarbageCollector","Garbage collection skipped; disabled"),p.resolve(bA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bA):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,u,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ao()<=mn.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-l}ms`),p.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}};function BU(t,e){return new __(t,e)}var w_=class{constructor(e,n){this.db=e,this.garbageCollector=BU(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return ah(e,r)}removeReference(e,n,r){return ah(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return ah(e,n)}Xn(e,n){return function(i,s){let o=!1;return zx(i).Z(a=>qx(i,a,s).next(u=>(u&&(o=!0),p.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Zn(e,(o,a)=>{if(a<=n){let u=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,B.min()),Vr(e).delete(function(d){return[0,mt(d.path)]}(o))))});i.push(u)}}).next(()=>p.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return ah(e,n)}Zn(e,n){let r=Vr(e),i,s=Bt._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:c})=>{o===0?(s!==Bt._e&&n(new S(Pn(i)),s),s=c,i=u):s=Bt._e}).next(()=>{s!==Bt._e&&n(new S(Pn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function ah(t,e){return Vr(t).put(function(r,i){return{targetId:0,path:mt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Lh=class{constructor(){this.changes=new Bn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?p.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var E_=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ni(e).put(r)}removeEntry(e,n,r){return Ni(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Nh(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=We.newInvalidDocument(n);return Ni(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:We.newInvalidDocument(n)};return Ni(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(n))},(i,s)=>{r={document:this.tr(n,s),size:Fh(s)}}).next(()=>r)}getEntries(e,n){let r=At();return this.rr(e,n,(i,s)=>{let o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=At(),i=new Ee(S.comparator);return this.rr(e,n,(s,o)=>{let a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Fh(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return p.resolve();let i=new me(RA);n.forEach(u=>i=i.add(u));let s=IDBKeyRange.bound(Iu(i.first()),Iu(i.last())),o=i.getIterator(),a=o.getNext();return Ni(e).Y({index:"documentKeyIndex",range:s},(u,c,l)=>{let d=S.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&RA(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?l.U(Iu(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Nh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ni(e).W(IDBKeyRange.bound(a,u,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let l=At();for(let d of c){let h=this.tr(S.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(ic(n,h)||i.has(h.key))&&(l=l.insert(h.key,h))}return l})}getAllFromCollectionGroup(e,n,r,i){let s=At(),o=MA(n,r),a=MA(n,Zt.max());return Ni(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,c,l)=>{let d=this.tr(S.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&l.done()}).next(()=>s)}newChangeBuffer(e){return new I_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return xA(e).get("remoteDocumentGlobalKey").next(n=>(V(!!n),n))}er(e,n){return xA(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let r=VU(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(B.min())))return r}return We.newInvalidDocument(e)}};function Gx(t){return new E_(t)}var I_=class extends Lh{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Bn(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new me((s,o)=>Q(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){let u=mA(this._r.serializer,o);i=i.add(s.path.popLast());let c=Fh(u);r+=c-a.size,n.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){let u=mA(this._r.serializer,o.convertToNoDocument(B.min()));n.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),p.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function xA(t){return Je(t,"remoteDocumentGlobal")}function Ni(t){return Je(t,"remoteDocumentsV14")}function Iu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MA(t,e){let n=e.documentKey.path.toArray();return[t,Nh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RA(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Q(n[s],r[s]),i)return i;return i=Q(n.length,r.length),i||(i=Q(n[n.length-2],r[r.length-2]),i||Q(n[n.length-1],r[r.length-1]))}var D_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jh=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Au(r.mutation,i,Ut.empty(),be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){let i=On();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cu();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=On();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=At(),o=Su(),a=function(){return Su()}();return n.forEach((u,c)=>{let l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof fn)?s=s.insert(c.key,c):l!==void 0?(o.set(c.key,l.mutation.getFieldMask()),Au(l.mutation,c,l.mutation.getFieldMask(),be.now())):o.set(c.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new D_(l,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Su(),i=new Ee((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let c=n.get(u);if(c===null)return;let l=r.get(u)||Ut.empty();l=a.applyToLocalView(c,l),r.set(u,l);let d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),c=u.key,l=u.value,d=mx();l.forEach(h=>{if(!s.has(h)){let f=Cx(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return p.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return S.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):p.resolve(On()),a=-1,u=s;return o.next(c=>p.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?p.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:gx(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=Cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Cu();return this.indexManager.getCollectionParents(e,s).next(a=>p.forEach(a,u=>{let c=function(d,h){return new hn(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{let l=c.getKey();o.get(l)===null&&(o=o.insert(l,We.newInvalidDocument(l)))});let a=Cu();return o.forEach((u,c)=>{let l=s.get(u);l!==void 0&&Au(l.mutation,c,Ut.empty(),be.now()),ic(n,c)&&(a=a.insert(u,c))}),a})}};var C_=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return p.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Le(i.createTime)}}(n)),p.resolve()}getNamedQuery(e,n){return p.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Mw(i.bundledQuery),readTime:Le(i.readTime)}}(n)),p.resolve()}};var T_=class{constructor(){this.overlays=new Ee(S.comparator),this.lr=new Map}getOverlay(e,n){return p.resolve(this.overlays.get(n))}getOverlays(e,n){let r=On();return p.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),p.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),p.resolve()}getOverlaysForCollection(e,n,r){let i=On(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return p.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ee((c,l)=>c-l),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);l===null&&(l=On(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}let a=On(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return p.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ju(n,r));let s=this.lr.get(n);s===void 0&&(s=Z(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var Gu=class{constructor(){this.hr=new me(qe.Pr),this.Ir=new me(qe.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new qe(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new qe(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new S(new le([])),r=new qe(n,e),i=new qe(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new S(new le([])),r=new qe(n,e),i=new qe(n,e+1),s=Z();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new qe(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},qe=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return S.comparator(e.key,n.key)||Q(e.gr,n.gr)}static Tr(e,n){return Q(e.gr,n.gr)||S.comparator(e.key,n.key)}};var b_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new me(qe.Pr)}checkEmpty(e){return p.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Lu(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return p.resolve(o)}lookupMutationBatch(e,n){return p.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return p.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return p.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return p.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),p.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new me(Q);return n.forEach(i=>{let s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),p.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;S.isDocumentKey(s)||(s=s.child(""));let o=new qe(new S(s),0),a=new me(Q);return this.yr.forEachWhile(u=>{let c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),p.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){V(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return p.forEach(n.mutations,i=>{let s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new qe(n,0),i=this.yr.firstAfterOrEqual(r);return p.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,p.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var S_=class{constructor(e){this.Cr=e,this.docs=function(){return new Ee(S.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return p.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=At();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),p.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=At(),o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Dw(KA(l),r)<=0||(i.has(l.key)||ic(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return p.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}vr(e,n){return p.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A_(this)}getSize(e){return p.resolve(this.size)}},A_=class extends Lh{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),p.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var x_=class{constructor(e){this.persistence=e,this.Fr=new Bn(n=>Hi(n),nc),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Gu,this.targetCount=0,this.Nr=To.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),p.resolve()}getLastRemoteSnapshotVersion(e){return p.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return p.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),p.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),p.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,p.resolve()}updateTargetData(e,n){return this.kn(n),p.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,p.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),p.waitFor(s).next(()=>i)}getTargetCount(e){return p.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return p.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),p.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),p.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),p.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return p.resolve(r)}containsKey(e,n){return p.resolve(this.Or.containsKey(n))}};var Bh=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Bt(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new x_(this),this.indexManager=new p_,this.remoteDocumentCache=function(i){return new S_(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Rh(n),this.Kr=new C_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new b_(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){I("MemoryPersistence","Starting transaction:",e);let i=new M_(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return p.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},M_=class extends _h{constructor(e){super(),this.currentSequenceNumber=e}},Uh=class t{constructor(e){this.persistence=e,this.Gr=new Gu,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw P()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),p.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),p.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),p.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return p.forEach(this.Hr,r=>{let i=S.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return p.or([()=>p.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var R_=class{constructor(e){this.serializer=e}N(e,n,r,i){let s=new wh("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KS,{unique:!0}),u.createObjectStore("documentMutations")}(e),NA(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=p.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),NA(e)),o=o.next(()=>function(u){let c=u.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:B.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,c){return c.store("mutations").W().next(l=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KS,{unique:!0});let d=c.store("mutations"),h=l.map(f=>d.put(f));return p.waitFor(h)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){let c=u.createObjectStore("documentOverlays",{keyPath:iU});c.createIndex("collectionPathOverlayIndex",sU,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",oU,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){let c=u.createObjectStore("remoteDocumentsV14",{keyPath:WB});c.createIndex("documentKeyIndex",KB),c.createIndex("collectionGroupIndex",QB)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:eU}).createIndex("sequenceNumberIndex",tU,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:nU}).createIndex("documentKeyIndex",rU,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Fh(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>p.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>p.forEach(a,u=>{V(u.userId===s.userId);let c=ki(this.serializer,u);return Hx(e,s.userId,c).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.Y((o,a)=>{let u=new le(o),c=function(d){return[0,mt(d)]}(u);s.push(n.get(c).next(l=>l?p.resolve():(d=>n.put({targetId:0,path:mt(d),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>p.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:JB});let r=n.store("collectionParents"),i=new zu,s=o=>{if(i.add(o)){let a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:mt(u)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{let u=new le(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,u],c)=>{let l=Pn(a);return s(l.popLast())}))}ni(e){let n=e.store("targets");return n.Y((r,i)=>{let s=Tu(i),o=Bx(this.serializer,s);return n.put(o)})}ri(e,n){let r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{let a=n.store("remoteDocumentsV14"),u=function(d){return d.document?new S(le.fromString(d.document.name).popFirst(5)):d.noDocument?S.fromSegments(d.noDocument.path):d.unknownDocument?S.fromSegments(d.unknownDocument.path):P()}(o).path.toArray(),c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>p.waitFor(i))}ii(e,n){let r=n.store("mutations"),i=Gx(this.serializer),s=new Bh(Uh.jr,this.serializer.ut);return r.W().next(o=>{let a=new Map;return o.forEach(u=>{var c;let l=(c=a.get(u.userId))!==null&&c!==void 0?c:Z();ki(this.serializer,u).keys().forEach(d=>l=l.add(d)),a.set(u.userId,l)}),p.forEach(a,(u,c)=>{let l=new ze(c),d=Ph.ct(this.serializer,l),h=s.getIndexManager(l),f=Vh.ct(l,this.serializer,h,s.referenceDelegate);return new jh(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Pu(n,Bt._e),u).next()})})}};function NA(t){t.createObjectStore("targetDocuments",{keyPath:ZB}).createIndex("documentTargetsIndex",XB,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YB,{unique:!0}),t.createObjectStore("targetGlobal")}var Dv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",N_=class t{constructor(e,n,r,i,s,o,a,u,c,l,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=l,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!t.D())throw new w(g.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new w_(this,i),this.Ii=n+"main",this.serializer=new Rh(u),this.Ti=new $r(this.Ii,this.ai,new R_(this.serializer)),this.qr=new m_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Gx(this.serializer),this.Kr=new a_,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,l===!1&&Fe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new w(g.FAILED_PRECONDITION,Dv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Bt(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>y(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>y(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>y(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Jr(e))return I("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Du(e).get("owner").next(n=>p.resolve(this.wi(n)))}Si(e){return uh(e).delete(this.clientId)}bi(){return y(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=Je(n,"clientMetadata");return r.W().next(i=>{let s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return p.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?p.resolve(!0):Du(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new w(g.FAILED_PRECONDITION,Dv);return!1}}return!(!this.networkEnabled||!this.inForeground)||uh(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&I("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return y(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Pu(e,Bt._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>uh(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Vh.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new g_(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ph.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){I("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===15?uU:u===14?ex:u===13?JA:u===12?aU:u===11?XA:void P()}(this.ai),o;return this.Ti.runTransaction(e,i,s,a=>(o=new Pu(a,this.Lr?this.Lr.next():Bt._e),n==="readwrite-primary"?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw Fe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new w(g.FAILED_PRECONDITION,QA);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Du(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new w(g.FAILED_PRECONDITION,Dv)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Du(e).put("owner",n)}static D(){return $r.D()}pi(e){let n=Du(e);return n.get("owner").next(r=>this.wi(r)?(I("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):p.resolve())}Di(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(Fe(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;OE()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return I("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fe("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Fe("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Du(t){return Je(t,"owner")}function uh(t){return Je(t,"clientMetadata")}function Nw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var P_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Z(),i=Z();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var O_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $h=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new O_;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ao()<=mn.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),p.resolve()):(ao()<=mn.DEBUG&&I("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ao()<=mn.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yt(n))):p.resolve())}zi(e,n){if(sA(n))return p.resolve(null);let r=yt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sh(n,null,"F"),r=yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Z(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let c=this.Yi(n,a);return this.Zi(n,c,o,u.readTime)?this.zi(e,Sh(n,null,"F")):this.Xi(e,c,n,u)}))})))}ji(e,n,r,i){return sA(n)||i.isEqual(B.min())?p.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?p.resolve(null):(ao()<=mn.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uo(n)),this.Xi(e,o,n,WA(i,-1)).next(a=>a))})}Yi(e,n){let r=new me(fx(e));return n.forEach((i,s)=>{ic(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ao()<=mn.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",uo(n)),this.Gi.getDocumentsMatchingQuery(e,n,Zt.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var k_=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ee(Q),this.ns=new Bn(s=>Hi(s),nc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function Wx(t,e,n,r){return new k_(t,e,n,r)}function Kx(t,e){return y(this,null,function*(){let n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=Z();for(let c of i){o.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}for(let c of s){a.push(c.batchId);for(let l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})})}function UU(t,e){let n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){let d=c.batch,h=d.keys(),f=p.resolve();return h.forEach(m=>{f=f.next(()=>l.getEntry(u,m)).next(v=>{let _=c.docVersions.get(m);V(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),l.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Z();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qx(t){let e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function $U(t,e){let n=x(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Xe.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(v,_,C){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let u=At(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(Yx(s,o,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(B.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return p.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ts=i,s))}function Yx(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=At();return n.forEach((a,u)=>{let c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}function HU(t,e){let n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bo(t,e){let n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,p.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function So(t,e,n){return y(this,null,function*(){let r=x(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Jr(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function Hh(t,e,n){let r=x(t),i=B.min(),s=Z();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){let d=x(u),h=d.ns.get(l);return h!==void 0?p.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,o,yt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:Z())).next(a=>(Jx(r,hx(e),a),{documents:a,ls:s})))}function Zx(t,e){let n=x(t),r=x(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function Xx(t,e){let n=x(t),r=n.rs.get(e)||B.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,WA(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Jx(n,e,i),i))}function Jx(t,e,n){let r=t.rs.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}function qU(t,e,n,r){return y(this,null,function*(){let i=x(t),s=Z(),o=At();for(let c of n){let l=e.hs(c.metadata.name);c.document&&(s=s.add(l));let d=e.Ps(c);d.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(l,d)}let a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield bo(i,function(l){return yt(Oo(le.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>Yx(c,a,o).next(l=>(a.apply(c),l)).next(l=>i.qr.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.qr.addMatchingKeys(c,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,l.us,l.cs)).next(()=>l.us)))})}function zU(r,i){return y(this,arguments,function*(t,e,n=Z()){let s=yield bo(t,yt(Mw(e.bundledQuery))),o=x(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let u=Le(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return o.Kr.saveNamedQuery(a,e);let c=s.withResumeToken(Xe.EMPTY_BYTE_STRING,u);return o.ts=o.ts.insert(c.targetId,c),o.qr.updateTargetData(a,c).next(()=>o.qr.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.qr.addMatchingKeys(a,n,s.targetId)).next(()=>o.Kr.saveNamedQuery(a,e))})})}function PA(t,e){return`firestore_clients_${t}_${e}`}function OA(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Cv(t,e){return`firestore_targets_${t}_${e}`}var qh=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new w(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(Fe("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},xu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new w(r.error.code,r.error.message))),s?new t(e,r.state,i):(Fe("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},zh=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Aw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=YA(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Fe("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},F_=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Fe("SharedClientState",`Failed to parse online state: ${e}`),null)}},Wu=class{constructor(){this.activeTargetIds=Aw()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Mu=class{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ee(Q),this.started=!1,this.ps=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=PA(this.persistenceKey,this.Rs),this.ws=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Wu),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return y(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Rs)continue;let i=this.getItem(PA(this.persistenceKey,r));if(i){let s=zh.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let r=this.Ms(n);r&&this.xs(r)}for(let r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(Cv(this.persistenceKey,e));if(r){let i=xu.Ts(e,r);i&&(n=i.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cv(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return I("SharedClientState","READ",e,n),n}setItem(e,n){I("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(I("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void Fe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>y(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let r=this.Ks(n.key);return this.$s(r,null)}{let r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){let r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){let r=function(s){let o=Bt._e;if(s!=null)try{let a=JSON.parse(s);V(typeof a=="number"),o=a}catch(a){Fe("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==Bt._e&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){let r=this.Hs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,r){let i=new qh(this.currentUser,e,n,r),s=OA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){let n=OA(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){let i=Cv(this.persistenceKey,e),s=new xu(e,n,r);this.setItem(i,s.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let r=this.Ks(e);return zh.Ts(r,n)}Ws(e,n){let r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return qh.Ts(new ze(s),i,n)}zs(e,n){let r=this.Ds.exec(e),i=Number(r[1]);return xu.Ts(i,n)}Ms(e){return F_.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return y(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);I("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Aw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Gh=class{constructor(){this.eo=new Wu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Wu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var V_=class{ro(e){}shutdown(){}};var Wh=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ch=null;function Tv(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}var GU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var L_=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var at="WebChannelConnection",j_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){let a=Tv(),u=this.So(n,r);I("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,u,c,i).then(l=>(I("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Yt("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){let i=GU[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){let s=Tv();return new Promise((o,a)=>{let u=new HS;u.setWithCredentials(!0),u.listenOnce(US.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sh.NO_ERROR:let l=u.getResponseJson();I(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case sh.TIMEOUT:I(at,`RPC '${e}' ${s} timed out`),a(new w(g.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:let d=u.getStatus();if(I(at,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(_){let C=_.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(C)>=0?C:g.UNKNOWN}(f.status);a(new w(m,f.message))}else a(new w(g.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new w(g.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{I(at,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(i);I(at,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}vo(e,n,r){let i=Tv(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jS(),a=BS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let l=s.join("");I(at,`Creating RPC '${e}' stream ${i}: ${l}`,u);let d=o.createWebChannel(l,u),h=!1,f=!1,m=new L_({co:_=>{f?I(at,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(I(at,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),I(at,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),v=(_,C,k)=>{_.listen(C,M=>{try{k(M)}catch(U){setTimeout(()=>{throw U},0)}})};return v(d,_u.EventType.OPEN,()=>{f||I(at,`RPC '${e}' stream ${i} transport opened.`)}),v(d,_u.EventType.CLOSE,()=>{f||(f=!0,I(at,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),v(d,_u.EventType.ERROR,_=>{f||(f=!0,Yt(at,`RPC '${e}' stream ${i} transport errored:`,_),m.Ro(new w(g.UNAVAILABLE,"The operation could not be completed")))}),v(d,_u.EventType.MESSAGE,_=>{var C;if(!f){let k=_.data[0];V(!!k);let M=k,U=M.error||((C=M[0])===null||C===void 0?void 0:C.error);if(U){I(at,`RPC '${e}' stream ${i} received error:`,U);let H=U.status,Y=function(Uf){let SE=He[Uf];if(SE!==void 0)return Sx(SE)}(H),Ie=U.message;Y===void 0&&(Y=g.INTERNAL,Ie="Unknown error status: "+H+" with message "+U.message),f=!0,m.Ro(new w(Y,Ie)),d.close()}else I(at,`RPC '${e}' stream ${i} received:`,k),m.Vo(k)}}),v(a,$S.STAT_EVENT,_=>{_.stat===Ev.PROXY?I(at,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ev.NOPROXY&&I(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}};function eM(){return typeof window<"u"?window:null}function ph(){return typeof document<"u"?document:null}function sc(t){return new r_(t,!0)}var Ku=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Kh=class{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ku(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return y(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return y(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return y(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(Fe(n.toString()),Fe("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{let i=new w(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){let r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(()=>y(this,null,function*(){this.state=0,this.start()}))}o_(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},B_=class extends Kh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=MU(this.serializer,e),r=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?Le(o.readTime):B.min()}(e);return this.listener.a_(n,r)}u_(e){let n={};n.database=Hu(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Th(u)?{documents:Ox(s,u)}:{query:kx(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xx(s,o.resumeToken);let c=i_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=Do(s,o.snapshotVersion.toTimestamp());let c=i_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=NU(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){let n={};n.database=Hu(this.serializer),n.removeTarget=e,this.e_(n)}},U_=class extends Kh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(V(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=RU(e.writeResults,e.commitTime),r=Le(e.commitTime);return this.listener.I_(r,n)}return V(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Hu(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>qu(this.serializer,r))};this.e_(n)}};var $_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new w(g.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new w(g.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new w(g.UNKNOWN,s.toString())})}terminate(){this.d_=!0}};var H_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Fe(n),this.f_=!1):I("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var q_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(()=>y(this,null,function*(){ei(this)&&(I("RemoteStore","Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let c=x(u);c.C_.add(4),yield ko(c),c.M_.set("Unknown"),c.C_.delete(4),yield oc(c)})}(this))}))}),this.M_=new H_(r,i)}};function oc(t){return y(this,null,function*(){if(ei(t))for(let e of t.v_)yield e(!0)})}function ko(t){return y(this,null,function*(){for(let e of t.v_)yield e(!1)})}function pf(t,e){let n=x(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),kw(n)?Ow(n):Vo(n).Ho()&&Pw(n,e))}function Qu(t,e){let n=x(t),r=Vo(n);n.D_.delete(e),r.Ho()&&tM(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ei(n)&&n.M_.set("Unknown"))}function Pw(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).u_(e)}function tM(t,e){t.x_.Oe(e),Vo(t).c_(e)}function Ow(t){t.x_=new n_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.M_.g_()}function kw(t){return ei(t)&&!Vo(t).jo()&&t.D_.size>0}function ei(t){return x(t).C_.size===0}function nM(t){t.x_=void 0}function WU(t){return y(this,null,function*(){t.D_.forEach((e,n)=>{Pw(t,e)})})}function KU(t,e){return y(this,null,function*(){nM(t),kw(t)?(t.M_.w_(e),Ow(t)):t.M_.set("Unknown")})}function QU(t,e,n){return y(this,null,function*(){if(t.M_.set("Online"),e instanceof xh&&e.state===2&&e.cause)try{yield function(i,s){return y(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.D_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))})}(t,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Qh(t,r)}else if(e instanceof mo?t.x_.$e(e):e instanceof Ah?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(B.min()))try{let r=yield Qx(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.x_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){let l=s.D_.get(c);l&&s.D_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{let l=s.D_.get(u);if(!l)return;s.D_.set(u,l.withResumeToken(Xe.EMPTY_BYTE_STRING,l.snapshotVersion)),tM(s,u);let d=new Co(l.target,u,c,l.sequenceNumber);Pw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield Qh(t,r)}})}function Qh(t,e,n){return y(this,null,function*(){if(!Jr(e))throw e;t.C_.add(1),yield ko(t),t.M_.set("Offline"),n||(n=()=>Qx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){I("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield oc(t)}))})}function rM(t,e){return e().catch(n=>Qh(t,n,e))}function Fo(t){return y(this,null,function*(){let e=x(t),n=Zr(e),r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;YU(e);)try{let i=yield HU(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,ZU(e,i)}catch(i){yield Qh(e,i)}iM(e)&&sM(e)})}function YU(t){return ei(t)&&t.b_.length<10}function ZU(t,e){t.b_.push(e);let n=Zr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function iM(t){return ei(t)&&!Zr(t).jo()&&t.b_.length>0}function sM(t){Zr(t).start()}function XU(t){return y(this,null,function*(){Zr(t).E_()})}function JU(t){return y(this,null,function*(){let e=Zr(t);for(let n of t.b_)e.P_(n.mutations)})}function e$(t,e,n){return y(this,null,function*(){let r=t.b_.shift(),i=Jv.from(r,e,n);yield rM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fo(t)})}function t$(t,e){return y(this,null,function*(){e&&Zr(t).h_&&(yield function(r,i){return y(this,null,function*(){if(function(o){return bx(o)&&o!==g.ABORTED}(i.code)){let s=r.b_.shift();Zr(r).Yo(),yield rM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Fo(r)}})}(t,e)),iM(t)&&sM(t)})}function kA(t,e){return y(this,null,function*(){let n=x(t);n.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let r=ei(n);n.C_.add(3),yield ko(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield oc(n)})}function z_(t,e){return y(this,null,function*(){let n=x(t);e?(n.C_.delete(2),yield oc(n)):e||(n.C_.add(2),yield ko(n),n.M_.set("Unknown"))})}function Vo(t){return t.O_||(t.O_=function(n,r,i){let s=x(n);return s.A_(),new B_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:WU.bind(null,t),Io:KU.bind(null,t),a_:QU.bind(null,t)}),t.v_.push(e=>y(this,null,function*(){e?(t.O_.Yo(),kw(t)?Ow(t):t.M_.set("Unknown")):(yield t.O_.stop(),nM(t))}))),t.O_}function Zr(t){return t.N_||(t.N_=function(n,r,i){let s=x(n);return s.A_(),new U_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:XU.bind(null,t),Io:t$.bind(null,t),T_:JU.bind(null,t),I_:e$.bind(null,t)}),t.v_.push(e=>y(this,null,function*(){e?(t.N_.Yo(),yield Fo(t)):(yield t.N_.stop(),t.b_.length>0&&(I("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var G_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new w(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Lo(t,e){if(Fe("AsyncQueue",`${e}: ${t}`),Jr(t))return new w(g.UNAVAILABLE,`${e}: ${t}`);throw t}var Yh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Zh=class{constructor(){this.B_=new Ee(S.comparator)}track(e){let n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):P():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ao=class t{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Yh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var W_=class{constructor(){this.k_=void 0,this.listeners=[]}},K_=class{constructor(){this.queries=new Bn(e=>dx(e),rc),this.onlineState="Unknown",this.q_=new Set}};function Fw(t,e){return y(this,null,function*(){let n=x(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new W_),i)try{s.k_=yield n.onListen(r)}catch(o){let a=Lo(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Lw(n)})}function Vw(t,e){return y(this,null,function*(){let n=x(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function n$(t,e){let n=x(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Lw(n)}function r$(t,e,n){let r=x(t),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(n);r.queries.delete(e)}function Lw(t){t.q_.forEach(e=>{e.next()})}var Yu=class{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var Q_=class{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}};var Xh=class{constructor(e){this.serializer=e}hs(e){return Fn(this.serializer,e)}Ps(e){return e.metadata.exists?Px(this.serializer,e.document,!1):We.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Le(e)}},Y_=class{constructor(e,n,r){this.X_=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=oM(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;let r=le.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){let n=new Map,r=new Xh(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.hs(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||Z()).add(s);n.set(o,a)}}return n}complete(){return y(this,null,function*(){let e=yield qU(this.localStore,new Xh(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(let r of this.queries)yield zU(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}})}};function oM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Jh=class{constructor(e){this.key=e}},ef=class{constructor(e){this.key=e}},tf=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Z(),this.mutatedKeys=Z(),this._a=fx(e),this.aa=new Yh(this._a)}get ua(){return this.ia}ca(e,n){let r=n?n.la:new Zh,i=n?n.aa:this.aa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=ic(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),_=!0):this.ha(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this._a(f,u)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=v?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let o=e.la.L_();o.sort((l,d)=>function(f,m){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return v(f)-v(m)}(l.type,d.type)||this._a(l.doc,d.doc)),this.Pa(r),i=i!=null&&i;let a=n&&!i?this.Ia():[],u=this.oa.size===0&&this.current&&!i?1:0,c=u!==this.sa;return this.sa=u,o.length!==0||c?{snapshot:new Ao(this.query,e.aa,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Zh,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=Z(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});let n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new ef(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Jh(r))}),n}da(e){this.ia=e.ls,this.oa=Z();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ao.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},Z_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},X_=class{constructor(e){this.key=e,this.Ra=!1}},J_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Bn(a=>dx(a),rc),this.fa=new Map,this.ga=new Set,this.pa=new Ee(S.comparator),this.ya=new Map,this.wa=new Gu,this.Sa={},this.ba=new Map,this.Da=To.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function i$(t,e){return y(this,null,function*(){let n=Hw(t),r,i,s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{let o=yield bo(n.localStore,yt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield jw(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&pf(n.remoteStore,o)}return i})}function jw(t,e,n,r,i){return y(this,null,function*(){t.va=(d,h,f)=>function(v,_,C,k){return y(this,null,function*(){let M=_.view.ca(C);M.Zi&&(M=yield Hh(v.localStore,_.query,!1).then(({documents:Ie})=>_.view.ca(Ie,M)));let U=k&&k.targetChanges.get(_.targetId),H=k&&k.targetMismatches.get(_.targetId)!=null,Y=_.view.applyChanges(M,v.isPrimaryClient,U,H);return ew(v,_.targetId,Y.Ta),Y.snapshot})}(t,d,h,f);let s=yield Hh(t.localStore,e,!0),o=new tf(e,s.ls),a=o.ca(s.documents),u=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);ew(t,n,c.Ta);let l=new Z_(e,n,o);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot})}function s$(t,e){return y(this,null,function*(){let n=x(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!rc(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield So(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Qu(n.remoteStore,r.targetId),xo(n,r.targetId)}).catch(Xr))):(xo(n,r.targetId),yield So(n.localStore,r.targetId,!0))})}function o$(t,e,n){return y(this,null,function*(){let r=qw(t);try{let i=yield function(o,a){let u=x(o),c=be.now(),l=a.reduce((f,m)=>f.add(m.key),Z()),d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=At(),v=Z();return u.ss.getEntries(f,l).next(_=>{m=_,m.forEach((C,k)=>{k.isValidDocument()||(v=v.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,m)).next(_=>{d=_;let C=[];for(let k of a){let M=DU(k,d.get(k.key).overlayedDocument);M!=null&&C.push(new fn(k.key,M,ix(M.value.mapValue),Ne.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,C,a)}).next(_=>{h=_;let C=_.applyToLocalDocumentSet(d,v);return u.documentOverlayCache.saveOverlays(f,_.batchId,C)})}).then(()=>({batchId:h.batchId,changes:gx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ee(Q)),c=c.insert(a,u),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),yield fr(r,i.changes),yield Fo(r.remoteStore)}catch(i){let s=Lo(i,"Failed to persist write");n.reject(s)}})}function aM(t,e){return y(this,null,function*(){let n=x(t);try{let r=yield $U(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.ya.get(s);o&&(V(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?V(o.Ra):i.removedDocuments.size>0&&(V(o.Ra),o.Ra=!1))}),yield fr(n,r,e)}catch(r){yield Xr(r)}})}function FA(t,e,n){let r=x(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ma.forEach((s,o)=>{let a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=x(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(let h of d.listeners)h.Q_(a)&&(c=!0)}),c&&Lw(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function a$(t,e,n){return y(this,null,function*(){let r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ee(S.comparator);o=o.insert(s,We.newNoDocument(s,B.min()));let a=Z().add(s),u=new Bu(B.min(),new Map,new Ee(Q),o,a);yield aM(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),$w(r)}else yield So(r.localStore,e,!1).then(()=>xo(r,e,n)).catch(Xr)})}function u$(t,e){return y(this,null,function*(){let n=x(t),r=e.batch.batchId;try{let i=yield UU(n.localStore,e);Uw(n,r,null),Bw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fr(n,i)}catch(i){yield Xr(i)}})}function c$(t,e,n){return y(this,null,function*(){let r=x(t);try{let i=yield function(o,a){let u=x(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(V(d!==null),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);Uw(r,e,n),Bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fr(r,i)}catch(i){yield Xr(i)}})}function l$(t,e){return y(this,null,function*(){let n=x(t);ei(n.remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=x(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ba.get(r)||[];i.push(e),n.ba.set(r,i)}catch(r){let i=Lo(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function Bw(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Uw(t,e,n){let r=x(t),i=r.Sa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function xo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||uM(t,r)})}function uM(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(Qu(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),$w(t))}function ew(t,e,n){for(let r of n)r instanceof Jh?(t.wa.addReference(r.key,e),d$(t,r)):r instanceof ef?(I("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||uM(t,r.key)):P()}function d$(t,e){let n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(I("SyncEngine","New document in limbo: "+n),t.ga.add(r),$w(t))}function $w(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new S(le.fromString(e)),r=t.Da.next();t.ya.set(r,new X_(n)),t.pa=t.pa.insert(n,r),pf(t.remoteStore,new Co(yt(Oo(n.path)),r,"TargetPurposeLimboResolution",Bt._e))}}function fr(t,e,n){return y(this,null,function*(){let r=x(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);let l=P_.Qi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Va.a_(i),yield function(u,c){return y(this,null,function*(){let l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>p.forEach(c,h=>p.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>p.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Jr(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(let d of c){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,v)}}})}(r.localStore,s))})}function h$(t,e){return y(this,null,function*(){let n=x(t);if(!n.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let r=yield Kx(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new w(g.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fr(n,r._s)}})}function f$(t,e){let n=x(t),r=n.ya.get(e);if(r&&r.Ra)return Z().add(r.key);{let i=Z(),s=n.fa.get(e);if(!s)return i;for(let o of s){let a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function p$(t,e){return y(this,null,function*(){let n=x(t),r=yield Hh(n.localStore,e.query,!0),i=e.view.da(r);return n.isPrimaryClient&&ew(n,e.targetId,i.Ta),i})}function g$(t,e){return y(this,null,function*(){let n=x(t);return Xx(n.localStore,e).then(r=>fr(n,r))})}function m$(t,e,n,r){return y(this,null,function*(){let i=x(t),s=yield function(a,u){let c=x(a),l=x(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",d=>l.Cn(d,u).next(h=>h?c.localDocuments.getDocuments(d,h):p.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield Fo(i.remoteStore):n==="acknowledged"||n==="rejected"?(Uw(i,e,r||null),Bw(i,e),function(a,u){x(x(a).mutationQueue).Fn(u)}(i.localStore,e)):P(),yield fr(i,s)):I("SyncEngine","Cannot apply mutation batch with id: "+e)})}function y$(t,e){return y(this,null,function*(){let n=x(t);if(Hw(n),qw(n),e===!0&&n.Ca!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield VA(n,r.toArray());n.Ca=!0,yield z_(n.remoteStore,!0);for(let s of i)pf(n.remoteStore,s)}else if(e===!1&&n.Ca!==!1){let r=[],i=Promise.resolve();n.fa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(xo(n,o),So(n.localStore,o,!0))),Qu(n.remoteStore,o)}),yield i,yield VA(n,r),function(o){let a=x(o);a.ya.forEach((u,c)=>{Qu(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new Ee(S.comparator)}(n),n.Ca=!1,yield z_(n.remoteStore,!1)}})}function VA(t,e,n){return y(this,null,function*(){let r=x(t),i=[],s=[];for(let o of e){let a,u=r.fa.get(o);if(u&&u.length!==0){a=yield bo(r.localStore,yt(u[0]));for(let c of u){let l=r.ma.get(c),d=yield p$(r,l);d.snapshot&&s.push(d.snapshot)}}else{let c=yield Zx(r.localStore,o);a=yield bo(r.localStore,c),yield jw(r,cM(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i})}function cM(t){return lx(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function v$(t){return function(n){return x(x(n).persistence).Bi()}(x(t).localStore)}function _$(t,e,n,r){return y(this,null,function*(){let i=x(t);if(i.Ca)return void I("SyncEngine","Ignoring unexpected query state notification.");let s=i.fa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield Xx(i.localStore,hx(s[0])),a=Bu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Xe.EMPTY_BYTE_STRING);yield fr(i,o,a);break}case"rejected":yield So(i.localStore,e,!0),xo(i,e,r);break;default:P()}})}function w$(t,e,n){return y(this,null,function*(){let r=Hw(t);if(r.Ca){for(let i of e){if(r.fa.has(i)){I("SyncEngine","Adding an already active target "+i);continue}let s=yield Zx(r.localStore,i),o=yield bo(r.localStore,s);yield jw(r,cM(s),o.targetId,!1,o.resumeToken),pf(r.remoteStore,o)}for(let i of n)r.fa.has(i)&&(yield So(r.localStore,i,!1).then(()=>{Qu(r.remoteStore,i),xo(r,i)}).catch(Xr))}})}function Hw(t){let e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a$.bind(null,e),e.Va.a_=n$.bind(null,e.eventManager),e.Va.Fa=r$.bind(null,e.eventManager),e}function qw(t){let e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c$.bind(null,e),e}function E$(t,e,n){let r=x(t);(function(s,o,a){return y(this,null,function*(){try{let u=yield o.getMetadata();if(yield function(f,m){let v=x(f),_=Le(m.createTime);return v.persistence.runTransaction("hasNewerBundle","readonly",C=>v.Kr.getBundleMetadata(C,m.id)).then(C=>!!C&&C.createTime.compareTo(_)>=0)}(s.localStore,u))return yield o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(oM(u));let c=new Y_(u,s.localStore,o.serializer),l=yield o.Ma();for(;l;){let h=yield c.ea(l);h&&a._updateProgress(h),l=yield o.Ma()}let d=yield c.complete();return yield fr(s,d.ra,void 0),yield function(f,m){let v=x(f);return v.persistence.runTransaction("Save bundle","readwrite",_=>v.Kr.saveBundleMetadata(_,m))}(s.localStore,u),a._completeWith(d.progress),Promise.resolve(d.na)}catch(u){return Yt("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var Zu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Wx(this.persistence,new $h,e.initialUser,this.serializer)}createPersistence(e){return new Bh(Uh.jr,this.serializer)}createSharedClientState(e){return new Gh}terminate(){return y(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var nf=class t extends Zu{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){yield $f(t.prototype,this,"initialize").call(this,e),yield this.xa.initialize(this,e),yield qw(this.xa.syncEngine),yield Fo(this.xa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return Wx(this.persistence,new $h,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new v_(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new Vv(n,this.persistence);return new Fv(e.asyncQueue,r)}createPersistence(e){let n=Nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new N_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,eM(),ph(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gh}},tw=class t extends nf{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return y(this,null,function*(){yield $f(t.prototype,this,"initialize").call(this,e);let n=this.xa.syncEngine;this.sharedClientState instanceof Mu&&(this.sharedClientState.syncEngine={Ys:m$.bind(null,n),Zs:_$.bind(null,n),Xs:w$.bind(null,n),Bi:v$.bind(null,n),Js:g$.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(r=>y(this,null,function*(){yield y$(this.xa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=eM();if(!Mu.D(n))throw new w(g.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=Nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mu(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Xu=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h$.bind(null,this.syncEngine),yield z_(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new K_}()}createDatastore(e){let n=sc(e.databaseInfo.databaseId),r=function(s){return new j_(s)}(e.databaseInfo);return function(s,o,a,u){return new $_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new q_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FA(this.syncEngine,n,0),function(){return Wh.D()?new Wh:new V_}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){let d=new J_(i,s,o,a,u,c);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return y(this,null,function*(){let r=x(n);I("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield ko(r),r.F_.shutdown(),r.M_.set("Unknown")})}(this.remoteStore)}};function LA(t,e=10240){let n=0;return{read(){return y(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return y(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Mo=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Fe("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var nw=class{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new Ge,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){return y(this,null,function*(){return this.metadata.promise})}Ma(){return y(this,null,function*(){return yield this.getMetadata(),this.ka()})}ka(){return y(this,null,function*(){let e=yield this.qa();if(e===null)return null;let n=this.La.decode(e),r=Number(n);isNaN(r)&&this.Qa(`length string (${n}) is not valid number`);let i=yield this.Ka(r);return new Q_(JSON.parse(i),e.length+r)})}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){return y(this,null,function*(){for(;this.$a()<0&&!(yield this.Ua()););if(this.buffer.length===0)return null;let e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ka(e){return y(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ua())&&this.Qa("Reached the end of bundle when more is expected.");let n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){return y(this,null,function*(){let e=yield this.Ba.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var rw=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){return y(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new w(g.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let n=yield function(i,s){return y(this,null,function*(){let o=x(i),a=Hu(o.serializer)+"/documents",u={documents:s.map(h=>$u(o.serializer,h))},c=yield o.Co("BatchGetDocuments",a,u,s.length),l=new Map;c.forEach(h=>{let f=xU(o.serializer,h);l.set(f.key.toString(),f)});let d=[];return s.forEach(h=>{let f=l.get(h.toString());V(!!f),d.push(f)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return y(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=S.fromPath(r);this.mutations.push(new Vu(i,this.precondition(i)))}),yield function(r,i){return y(this,null,function*(){let s=x(r),o=Hu(s.serializer)+"/documents",a={writes:i.map(u=>qu(s.serializer,u))};yield s.wo("Commit",o,a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw P();n=B.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new w(g.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(B.min())?Ne.exists(!1):Ne.updateTime(n):Ne.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(B.min()))throw new w(g.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ne.updateTime(n)}return Ne.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var iw=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new Ku(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(()=>y(this,null,function*(){let e=new rw(this.datastore),n=this.za(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ja(i)}))}).catch(r=>{this.ja(r)})}))}za(e){try{let n=this.updateFunction(e);return!tc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!bx(n)}return!1}};var sw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=yh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>y(this,null,function*(){I("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){return y(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Lo(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function gh(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield Kx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ow(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield zw(t);I("FirestoreClient","Initializing OnlineComponentProvider");let r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kA(e.remoteStore,s)),t._onlineComponents=e})}function lM(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function zw(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){I("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gh(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!lM(n))throw n;Yt("Error using user provided cache. Falling back to memory cache: "+n),yield gh(t,new Zu)}}else I("FirestoreClient","Using default OfflineComponentProvider"),yield gh(t,new Zu);return t._offlineComponents})}function gf(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(I("FirestoreClient","Using user provided OnlineComponentProvider"),yield ow(t,t._uninitializedComponentsProvider._online)):(I("FirestoreClient","Using default OnlineComponentProvider"),yield ow(t,new Xu))),t._onlineComponents})}function dM(t){return zw(t).then(e=>e.persistence)}function Gw(t){return zw(t).then(e=>e.localStore)}function hM(t){return gf(t).then(e=>e.remoteStore)}function Ww(t){return gf(t).then(e=>e.syncEngine)}function I$(t){return gf(t).then(e=>e.datastore)}function Ro(t){return y(this,null,function*(){let e=yield gf(t),n=e.eventManager;return n.onListen=i$.bind(null,e.syncEngine),n.onUnlisten=s$.bind(null,e.syncEngine),n})}function D$(t){return t.asyncQueue.enqueue(()=>y(this,null,function*(){let e=yield dM(t),n=yield hM(t);return e.setNetworkEnabled(!0),function(i){let s=x(i);return s.C_.delete(0),oc(s)}(n)}))}function C$(t){return t.asyncQueue.enqueue(()=>y(this,null,function*(){let e=yield dM(t),n=yield hM(t);return e.setNetworkEnabled(!1),function(i){return y(this,null,function*(){let s=x(i);s.C_.add(0),yield ko(s),s.M_.set("Offline")})}(n)}))}function T$(t,e){let n=new Ge;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(i,s,o){return y(this,null,function*(){try{let a=yield function(c,l){let d=x(c);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,l))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new w(g.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let u=Lo(a,`Failed to get document '${s} from cache`);o.reject(u)}})}(yield Gw(t),e,n)})),n.promise}function fM(t,e,n={}){let r=new Ge;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,u,c){let l=new Mo({next:h=>{o.enqueueAndForget(()=>Vw(s,d));let f=h.docs.has(a);!f&&h.fromCache?c.reject(new w(g.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&u.source==="server"?c.reject(new w(g.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Yu(Oo(a.path),l,{includeMetadataChanges:!0,J_:!0});return Fw(s,d)}(yield Ro(t),t.asyncQueue,e,n,r)})),r.promise}function b$(t,e){let n=new Ge;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(i,s,o){return y(this,null,function*(){try{let a=yield Hh(i,s,!0),u=new tf(s,a.ls),c=u.ca(a.documents),l=u.applyChanges(c,!1);o.resolve(l.snapshot)}catch(a){let u=Lo(a,`Failed to execute query '${s} against cache`);o.reject(u)}})}(yield Gw(t),e,n)})),n.promise}function pM(t,e,n={}){let r=new Ge;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,u,c){let l=new Mo({next:h=>{o.enqueueAndForget(()=>Vw(s,d)),h.fromCache&&u.source==="server"?c.reject(new w(g.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Yu(a,l,{includeMetadataChanges:!0,J_:!0});return Fw(s,d)}(yield Ro(t),t.asyncQueue,e,n,r)})),r.promise}function S$(t,e){let n=new Mo(e);return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(i,s){x(i).q_.add(s),s.next()}(yield Ro(t),n)})),()=>{n.Na(),t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(i,s){x(i).q_.delete(s)}(yield Ro(t),n)}))}}function A$(t,e,n,r){let i=function(o,a){let u;return u=typeof o=="string"?Ax().encode(o):o,function(l,d){return new nw(l,d)}(function(l,d){if(l instanceof Uint8Array)return LA(l,d);if(l instanceof ArrayBuffer)return LA(new Uint8Array(l),d);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,sc(e));t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){E$(yield Ww(t),i,r)}))}function x$(t,e){return t.asyncQueue.enqueue(()=>y(this,null,function*(){return function(r,i){let s=x(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Gw(t),e)}))}function gM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jA=new Map;function Kw(t,e,n){if(!n)throw new w(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qw(t,e,n,r){if(e===!0&&r===!0)throw new w(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BA(t){if(!S.isDocumentKey(t))throw new w(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UA(t){if(S.isDocumentKey(t))throw new w(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":P()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new w(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=mf(t);throw new w(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mM(t,e){if(e<=0)throw new w(g.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var rf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new w(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new w(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new w(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new w(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new w(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Wi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new w(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bv;switch(r.type){case"firstParty":return new Mv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new w(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jA.get(n);r&&(I("ComponentProvider","Removing Datastore"),jA.delete(n),r.terminate())}(this),Promise.resolve()}};function yM(t,e,n,r={}){var i;let s=(t=ce(t,Wi))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ze.MOCK_USER;else{a=PE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new w(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(c)}t._authCredentials=new Sv(new mh(a,u))}}var it=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ve=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Vn=class t extends it{constructor(e,n,r){super(e,n,Oo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ve(this.firestore,null,new S(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Yw(t,e,...n){if(t=Ce(t),Kw("collection","path",e),t instanceof Wi){let r=le.fromString(e,...n);return UA(r),new Vn(t,null,r)}{if(!(t instanceof ve||t instanceof Vn))throw new w(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(le.fromString(e,...n));return UA(r),new Vn(t.firestore,null,r)}}function vM(t,e){if(t=ce(t,Wi),Kw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new w(g.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new it(t,null,function(r){return new hn(le.emptyPath(),r)}(e))}function ac(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=yh.newId()),Kw("doc","path",e),t instanceof Wi){let r=le.fromString(e,...n);return BA(r),new ve(t,null,new S(r))}{if(!(t instanceof ve||t instanceof Vn))throw new w(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(le.fromString(e,...n));return BA(r),new ve(t.firestore,t instanceof Vn?t.converter:null,new S(r))}}function Zw(t,e){return t=Ce(t),e=Ce(e),(t instanceof ve||t instanceof Vn)&&(e instanceof ve||e instanceof Vn)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Xw(t,e){return t=Ce(t),e=Ce(e),t instanceof it&&e instanceof it&&t.firestore===e.firestore&&rc(t._query,e._query)&&t.converter===e.converter}var aw=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ku(this,"async_queue_retry"),this.iu=()=>{let n=ph();n&&I("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ph();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new Ge;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return y(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Jr(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fe("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);let i=G_.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&P()}verifyOperationInProgress(){}uu(){return y(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function uw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var cw=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ge,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var _M=-1,De=class extends Wi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aw}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wM(this),this._firestoreClient.terminate()}};function Ke(t){return t._firestoreClient||wM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wM(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,c,l){return new Lv(a,u,c,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gM(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new sw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function EM(t,e){MM(t=ce(t,De));let n=Ke(t);if(n._uninitializedComponentsProvider)throw new w(g.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new Xu;return DM(n,i,new nf(i,r.cacheSizeBytes,e?.forceOwnership))}function IM(t){MM(t=ce(t,De));let e=Ke(t);if(e._uninitializedComponentsProvider)throw new w(g.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new Xu;return DM(e,r,new tw(r,n.cacheSizeBytes))}function DM(t,e,n){let r=new Ge;return t.asyncQueue.enqueue(()=>y(this,null,function*(){try{yield gh(t,n),yield ow(t,e),r.resolve()}catch(i){let s=i;if(!lM(s))throw s;Yt("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function CM(t){if(t._initialized&&!t._terminated)throw new w(g.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Ge;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{yield function(r){return y(this,null,function*(){if(!$r.D())return Promise.resolve();let i=r+"main";yield $r.delete(i)})}(Nw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function TM(t){return function(n){let r=new Ge;return n.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return l$(yield Ww(n),r)})),r.promise}(Ke(t=ce(t,De)))}function bM(t){return D$(Ke(t=ce(t,De)))}function SM(t){return C$(Ke(t=ce(t,De)))}function AM(t,e){let n=Ke(t=ce(t,De)),r=new cw;return A$(n,t._databaseId,e,r),r}function xM(t,e){return x$(Ke(t=ce(t,De)),e).then(n=>n?new it(t,null,n.query):null)}function MM(t){if(t._initialized||t._terminated)throw new w(g.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Un=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xe.fromBase64String(e))}catch(n){throw new w(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pn=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new w(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ve(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dr=class{constructor(e){this._methodName=e}};var Ki=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new w(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new w(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}};var M$=/^__.*__$/,lw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qr(e,this.data,n,this.fieldTransforms)}},sf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function RM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}var of=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return af(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(RM(this.Iu)&&M$.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},dw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sc(e)}pu(e,n,r,i=!1){return new of({Iu:e,methodName:n,gu:r,path:Ve.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Xi(t){let e=t._freezeSettings(),n=sc(t._databaseId);return new dw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yf(t,e,n,r,i,s={}){let o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);tE("Data must be an object, but it was:",o,r);let a=OM(r,o),u,c;if(s.merge)u=new Ut(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=mw(e,d,n);if(!o.contains(h))throw new w(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FM(l,h)||l.push(h)}u=new Ut(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new lw(new ut(a),u,c)}var Ju=class t extends dr{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function NM(t,e,n){return new of({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var hw=class t extends dr{_toFieldTransform(e){return new qi(e.path,new Wr)}isEqual(e){return e instanceof t}},fw=class extends dr{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=NM(this,e,!0),r=this.yu.map(s=>Ji(s,n)),i=new cr(r);return new qi(e.path,i)}isEqual(e){return this===e}},pw=class extends dr{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=NM(this,e,!0),r=this.yu.map(s=>Ji(s,n)),i=new lr(r);return new qi(e.path,i)}isEqual(e){return this===e}},gw=class extends dr{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){let n=new Kr(e.serializer,_x(e.serializer,this.wu));return new qi(e.path,n)}isEqual(e){return this===e}};function Jw(t,e,n,r){let i=t.pu(1,e,n);tE("Data must be an object, but it was:",i,r);let s=[],o=ut.empty();Zi(r,(u,c)=>{let l=nE(e,u,n);c=Ce(c);let d=i.Ru(l);if(c instanceof Ju)s.push(l);else{let h=Ji(c,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Ut(s);return new sf(o,a,i.fieldTransforms)}function eE(t,e,n,r,i,s){let o=t.pu(1,e,n),a=[mw(e,r,n)],u=[i];if(s.length%2!=0)throw new w(g.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(mw(e,s[h])),u.push(s[h+1]);let c=[],l=ut.empty();for(let h=a.length-1;h>=0;--h)if(!FM(c,a[h])){let f=a[h],m=u[h];m=Ce(m);let v=o.Ru(f);if(m instanceof Ju)c.push(f);else{let _=Ji(m,v);_!=null&&(c.push(f),l.set(f,_))}}let d=new Ut(c);return new sf(l,d,o.fieldTransforms)}function PM(t,e,n,r=!1){return Ji(n,t.pu(r?4:3,e))}function Ji(t,e){if(kM(t=Ce(t)))return tE("Unsupported field value:",e,t),OM(t,e);if(t instanceof dr)return function(r,i){if(!RM(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Ji(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _x(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=be.fromDate(r);return{timestampValue:Do(i.serializer,s)}}if(r instanceof be){let s=new be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Do(i.serializer,s)}}if(r instanceof Ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:xx(i.serializer,r._byteString)};if(r instanceof ve){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${mf(r)}`)}(t,e)}function OM(t,e){let n={};return tx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(r,i)=>{let s=Ji(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof be||t instanceof Ki||t instanceof Un||t instanceof ve||t instanceof dr)}function tE(t,e,n){if(!kM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=mf(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function mw(t,e,n){if((e=Ce(e))instanceof pn)return e._internalPath;if(typeof e=="string")return nE(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}var R$=new RegExp("[~\\*/\\[\\]]");function nE(t,e,n){if(e.search(R$)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pn(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new w(g.INVALID_ARGUMENT,a+t+u)}function FM(t,e){return t.some(n=>n.isEqual(e))}var Qi=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yw=class extends Qi{data(){return super.data()}};function vf(t,e){return typeof e=="string"?nE(t,e):e instanceof pn?e._internalPath:e._delegate._internalPath}function VM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new w(g.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ec=class{},Yi=class extends ec{};function pr(t,e,...n){let r=[];e instanceof ec&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof vw).length,a=s.filter(u=>u instanceof uf).length;if(o>1||o>0&&a>0)throw new w(g.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var uf=class t extends Yi{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return WM(e._query,n),new it(e.firestore,e.converter,Zv(e._query,n))}_parse(e){let n=Xi(e.firestore);return function(s,o,a,u,c,l,d){let h;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new w(g.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){HA(d,l);let f=[];for(let m of d)f.push($A(u,s,m));h={arrayValue:{values:f}}}else h=$A(u,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||HA(d,l),h=PM(a,o,d,l==="in"||l==="not-in");return se.create(c,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function LM(t,e,n){let r=e,i=vf("where",t);return uf._create(i,r,n)}var vw=class t extends ec{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)WM(o,u),o=Zv(o,u)}(e._query,n),new it(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var _w=class t extends Yi{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new w(g.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new w(g.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $i(s,o)}(e._query,this._field,this._direction);return new it(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new hn(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function jM(t,e="asc"){let n=e,r=vf("orderBy",t);return _w._create(r,n)}var cf=class t extends Yi{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new it(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}};function BM(t){return mM("limit",t),cf._create("limit",t,"F")}function UM(t){return mM("limitToLast",t),cf._create("limitToLast",t,"L")}var lf=class t extends Yi{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=GM(e,this.type,this._docOrFields,this._inclusive);return new it(e.firestore,e.converter,function(i,s){return new hn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function $M(...t){return lf._create("startAt",t,!0)}function HM(...t){return lf._create("startAfter",t,!1)}var df=class t extends Yi{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=GM(e,this.type,this._docOrFields,this._inclusive);return new it(e.firestore,e.converter,function(i,s){return new hn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function qM(...t){return df._create("endBefore",t,!1)}function zM(...t){return df._create("endAt",t,!0)}function GM(t,e,n,r){if(n[0]=Ce(n[0]),n[0]instanceof Qi)return function(s,o,a,u,c){if(!u)throw new w(g.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let l=[];for(let d of go(s))if(d.field.isKeyField())l.push(Ui(o,u.key));else{let h=u.data.field(d.field);if(ff(h))throw new w(g.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let f=d.field.canonicalString();throw new w(g.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}l.push(h)}return new jn(l,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Xi(t.firestore);return function(o,a,u,c,l,d){let h=o.explicitOrderBy;if(l.length>h.length)throw new w(g.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let m=0;m<l.length;m++){let v=l[m];if(h[m].field.isKeyField()){if(typeof v!="string")throw new w(g.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!Sw(o)&&v.indexOf("/")!==-1)throw new w(g.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);let _=o.path.child(le.fromString(v));if(!S.isDocumentKey(_))throw new w(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);let C=new S(_);f.push(Ui(a,C))}else{let _=PM(u,c,v);f.push(_)}}return new jn(f,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function $A(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new w(g.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&n.indexOf("/")!==-1)throw new w(g.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(le.fromString(n));if(!S.isDocumentKey(r))throw new w(g.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ui(t,new S(r))}if(n instanceof ve)return Ui(t,n._key);throw new w(g.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function HA(t,e){if(!Array.isArray(t)||t.length===0)throw new w(g.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new w(g.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new w(g.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var No=class{convertValue(e,n="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ki(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Tw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){let n=Hr(e);return new be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=le.fromString(e);V(jx(r));let i=new zr(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Fe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function _f(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ww=class extends No{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ve(this.firestore,null,n)}};var ur=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xt=class extends Qi{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Br(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Br=class extends Xt{data(e={}){return super.data(e)}},gn=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ur(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Br(this._firestore,this._userDataWriter,r.key,r,new ur(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new w(g.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Br(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ur(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Br(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ur(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),c=-1,l=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:N$(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function N$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function rE(t,e){return t instanceof Xt&&e instanceof Xt?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gn&&e instanceof gn&&t._firestore===e._firestore&&Xw(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function KM(t){t=ce(t,ve);let e=ce(t.firestore,De);return fM(Ke(e),t._key).then(n=>aE(e,t,n))}var hr=class extends No{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ve(this.firestore,null,n)}};function QM(t){t=ce(t,ve);let e=ce(t.firestore,De),n=Ke(e),r=new hr(e);return T$(n,t._key).then(i=>new Xt(e,r,t._key,i,new ur(i!==null&&i.hasLocalMutations,!0),t.converter))}function YM(t){t=ce(t,ve);let e=ce(t.firestore,De);return fM(Ke(e),t._key,{source:"server"}).then(n=>aE(e,t,n))}function ZM(t){t=ce(t,it);let e=ce(t.firestore,De),n=Ke(e),r=new hr(e);return VM(t._query),pM(n,t._query).then(i=>new gn(e,r,t,i))}function XM(t){t=ce(t,it);let e=ce(t.firestore,De),n=Ke(e),r=new hr(e);return b$(n,t._query).then(i=>new gn(e,r,t,i))}function JM(t){t=ce(t,it);let e=ce(t.firestore,De),n=Ke(e),r=new hr(e);return pM(n,t._query,{source:"server"}).then(i=>new gn(e,r,t,i))}function iE(t,e,n){t=ce(t,ve);let r=ce(t.firestore,De),i=_f(t.converter,e,n);return jo(r,[yf(Xi(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ne.none())])}function sE(t,e,n,...r){t=ce(t,ve);let i=ce(t.firestore,De),s=Xi(i),o;return o=typeof(e=Ce(e))=="string"||e instanceof pn?eE(s,"updateDoc",t._key,e,n,r):Jw(s,"updateDoc",t._key,e),jo(i,[o.toMutation(t._key,Ne.exists(!0))])}function eR(t){return jo(ce(t.firestore,De),[new Yr(t._key,Ne.none())])}function tR(t,e){let n=ce(t.firestore,De),r=ac(t),i=_f(t.converter,e);return jo(n,[yf(Xi(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ne.exists(!1))]).then(()=>r)}function oE(t,...e){var n,r,i;t=Ce(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||uw(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(uw(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let u,c,l;if(t instanceof ve)c=ce(t.firestore,De),l=Oo(t._key.path),u={next:d=>{e[o]&&e[o](aE(c,t,d))},error:e[o+1],complete:e[o+2]};else{let d=ce(t,it);c=ce(d.firestore,De),l=d._query;let h=new hr(c);u={next:f=>{e[o]&&e[o](new gn(c,h,d,f))},error:e[o+1],complete:e[o+2]},VM(t._query)}return function(h,f,m,v){let _=new Mo(v),C=new Yu(f,_,m);return h.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return Fw(yield Ro(h),C)})),()=>{_.Na(),h.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return Vw(yield Ro(h),C)}))}}(Ke(c),l,a,u)}function nR(t,e){return S$(Ke(t=ce(t,De)),uw(e)?e:{next:e})}function jo(t,e){return function(r,i){let s=new Ge;return r.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return o$(yield Ww(r),i,s)})),s.promise}(Ke(t),e)}function aE(t,e,n){let r=n.docs.get(e._key),i=new hr(t);return new Xt(t,i,e._key,r,new ur(n.hasPendingWrites,n.fromCache),e.converter)}var P$={maxAttempts:5};var hf=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xi(e)}set(e,n,r){this._verifyNotCommitted();let i=Lr(e,this._firestore),s=_f(i.converter,n,r),o=yf(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ne.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=Lr(e,this._firestore),o;return o=typeof(n=Ce(n))=="string"||n instanceof pn?eE(this._dataReader,"WriteBatch.update",s._key,n,r,i):Jw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ne.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Lr(e,this._firestore);return this._mutations=this._mutations.concat(new Yr(n._key,Ne.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new w(g.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lr(t,e){if((t=Ce(t)).firestore!==e)throw new w(g.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ew=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Xi(n)}get(n){let r=Lr(n,this._firestore),i=new ww(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return P();let o=s[0];if(o.isFoundDocument())return new Qi(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Qi(this._firestore,i,r._key,null,r.converter);throw P()})}set(n,r,i){let s=Lr(n,this._firestore),o=_f(s.converter,r,i),a=yf(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){let o=Lr(n,this._firestore),a;return a=typeof(r=Ce(r))=="string"||r instanceof pn?eE(this._dataReader,"Transaction.update",o._key,r,i,s):Jw(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){let r=Lr(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Lr(e,this._firestore),r=new hr(this._firestore);return super.get(e).then(i=>new Xt(this._firestore,r,n._key,i._document,new ur(!1,!1),n.converter))}};function rR(t,e,n){t=ce(t,De);let r=Object.assign(Object.assign({},P$),n);return function(s){if(s.maxAttempts<1)throw new w(g.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let u=new Ge;return s.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){let c=yield I$(s);new iw(s.asyncQueue,c,a,o,u).run()})),u.promise}(Ke(t),i=>e(new Ew(t,i)),r)}function iR(){return new Ju("deleteField")}function sR(){return new hw("serverTimestamp")}function oR(...t){return new fw("arrayUnion",t)}function aR(...t){return new pw("arrayRemove",t)}function uR(t){return new gw("increment",t)}(function(e,n=!0){(function(i){Po=i})(VE),zo(new ti("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new De(new Av(r.getProvider("auth-internal")),new Nv(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new w(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zr(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gr(zS,"4.4.0",e),gr(zS,"4.4.0","esm2017")})();var O$="@firebase/firestore-compat",k$="0.3.23";function fE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new w("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function cR(){if(typeof Uint8Array>"u")throw new w("unimplemented","Uint8Arrays are not available in this environment.")}function lR(){if(!nx())throw new w("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wf=class t{constructor(e){this._delegate=e}static fromBase64String(e){return lR(),new t(Un.fromBase64String(e))}static fromUint8Array(e){return cR(),new t(Un.fromUint8Array(e))}toBase64(){return lR(),this._delegate.toBase64()}toUint8Array(){return cR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function uE(t){return F$(t,["next","error","complete"])}function F$(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var cE=class{enableIndexedDbPersistence(e,n){return EM(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return IM(e._delegate)}clearIndexedDbPersistence(e){return CM(e._delegate)}},Ef=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Yt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){yM(this._delegate,e,n,r)}enableNetwork(){return bM(this._delegate)}disableNetwork(){return SM(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Qw("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return TM(this._delegate)}onSnapshotsInSync(e){return nR(this._delegate,e)}get app(){if(!this._appCompat)throw new w("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $o(this,Yw(this._delegate,e))}catch(n){throw vt(n,"collection()","Firestore.collection()")}}doc(e){try{return new $n(this,ac(this._delegate,e))}catch(n){throw vt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rs(this,vM(this._delegate,e))}catch(n){throw vt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return rR(this._delegate,n=>e(new If(this,n)))}batch(){return Ke(this._delegate),new Df(new hf(this._delegate,e=>jo(this._delegate,e)))}loadBundle(e){return AM(this._delegate,e)}namedQuery(e){return xM(this._delegate,e).then(n=>n?new rs(this,n):null)}},Bo=class extends No{constructor(e){super(),this.firestore=e}convertBytes(e){return new wf(new Un(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return $n.forKey(n,this.firestore,null)}};function V$(t){qA(t)}var If=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Bo(e)}get(e){let n=es(e);return this._delegate.get(n).then(r=>new ts(this._firestore,new Xt(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=es(e);return r?(fE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=es(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=es(e);return this._delegate.delete(n),this}},Df=class{constructor(e){this._delegate=e}set(e,n,r){let i=es(e);return r?(fE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=es(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=es(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Uo=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new Br(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ns(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new Bo(e),n),i.set(n,s)),s}};Uo.INSTANCES=new WeakMap;var $n=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Bo(e)}static forPath(e,n,r){if(e.length%2!==0)throw new w("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new ve(n._delegate,r,new S(e)))}static forKey(e,n,r){return new t(n,new ve(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new $o(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $o(this.firestore,Yw(this._delegate,e))}catch(n){throw vt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof ve?Zw(this._delegate,e):!1}set(e,n){n=fE("DocumentReference.set",n);try{return n?iE(this._delegate,e,n):iE(this._delegate,e)}catch(r){throw vt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?sE(this._delegate,e):sE(this._delegate,e,n,...r)}catch(i){throw vt(i,"updateDoc()","DocumentReference.update()")}}delete(){return eR(this._delegate)}onSnapshot(...e){let n=dR(e),r=hR(e,i=>new ts(this.firestore,new Xt(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return oE(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=QM(this._delegate):e?.source==="server"?n=YM(this._delegate):n=KM(this._delegate),n.then(r=>new ts(this.firestore,new Xt(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Uo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function vt(t,e,n){return t.message=t.message.replace(e,n),t}function dR(t){for(let e of t)if(typeof e=="object"&&!uE(e))return e;return{}}function hR(t,e){var n,r;let i;return uE(t[0])?i=t[0]:uE(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ts=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new $n(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return rE(this._delegate,e._delegate)}},ns=class extends ts{data(e){let n=this._delegate.data(e);return this._delegate._converter||zA(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},rs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Bo(e)}where(e,n,r){try{return new t(this.firestore,pr(this._delegate,LM(e,n,r)))}catch(i){throw vt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,pr(this._delegate,jM(e,n)))}catch(r){throw vt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,pr(this._delegate,BM(e)))}catch(n){throw vt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,pr(this._delegate,UM(e)))}catch(n){throw vt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,pr(this._delegate,$M(...e)))}catch(n){throw vt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,pr(this._delegate,HM(...e)))}catch(n){throw vt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,pr(this._delegate,qM(...e)))}catch(n){throw vt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,pr(this._delegate,zM(...e)))}catch(n){throw vt(n,"endAt()","Query.endAt()")}}isEqual(e){return Xw(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=XM(this._delegate):e?.source==="server"?n=JM(this._delegate):n=ZM(this._delegate),n.then(r=>new uc(this.firestore,new gn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=dR(e),r=hR(e,i=>new uc(this.firestore,new gn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return oE(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Uo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},lE=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ns(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},uc=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ns(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new lE(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ns(this._firestore,r))})}isEqual(e){return rE(this._delegate,e._delegate)}},$o=class t extends rs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new $n(this.firestore,e):null}doc(e){try{return e===void 0?new $n(this.firestore,ac(this._delegate)):new $n(this.firestore,ac(this._delegate,e))}catch(n){throw vt(n,"doc()","CollectionReference.doc()")}}add(e){return tR(this._delegate,e).then(n=>new $n(this.firestore,n))}isEqual(e){return Zw(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Uo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function es(t){return ce(t,ve)}var dE=class t{constructor(...e){this._delegate=new pn(...e)}static documentId(){return new t(Ve.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof pn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var hE=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=sR();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=iR();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=oR(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=aR(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=uR(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var L$={Firestore:Ef,GeoPoint:Ki,Timestamp:be,Blob:wf,Transaction:If,WriteBatch:Df,DocumentReference:$n,DocumentSnapshot:ts,Query:rs,QueryDocumentSnapshot:ns,QuerySnapshot:uc,CollectionReference:$o,FieldPath:dE,FieldValue:hE,setLogLevel:V$,CACHE_SIZE_UNLIMITED:_M};function j$(t,e){t.INTERNAL.registerComponent(new ti("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},L$)))}function B$(t){j$(t,(e,n)=>new Ef(e,n,new cE)),t.registerVersion(O$,k$)}B$(_t);function U$(t,e=Qo){return new ne(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function fR(t,e){return U$(t,e)}function $$(t,e){return fR(t,e).pipe(oi(void 0),Zo(),$(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function mE(t,e){return fR(t,e).pipe($(n=>({payload:n,type:"query"})))}var Cf=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=vR(r,n);return new bf(i,s,this.afs)}snapshotChanges(){return $$(this.ref,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return this.snapshotChanges().pipe($(({payload:n})=>e.idField?he(R({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return oe(this.ref.get(e)).pipe(St)}};function Tf(t,e){return mE(t,e).pipe(oi(void 0),Zo(),$(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{let c=s.find(d=>d.doc.ref.isEqual(a.ref)),l=r?.payload.docs.find(d=>d.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&l&&JSON.stringify(l.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function pR(t,e,n){return Tf(t,n).pipe(si((r,i)=>H$(r,i.map(s=>s.payload),e),[]),cp(),$(r=>r.map(i=>({type:i.type,payload:i}))))}function H$(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=q$(t,r))}),t}function pE(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function q$(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return pE(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return pE(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pE(t,e.oldIndex,1);break}return t}function gR(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var bf=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=Tf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe($(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(oi(void 0),Zo(),Qe(([r,i])=>i.length>0||!r),$(([,r])=>r),St)}auditTrail(e){return this.stateChanges(e).pipe(si((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=gR(e);return pR(this.query,n,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return mE(this.query,this.afs.schedulers.outsideAngular).pipe($(n=>n.payload.docs.map(r=>e.idField?he(R({},r.data()),{[e.idField]:r.id}):r.data())),St)}get(e){return oe(this.query.get(e)).pipe(St)}add(e){return this.ref.add(e)}doc(e){return new Cf(this.ref.doc(e),this.afs)}},gE=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Tf(this.query,this.afs.schedulers.outsideAngular).pipe(St):Tf(this.query,this.afs.schedulers.outsideAngular).pipe($(n=>n.filter(r=>e.indexOf(r.type)>-1)),Qe(n=>n.length>0),St)}auditTrail(e){return this.stateChanges(e).pipe(si((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=gR(e);return pR(this.query,n,this.afs.schedulers.outsideAngular).pipe(St)}valueChanges(e={}){return mE(this.query,this.afs.schedulers.outsideAngular).pipe($(r=>r.payload.docs.map(i=>e.idField?R({[e.idField]:i.id},i.data()):i.data())),St)}get(e){return oe(this.query.get(e)).pipe(St)}},mR=new N("angularfire2.enableFirestorePersistence"),yR=new N("angularfire2.firestore.persistenceSettings"),z$=new N("angularfire2.firestore.settings"),G$=new N("angularfire2.firestore.use-emulator");function vR(t,e=n=>n){return{query:e(t),ref:t}}var cc=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,c,l,d,h,f,m,v,_,C,k){this.schedulers=u;let M=Ya(n,a,r),U=l;d&&Ry(M,a,h,m,v,_,f,C),[this.firestore,this.persistenceEnabled$]=Md(`${M.name}.firestore`,"AngularFirestore",M.name,()=>{let H=a.runOutsideAngular(()=>M.firestore());if(s&&H.settings(s),U&&H.useEmulator(...U),i&&!Ii(o)){let Y=()=>{try{return oe(H.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(Ie){return typeof console<"u"&&console.warn(Ie),L(!1)}};return[H,a.runOutsideAngular(Y)]}else return[H,L(!1)]},[s,U,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=vR(i,r),a=this.schedulers.ngZone.run(()=>s);return new bf(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new gE(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new Cf(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(T(Qs),T(Ys,8),T(mR,8),T(z$,8),T(ft),T(ie),T(Sd),T(yR,8),T(G$,8),T(Db,8),T(Ty,8),T(by,8),T(Sy,8),T(Ay,8),T(xy,8),T(My,8),T(bi,8))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),_R=(()=>{class t{constructor(){_t.registerVersion("angularfire",Ks.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:mR,useValue:!0},{provide:yR,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=Ue({providers:[cc]})}return t})();function W$(t,e){if(t&1&&(E(0,"tr",5)(1,"td",6),O(2),D(),E(3,"td",6),O(4),D(),E(5,"td",6),O(6),D(),E(7,"td",6),O(8),D()()),t&2){let n=e.$implicit;Tt(2),Fs(n.UserName),Tt(2),Fs(n.LastName),Tt(2),Fs(n.Email),Tt(2),Fs(n.Message)}}var ER=(()=>{let e=class e{constructor(r){this.firebase=r,this.mylist=[],this.getdata()}getdata(){this.firebase.collection("contactus").valueChanges().subscribe(r=>{this.mylist=r})}};e.\u0275fac=function(i){return new(i||e)(W(cc))},e.\u0275cmp=Tn({type:e,selectors:[["app-about"]],decls:16,vars:1,consts:[[1,"btn","btn-danger",3,"click"],[1,"table-responsive"],[1,"table","table-dark"],["scope","col"],["class","",4,"ngFor","ngForOf"],[1,""],["scope","row"]],template:function(i,s){i&1&&(E(0,"button",0),tt("click",function(){return s.getdata()}),O(1,"Get Data"),D(),E(2,"div",1)(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),O(7,"User Name"),D(),E(8,"th",3),O(9,"Last Name"),D(),E(10,"th",3),O(11,"Email"),D(),E(12,"th",3),O(13,"Message"),D()()(),E(14,"tbody"),am(15,W$,9,4,"tr",4),D()()()),i&2&&(Tt(15),an("ngForOf",s.mylist))},dependencies:[KC]});let t=e;return t})();var RR=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(W(bn),W(Ct))},e.\u0275dir=ke({type:e});let t=e;return t})(),vE=(()=>{let e=class e extends RR{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=ke({type:e,features:[on]});let t=e;return t})(),Pf=new N("NgValueAccessor");var K$={provide:Pf,useExisting:Xn(()=>Of),multi:!0};function Q$(){let t=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Y$=new N("CompositionEventMode"),Of=(()=>{let e=class e extends RR{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Q$())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(W(bn),W(Ct),W(Y$,8))},e.\u0275dir=ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&tt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ei([K$]),on]});let t=e;return t})();function Z$(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var _E=new N("NgValidators"),NR=new N("NgAsyncValidators");function X$(t){return Z$(t.value)?{required:!0}:null}function IR(t){return null}function PR(t){return t!=null}function OR(t){return wi(t)?oe(t):t}function kR(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function FR(t,e){return e.map(n=>n(t))}function J$(t){return!t.validate}function VR(t){return t.map(e=>J$(e)?e:n=>e.validate(n))}function eH(t){if(!t)return null;let e=t.filter(PR);return e.length==0?null:function(n){return kR(FR(n,e))}}function wE(t){return t!=null?eH(VR(t)):null}function tH(t){if(!t)return null;let e=t.filter(PR);return e.length==0?null:function(n){let r=FR(n,e).map(OR);return op(r).pipe($(kR))}}function EE(t){return t!=null?tH(VR(t)):null}function DR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nH(t){return t._rawValidators}function rH(t){return t._rawAsyncValidators}function yE(t){return t?Array.isArray(t)?t:[t]:[]}function Af(t,e){return Array.isArray(t)?t.includes(e):t===e}function CR(t,e){let n=yE(e);return yE(t).forEach(i=>{Af(n,i)||n.push(i)}),n}function TR(t,e){return yE(e).filter(n=>!Af(t,n))}var xf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},qo=class extends xf{get formDirective(){return null}get path(){return null}},fc=class extends xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},iH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QW=he(R({},iH),{"[class.ng-submitted]":"isSubmitted"}),LR=(()=>{let e=class e extends Mf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(fc,2))},e.\u0275dir=ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&zl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[on]});let t=e;return t})(),kf=(()=>{let e=class e extends Mf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(W(qo,10))},e.\u0275dir=ke({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&zl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[on]});let t=e;return t})();var lc="VALID",Sf="INVALID",Ho="PENDING",dc="DISABLED";function jR(t){return(Ff(t)?t.validators:t)||null}function sH(t){return Array.isArray(t)?wE(t):t||null}function BR(t,e){return(Ff(e)?e.asyncValidators:t)||null}function oH(t){return Array.isArray(t)?EE(t):t||null}function Ff(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function aH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")}function uH(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new F(1002,"")})}var Rf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===Sf}get pending(){return this.status==Ho}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TR(e,this._rawAsyncValidators))}hasValidator(e){return Af(this._rawValidators,e)}hasAsyncValidator(e){return Af(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ho,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable(he(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable(he(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===Ho)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ho,this._hasOwnPendingAsyncValidator=!0;let n=OR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?Sf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ho)?Ho:this._anyControlsHaveStatus(Sf)?Sf:lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ff(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oH(this._rawAsyncValidators)}},Nf=class extends Rf{constructor(e,n,r){super(jR(n),BR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uH(this,!0,e),Object.keys(e).forEach(r=>{aH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var IE=new N("CallSetDisabledState",{providedIn:"root",factory:()=>DE}),DE="always";function cH(t,e){return[...e.path,t]}function UR(t,e,n=DE){$R(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dH(t,e),fH(t,e),hH(t,e),lH(t,e)}function bR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $R(t,e){let n=nH(t);e.validator!==null?t.setValidators(DR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=rH(t);e.asyncValidator!==null?t.setAsyncValidators(DR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bR(e._rawValidators,i),bR(e._rawAsyncValidators,i)}function dH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HR(t,e)})}function hH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function pH(t,e){t==null,$R(t,e)}function gH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mH(t){return Object.getPrototypeOf(t.constructor)===vE}function yH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Of?n=s:mH(s)?r=s:i=s}),i||r||n||null}var _H={provide:qo,useExisting:Xn(()=>pc)},hc=(()=>Promise.resolve())(),pc=(()=>{let e=class e extends qo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new Nf({},wE(r),EE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){hc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),UR(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){hc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){hc.then(()=>{let i=this._findContainer(r.path),s=new Nf({});pH(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){hc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){hc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,yH(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(W(_E,10),W(NR,10),W(IE,8))},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&tt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ei([_H]),on]});let t=e;return t})();function SR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wH=class extends Rf{constructor(e=null,n,r){super(jR(n),BR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ff(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var EH={provide:fc,useExisting:Xn(()=>CE)},xR=(()=>Promise.resolve())(),CE=(()=>{let e=class e extends fc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new wH,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=vH(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),gH(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){UR(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){xR.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Sr(i);xR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?cH(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(W(qo,9),W(_E,10),W(NR,10),W(Pf,10),W(vi,8),W(IE,8))},e.\u0275dir=ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ei([EH]),on,Jn]});let t=e;return t})(),Vf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ke({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var IH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({});let t=e;return t})();var DH={provide:Pf,useExisting:Xn(()=>Lf),multi:!0};function qR(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function CH(t){return t.split(":")[0]}var Lf=(()=>{let e=class e extends vE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=qR(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=CH(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=ke({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&tt("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ei([DH]),on]});let t=e;return t})(),jf=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(qR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(W(Ct),W(bn),W(Lf,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),TH={provide:Pf,useExisting:Xn(()=>zR),multi:!0};function MR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bH(t){return t.split(":")[0]}var zR=(()=>{let e=class e extends vE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let u=0;u<a.length;u++){let c=a[u],l=this._getOptionValue(c.value);s.push(l)}}else{let a=i.options;for(let u=0;u<a.length;u++){let c=a[u];if(c.selected){let l=this._getOptionValue(c.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=bH(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=ke({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&tt("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ei([TH]),on]});let t=e;return t})(),Bf=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(MR(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(MR(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(W(Ct),W(bn),W(zR,9))},e.\u0275dir=ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var SH=(()=>{let e=class e{constructor(){this._validator=IR}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):IR,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ke({type:e,features:[Jn]});let t=e;return t})();var AH={provide:_E,useExisting:Xn(()=>TE),multi:!0};var TE=(()=>{let e=class e extends SH{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Sr,this.createValidator=r=>X$}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=ke({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&Ia("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ei([AH]),on]});let t=e;return t})();var xH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({imports:[IH]});let t=e;return t})();var GR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:IE,useValue:r.callSetDisabledState??DE}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({imports:[xH]});let t=e;return t})();var WR=(()=>{let e=class e{constructor(r){this.firebase=r}insertrecord(){let r="contactus";var i={UserName:this.username,LastName:this.lastname,Email:this.email,Message:this.message,Purpose:this.list};this.firebase.collection(r).add(i).then(s=>{alert("Data has been inserted to firebase")}).catch(s=>{console.log("Error Occured"+s)})}};e.\u0275fac=function(i){return new(i||e)(W(cc))},e.\u0275cmp=Tn({type:e,selectors:[["app-contact"]],decls:59,vars:5,consts:[[1,"container","py-4","my-5"],[1,"row"],[1,"col-lg-5","col-md-8"],[1,"search-form"],[1,"input-group"],["type","search","placeholder","Search here",1,"form-control","bg-transparent","shadow-none","rounded-0"],[1,"input-group-append"],["type","submit",1,"btn"],[1,"fas","fa-search"],[1,"col-md-10"],[1,"contact-form","bg-dark"],[1,"text-white","add-letter-space","mb-5"],[1,"col-md-6"],[1,"form-group","mb-5"],["for","firstName",1,"text-black-300"],["type","text","id","firstName","name","username","placeholder","Robert Lee","required","",1,"form-control","bg-transparent","rounded-0","border-bottom","shadow-none","pb-15","px-0",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","lastName",1,"text-black-300"],["type","text","id","lastName","name","lastname","placeholder","Anderson","required","",1,"form-control","bg-transparent","rounded-0","border-bottom","shadow-none","pb-15","px-0",3,"ngModel","ngModelChange"],["for","email",1,"text-black-300"],["name","email","type","email","id","email","placeholder","kevin.jones@mail.com","required","",1,"form-control","bg-transparent","rounded-0","border-bottom","shadow-none","pb-15","px-0",3,"ngModel","ngModelChange"],[1,"text-black-300"],["name","list",1,"d-block","w-100",3,"ngModel","ngModelChange"],["value","Personal Proposal"],["value","Business Purpose"],["value","Want to say hello"],[1,"col-md-12"],["for","message",1,"text-black-300"],["name","message","placeholder","Lorem Ipsum is simply dummy text of the printing and...","required","",1,"form-control","bg-transparent","rounded-0","border-bottom","shadow-none","pb-15","px-0",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-sm","btn-primary",3,"click"],["src","images/arrow-right.png","alt",""]],template:function(i,s){i&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4),z(5,"input",5),E(6,"div",6)(7,"button",7),z(8,"span",8),D()()()()()(),E(9,"div",1)(10,"div",9)(11,"div",10)(12,"h1",11),O(13,"Lets Contact Us"),D(),E(14,"form")(15,"div",1)(16,"div",12)(17,"div",13)(18,"label",14),O(19,"Your First Name"),D(),E(20,"input",15),tt("ngModelChange",function(a){return s.username=a}),D(),E(21,"p",16),O(22,"Your first-name is required!"),D()()(),E(23,"div",12)(24,"div",13)(25,"label",17),O(26,"Your Last Name"),D(),E(27,"input",18),tt("ngModelChange",function(a){return s.lastname=a}),D(),E(28,"p",16),O(29,"Your last-name is required!"),D()()(),E(30,"div",12)(31,"div",13)(32,"label",19),O(33,"E-Mail Address"),D(),E(34,"input",20),tt("ngModelChange",function(a){return s.email=a}),D(),E(35,"p",16),O(36,"Your email is required!"),D()()(),E(37,"div",12)(38,"div",13)(39,"label",21),O(40,"What Is This About?"),D(),E(41,"select",22),tt("ngModelChange",function(a){return s.list=a}),E(42,"option",23),O(43,"Personal Proposal"),D(),E(44,"option",24),O(45,"Business Purpose"),D(),E(46,"option",25),O(47,"Want to say hello"),D()()()(),E(48,"div",26)(49,"div",13)(50,"label",27),O(51,"Your message"),D(),E(52,"textarea",28),tt("ngModelChange",function(a){return s.message=a}),D(),E(53,"p",16),O(54,"Message is required!"),D()()(),E(55,"div",26)(56,"button",29),tt("click",function(){return s.insertrecord()}),O(57,"Send Now "),z(58,"img",30),D()()()()()()()()),i&2&&(Tt(20),an("ngModel",s.username),Tt(7),an("ngModel",s.lastname),Tt(7),an("ngModel",s.email),Tt(7),an("ngModel",s.list),Tt(11),an("ngModel",s.message))},dependencies:[Vf,jf,Bf,Of,Lf,LR,kf,TE,CE,pc]});let t=e;return t})();var KR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tn({type:e,selectors:[["app-home"]],decls:138,vars:0,consts:[[1,"row","justify-content-between"],[1,"col-lg-7"],[1,"card","post-item","bg-transparent","border-0","mb-5"],["href","post-details.html"],["src","./assets/images/post/post-lg/01.png","alt","",1,"card-img-top","rounded-0"],[1,"card-body","px-0"],[1,"card-title"],["href","post-details.html",1,"text-white","opacity-75-onHover"],[1,"post-meta","mt-3"],[1,"d-inline-block","mr-3"],[1,"fas","fa-clock","text-primary"],["href","#",1,"ml-1"],[1,"d-inline-block"],[1,"fas","fa-list-alt","text-primary"],[1,"card-text","my-4"],["href","post-details.html",1,"btn","btn-primary"],["src","./assets/images/arrow-right.png","alt",""],["src","./assets/images/post/post-lg/02.png","alt","",1,"card-img-top","rounded-0"],["src","./assets/images/post/post-lg/03.png","alt","",1,"card-img-top","rounded-0"],[1,"col-lg-4","col-md-5"],[1,"widget","text-center"],["src","./assets/images/author-sm.png","alt","",1,"author-thumb-sm","rounded-circle","d-block","mx-auto"],[1,"widget-title","text-white","d-inline-block","mt-4"],[1,"mt-4"],[1,"list-inline","mt-3"],[1,"list-inline-item"],["href","#!",1,"text-white","text-primary-onHover","p-2"],[1,"fab","fa-twitter"],[1,"fab","fa-facebook-f"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin-in"],[1,"widget","bg-dark","p-4","text-center"],["action","#"],[1,"form-group"],["type","email","placeholder","Your Email Address",1,"form-control","bg-transparent","rounded-0","my-4"],[1,"btn","btn-primary"],[1,"widget"],[1,"mb-5","text-center"],[1,"widget-title","text-white","d-inline-block"],["src","./assets/images/post/post-sm/01.png","alt","",1,"card-img-top","rounded-0"],[1,"post-meta","mt-3","mb-4"],["src","./assets/images/post/post-sm/02.png","alt","",1,"card-img-top","rounded-0"]],template:function(i,s){i&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),z(4,"img",4),D(),E(5,"div",5)(6,"h2",6)(7,"a",7),O(8,"Id reprehrenderit mollit in tempor naid incididunt cupidatat consectetura"),D()(),E(9,"ul",8)(10,"li",9),z(11,"span",10),E(12,"a",11),O(13,"24 April, 2016"),D()(),E(14,"li",12),z(15,"span",13),E(16,"a",11),O(17,"Photography"),D()()(),E(18,"p",14),O(19,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tincidunt leo mi, viverra urna. Arcu velit risus, condimentum ut vulputate cursus porttitor turpis in. Diam egestas nec massa, habitasse. Tincidt dui."),D(),E(20,"a",15),O(21,"Read More "),z(22,"img",16),D()()(),E(23,"div",2)(24,"a",3),z(25,"img",17),D(),E(26,"div",5)(27,"h2",6)(28,"a",7),O(29,"Excepteur ado Do minim duis laborum Fugiat ea labore qui veniam labore"),D()(),E(30,"ul",8)(31,"li",9),z(32,"span",10),E(33,"a",11),O(34,"24 April, 2016"),D()(),E(35,"li",12),z(36,"span",13),E(37,"a",11),O(38,"Photography"),D()()(),E(39,"p",14),O(40,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tincidunt leo mi, viverra urna. Arcu velit risus, condimentum ut vulputate cursus porttitor turpis in. Diam egestas nec massa, habitasse. Tincidt dui."),D(),E(41,"a",15),O(42,"Read More "),z(43,"img",16),D()()(),E(44,"div",2)(45,"a",3),z(46,"img",18),D(),E(47,"div",5)(48,"h2",6)(49,"a",7),O(50,"Aliquip excepteur cilludm irure laboris sint ea qui ex amet id. Ex nulla etno"),D()(),E(51,"ul",8)(52,"li",9),z(53,"span",10),E(54,"a",11),O(55,"24 April, 2016"),D()(),E(56,"li",12),z(57,"span",13),E(58,"a",11),O(59,"Photography"),D()()(),E(60,"p",14),O(61,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Tincidunt leo mi, viverra urna. Arcu velit risus, condimentum ut vulputate cursus porttitor turpis in. Diam egestas nec massa, habitasse. Tincidt dui."),D(),E(62,"a",15),O(63,"Read More "),z(64,"img",16),D()()()(),E(65,"div",19)(66,"div",20),z(67,"img",21),E(68,"h2",22),O(69,"About Me"),D(),E(70,"p",23),O(71,"Lorem ipsum dolor sit coectetur adiing elit. Tincidunfywjt leo mi, viearra urna. Arcu ve isus, condimentum ut vulpate cursus por turpis."),D(),E(72,"ul",24)(73,"li",25)(74,"a",26),z(75,"span",27),D()(),E(76,"li",25)(77,"a",26),z(78,"span",28),D()(),E(79,"li",25)(80,"a",26),z(81,"span",29),D()(),E(82,"li",25)(83,"a",26),z(84,"span",30),D()()()(),E(85,"div",31)(86,"h2",22),O(87,"Subscribe Blog"),D(),E(88,"p",23),O(89,"Lorem ipsum dolor sit coectetur elit. Tincidu nfywjt leo mi, urna. Arcu ve isus, condimentum ut vulpate cursus por."),D(),E(90,"form",32)(91,"div",33),z(92,"input",34),E(93,"button",35),O(94,"Subscribe Now "),z(95,"img",16),D()()()(),E(96,"div",36)(97,"div",37)(98,"h2",38),O(99,"Featured Posts"),D()(),E(100,"div",2)(101,"a",3),z(102,"img",39),D(),E(103,"div",5)(104,"h2",6)(105,"a",7),O(106,"Excepteur ado Do minimal duis laborum Fugiat ea"),D()(),E(107,"ul",40)(108,"li",9),z(109,"span",10),E(110,"a",11),O(111,"24 April, 2016"),D()(),E(112,"li",12),z(113,"span",13),E(114,"a",11),O(115,"Photography"),D()()(),E(116,"a",15),O(117,"Read More "),z(118,"img",16),D()()(),E(119,"div",2)(120,"a",3),z(121,"img",41),D(),E(122,"div",5)(123,"h2",6)(124,"a",7),O(125,"Excepteur ado Do minimal duis laborum Fugiat ea"),D()(),E(126,"ul",40)(127,"li",9),z(128,"span",10),E(129,"a",11),O(130,"24 April, 2016"),D()(),E(131,"li",12),z(132,"span",13),E(133,"a",11),O(134,"Photography"),D()()(),E(135,"a",15),O(136,"Read More "),z(137,"img",16),D()()()()()())},dependencies:[Vf,kf,pc]});let t=e;return t})();var MH=[{path:"",component:KR},{path:"contact",component:WR},{path:"about",component:ER}],QR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=Ue({imports:[my.forRoot(MH),my]});let t=e;return t})();var RH=()=>({exact:!0}),YR=(()=>{let e=class e{constructor(){this.title="portfolio"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Tn({type:e,selectors:[["app-root"]],decls:63,vars:2,consts:[[1,"d-flex"],[1,"preloader-wrapper"],[1,"preloader-inner"],[1,"spinner-border","text-red"],[1,"sidenav","position-sticky","d-flex","flex-column","justify-content-between"],["href","index.html",1,"logo"],["src","./assets/images/logo.png","alt",""],[1,"navbar","navbar-dark","my-4","p-0","font-primary"],[1,"navbar-nav","w-100"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","",1,"nav-link","text-white","px-0","pt-0"],["routerLinkActive","active",1,"nav-item"],["routerLink","about",1,"nav-link","text-white","px-0"],["routerLink","contact",1,"nav-link","text-white","px-0"],[1,"nav-item","accordion"],["id","drop-menu",1,"drop-menu","collapse"],["href","index-2.html",1,"d-block"],["href","category.html",1,"d-block"],["href","post-details.html",1,"d-block"],["href","privacy.html",1,"d-block"],["href","#!","role","button","data-toggle","collapse","data-target","#drop-menu","aria-expanded","false","aria-controls","drop-menu",1,"nav-link","text-white"],[1,"nav-item","mt-3"],["id","pick-lang",1,"custom-select","bg-transparent","rounded-0","text-white","shadow-none"],["selected","","value","en"],["value","fr"],[1,"list-inline","nml-2"],[1,"list-inline-item"],["href","#!",1,"text-white","text-red-onHover","pr-2"],[1,"fab","fa-twitter"],["href","#!",1,"text-white","text-red-onHover","p-2"],[1,"fab","fa-facebook-f"],[1,"fab","fa-instagram"],[1,"fab","fa-linkedin-in"],[1,"main-content"],[1,"mobile-nav","pt-4"],[1,"container"],[1,"row","align-items-center"],[1,"col-6"],["href","index.html"],["src","images/logo.png","alt",""],[1,"col-6","text-right"],[1,"nav-toggle","bg-transparent","border","text-white"],[1,"fas","fa-bars"],[1,"nav-toggle-overlay"],[1,"container","pt-4","mt-5"]],template:function(i,s){i&1&&(E(0,"section",0)(1,"div",1)(2,"div",2),z(3,"div",3),D()(),E(4,"aside")(5,"div",4)(6,"a",5),z(7,"img",6),D(),E(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),O(12,"Home"),D()(),E(13,"li",11)(14,"a",12),O(15,"See Record"),D()(),E(16,"li",11)(17,"a",13),O(18,"Contact"),D()(),E(19,"li",14)(20,"div",15)(21,"a",16),O(22,"Home 2"),D(),E(23,"a",17),O(24,"Category"),D(),E(25,"a",18),O(26,"Post Details"),D(),E(27,"a",19),O(28,"Privacy & Policy"),D()(),E(29,"a",20),O(30,"Pages"),D()(),E(31,"li",21)(32,"select",22)(33,"option",23),O(34,"English"),D(),E(35,"option",24),O(36,"French"),D()()()()(),E(37,"ul",25)(38,"li",26)(39,"a",27),z(40,"span",28),D()(),E(41,"li",26)(42,"a",29),z(43,"span",30),D()(),E(44,"li",26)(45,"a",29),z(46,"span",31),D()(),E(47,"li",26)(48,"a",29),z(49,"span",32),D()()()()(),E(50,"div",33)(51,"header",34)(52,"div",35)(53,"div",36)(54,"div",37)(55,"a",38),z(56,"img",39),D()(),E(57,"div",40)(58,"button",41),z(59,"span",42),D()()()()(),z(60,"div",43),E(61,"div",44),z(62,"router-outlet"),D()()()),i&2&&(Tt(10),an("routerLinkActiveOptions",DC(1,RH)))},dependencies:[cy,Id,rb,jf,Bf]});let t=e;return t})();var ZR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=$e({type:e,bootstrap:[YR]}),e.\u0275inj=Ue({providers:[mT()],imports:[gT,QR,Ib.initializeApp({projectId:"dbtest2211b-d2500",appId:"1:435927507555:web:f271627d51e614191cce56",storageBucket:"dbtest2211b-d2500.appspot.com",apiKey:"AIzaSyDpCDVSWYrh_5QxKcJTW2xkvj4OgWoW8e8",authDomain:"dbtest2211b-d2500.firebaseapp.com",messagingSenderId:"435927507555",measurementId:"G-K2MN4RS5RW"}),_R,GR]});let t=e;return t})();pT().bootstrapModule(ZR).catch(t=>console.error(t));
